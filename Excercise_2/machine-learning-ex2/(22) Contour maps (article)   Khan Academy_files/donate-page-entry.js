(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["./javascript/app-shell-package/app-entry~./javascript/donate-package/donate-page-entry"],{"/8KV":function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("toAj");r("5DmW");r("07d7");r("5s+n");r("UxlC");r("FZtP");r("3bBZ");var n=r("skGw");var s=u(r("x+rD"));var o=u(r("Q8Wn"));var f=i(r("qtQA"));var a=r("VkAz");function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}function c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){l(t,e,r[e])})}return t}function l(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function p(e,t){return m(e)||h(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(e,t){var r=[];var n=true;var o=false;var a=undefined;try{for(var i=e[Symbol.iterator](),u;!(n=(u=i.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){o=true;a=e}finally{try{if(!n&&i["return"]!=null)i["return"]()}finally{if(o)throw a}}return r}function m(e){if(Array.isArray(e))return e}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function b(e,t,r){if(t)y(e.prototype,t);if(r)y(e,r);return e}var i18n=r("HEOz");var g={month:"M",year:"Y"};function O(e){return"".concat(o.default.origin).concat(e)}var w=function(){function l(e){var t=e.amountText,r=e.donorName,n=e.honoree,o=e.interval,a=e.returnPath,i=e.markConversion,u=e.href;v(this,l);this._amountText=t;this._donorName=r;this._honoree=n;this._interval=o;this._returnPath=a||"/donate";this._markConversion=i;this._href=u}b(l,[{key:"start",value:function e(t){var c=this;this._ensurePhantomUser(t).then(function(e){var t=p(e,2),r=t[0],n=t[1];var o=f.parse(c._amountText);var a=o/100;var i=c._interval==="once"?"one-time":"monthly";setTimeout(function(){c.redirectToPayPal(r,n)},2e3);var u=[];if(a&&!isNaN(a)&&a<=f.MAX_LOGGED_DONATION_VALUE){var l=c.markConversion(a,i,n);u.push(l);u.push(s.default.sendToGA("event","Donation","PayPal",i,a));if(window.fbq){window.fbq("track","Purchase",{content_name:"Donation",content_category:"PayPal",content_type:i,value:a.toFixed(2),currency:"USD"})}}Promise.all(u).then(function(){c.redirectToPayPal(r,n)})})}},{key:"markConversion",value:function e(t,r,n){return this._markConversion({id:"donation_banner_option_clicked",extra:{page:this._href,amount:t,frequency:r,source:"PayPal",kaid:n}})}},{key:"redirectToPayPal",value:function e(t,r){(0,a.redirect)("https://www.paypal.com/cgi-bin/webscr","GET",c({business:"JBBC7SGTYUGK2",lc:"US",no_note:"1",no_shipping:"2",currency_code:"USD",bn:"PP-SubscriptionsBF:btn_subscribeCC_LG.gif:NonHosted",return:O(this._returnPath),custom:this._getCustomParam(t,r)},this._getIntervalParams()))}},{key:"_getCustomParam",value:function e(t,r){return JSON.stringify({donor:{name:this._donorName,userId:t,kaid:r},honoree:{name:this._honoree.name,email:this._honoree.email},source:"/donate"})}},{key:"_getIntervalParams",value:function e(){var t=f.clean(this._amountText).replace("$","");if(this._interval==="once"){return{cmd:"_donations",item_name:i18n._("One-time donation to Khan Academy"),src:"0",amount:t}}else{return{cmd:"_xclick-subscriptions",item_name:i18n._("Recurring donation to Khan Academy"),src:"1",t3:g[this._interval],p3:"1",a3:t}}}},{key:"_ensurePhantomUser",value:function e(t){if(t){return Promise.resolve([t.get("userId"),t.get("kaid")])}return(0,n.khanFetch)("/api/internal/user/force_phantom",{method:"POST"}).then(function(e){return e.json()}).then(function(e){return[e.user_id,e.kaid]})}}]);return l}();e.exports=function(e,t){return(0,a.startRequest)(w,e,t)}},"0LFD":function(e,t,r){"use strict";r("ma9I");function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var i=function(){function r(e,t){n(this,r);this.type=e;this.features=t}a(r,[{key:"and",value:function e(t){return new r(this.type,this.features.concat([t]))}},{key:"breakAtWidth",value:function e(t){return[this.and("(max-width: ".concat(t-1,"px)")),this.and("(min-width: ".concat(t,"px)"))]}},{key:"intersect",value:function e(t){if(this.type!==t.type){throw Error("cannot AND media queries of different media type")}return new r(this.type,this.features.concat(t.features))}},{key:"toString",value:function e(){return"@media ".concat(this.type," and ").concat(this.features.join(" and "))}}]);return r}();function u(e,t){return new i(e,t)}var l=u("screen",[]);e.exports={query:u,screen:l}},"0czd":function(e,t,r){"use strict";r("ma9I");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=u(r("q1tI"));var o=r("mR6N");var a=r("jrjT");var i;function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}function f(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return m(e,t)}function v(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var y=function(e){h(t,e);function t(){l(this,t);return f(this,d(t).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=(0,o.css)(b.formRedesign);return n.createElement("form",{className:"".concat(this.props.className," ").concat(t),onSubmit:function e(t){return t.preventDefault()}},this.props.children)}}]);return t}(n.Component);t.default=y;v(y,"defaultProps",{className:""});var b=o.StyleSheet.create({formRedesign:(i={fontSize:14},v(i,a.isDesktop,{boxSizing:"border-box",display:"flex",flexDirection:"column",maxWidth:"600px",margin:"0 5%"}),v(i,a.isMobile,{width:"100%",paddingBottom:15}),i)})},"0pLT":function(e,t,r){"use strict";r("ma9I");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=i(r("q1tI"));var l=r("mR6N");var c=r("Vxy9");var s=r("JimW");var f=r("JasB");var n=r("jrjT");var o=a(r("uEGL"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function v(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)O(e,t)}function O(e,t){O=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return O(e,t)}var w=function(e){g(t,e);function t(){d(this,t);return v(this,b(t).apply(this,arguments))}m(t,[{key:"render",value:function e(){var t=this.props,r=t.className,n=t.label,o=t.rightLabel,a=t.note,i=t.children;return u.createElement("div",{className:"".concat((0,l.css)(P.field)," ").concat(r||"")},u.createElement("header",{className:(0,l.css)(P.fieldHeader)},u.createElement(s.View,{style:P.labelRow},u.createElement(c.LabelMedium,null,n),u.createElement(f.Spring,null),o&&u.createElement(c.LabelSmall,{style:[P.labelRight]},o)),u.createElement("div",{className:(0,l.css)(P.fieldNote)},a)),i)}}]);return t}(u.Component);t.default=w;var P=l.StyleSheet.create({field:{display:"block",position:"relative",marginBottom:n.formPaddingPx},fieldHeader:{display:"block",marginBottom:n.formPaddingPx},fieldNote:{float:"right"},labelRow:p({flexDirection:"row"},o.default.smOrSmaller,{flexDirection:"column"}),labelRight:p({fontSize:13,alignSelf:"flex-end"},o.default.smOrSmaller,{display:"block",marginTop:8,alignSelf:"flex-start"})})},AzYH:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var f=l(r("q1tI"));var p=r("Vxy9");var n=u(r("Pwnf"));var o=u(r("6OHE"));var a=r("jrjT");var i=r("jrjT");function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function d(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);return e}function h(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return v(e)}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)b(e,t)}function b(e,t){b=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return b(e,t)}function g(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var O=r("mR6N"),w=O.StyleSheet,P=O.css;var j=function(e){y(a,e);function a(){var e;var t;c(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=h(this,(e=m(a)).call.apply(e,[this].concat(n)));g(v(t),"handleChange",function(e){if(e.target instanceof HTMLInputElement){if(t.props.context==="edit-page"){t.props.onChange(e.target.value,4)}else{t.props.onChange(e.target.value)}}});return t}d(a,[{key:"render",value:function e(){var i=this;var t=this.props,r=t.options,u=t.noValueChosen,l=t.currentGiftAmountValue,c=t.error;var s=this.props.context==="edit-page";return f.createElement("ul",{className:P(s?x.horizontalChooserEditPage:x.horizontalChooser)},r.map(function(e,t){var r=e.value===i.props.value;var n=e.value===l;var o=P(s?x.choiceEditPage:x.choiceRedesignBB,s?r&&x.disabledOption:r&&x.chosenButtonRedesignBB,s&&n&&u&&x.disabledOption,s&&c&&x.errorButton);var a="".concat(e.className||""," ")+o;return f.createElement("li",{className:a,key:"".concat(e.value)+t},f.createElement(p.LabelLarge,{style:[x.choiceLabel],tag:"label"},f.createElement("input",{checked:r,className:"sr-only",name:i.props.name,onChange:i.handleChange,type:"radio",value:e.value,disabled:s&&n&&u}),e.label))}))}}]);return a}(f.Component);t.default=j;var x=w.create({horizontalChooser:g({lineHeight:0,display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr 1fr",gridGap:8},i.isNarrowMobile,{gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"auto auto"}),horizontalChooserEditPage:g({lineHeight:0,display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridGap:8},i.isNarrowMobile,{gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"auto auto"}),choiceLabel:{cursor:"pointer",display:"flex",flexDirection:"column",lineHeight:1,margin:0,padding:0,alignSelf:"center",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},choiceRedesignBB:{boxSizing:"border-box",display:"inline-block",height:40,overflow:"hidden",textAlign:"center",border:"1px solid ".concat(o.default.colors.white),borderRadius:4,color:o.default.colors.white,backgroundColor:a.newBannerColors.blue,justifyContent:"center"},chosenButtonRedesignBB:{fontFamily:"inherit",backgroundColor:o.default.colors.white,color:a.bannerColors.lightBlue},choiceEditPage:{boxSizing:"border-box",display:"inline-block",height:40,overflow:"hidden",textAlign:"center",border:"1px solid ".concat(n.default.offBlack16),borderRadius:4,color:a.bannerColors.lightBlue,backgroundColor:"#F0F5FF",justifyContent:"center"},disabledOption:{color:"lightgrey",cursor:"not-allowed",backgroundColor:"#F0F5FF"},errorButton:{boxSizing:"border-box",display:"inline-block",height:40,overflow:"hidden",textAlign:"center",border:"1px solid lightgrey",borderRadius:4,color:a.bannerColors.lightBlue,backgroundColor:"#fcf2f1",justifyContent:"center"}})},IS2M:function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(r("q1tI"));var o=r("mR6N");function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)u(e.prototype,t);if(r)u(e,r);return e}function c(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return f(e)}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return s(e)}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return d(e,t)}function h(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var m=r("6OHE");var v=r("hDgO");var i18n=r("HEOz");var y=function(e){p(a,e);function a(){var e;var t;i(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=c(this,(e=s(a)).call.apply(e,[this].concat(n)));h(f(t),"renderErrorMessage",function(){return i18n.$_("%(message)s We weren't able to process your donation.",{message:t.props.error.message||""})});h(f(t),"renderApology",function(){if(t.props.error.type==="card_error"){return i18n._("Sorry for the inconvenience, please try again once the issue is fixed. Thank you!")}else{return i18n._("The problem should have been temporary, so please try again. Thank you!")}});return t}l(a,[{key:"render",value:function e(){return n.createElement("div",{className:(0,o.css)(b.errorMessage)},n.createElement("p",{className:(0,o.css)(b.errorMessageParagraph)},this.renderErrorMessage()),n.createElement("p",{className:(0,o.css)(b.errorMessageParagraph)},this.renderApology()))}}]);return a}(n.Component);t.default=y;var b=o.StyleSheet.create({errorMessage:{background:v.orange,color:m.colors.white,overflow:"hidden",padding:"22px 0",textAlign:"center"},errorMessageParagraph:{fontSize:18,margin:"10px 0"}})},NI88:function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("yq1k");r("4mDm");r("2B1R");r("NBAS");r("07d7");r("JTJg");r("hByQ");r("3bBZ");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=p(r("q1tI"));var o=r("mR6N");var i=f(r("wa3X"));var a=f(r("0LFD"));var u=r("jrjT");var l=f(r("yIZX"));var c=f(r("4Du/"));var s;function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function v(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)O(e,t)}function O(e,t){O=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return O(e,t)}function w(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function P(e,t){return C(e)||x(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function x(e,t){var r=[];var n=true;var o=false;var a=undefined;try{for(var i=e[Symbol.iterator](),u;!(n=(u=i.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){o=true;a=e}finally{try{if(!n&&i["return"]!=null)i["return"]()}finally{if(o)throw a}}return r}function C(e){if(Array.isArray(e))return e}var k=a.default.screen.breakAtWidth(400),E=P(k,2),T=E[0],S=E[1];var A=function(e){g(a,e);function a(){var e;var t;d(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=v(this,(e=y(a)).call.apply(e,[this].concat(n)));w(b(t),"handleCaptchaFailure",function(){if(!t.props.location.search.includes("unexpected_error")){window.location="/donate?error[type]=unexpected_error"}});return t}m(a,[{key:"render",value:function e(){var t=this.props.choices;return n.createElement(l.default,{onFailure:this.handleCaptchaFailure},function(r){return n.createElement("ul",{className:(0,o.css)(N.methodChoiceList)},t.map(function(e){var t=e.id==="stripe"?function(){return e.onSubmit(r)}:e.onSubmit;return n.createElement("li",{className:(0,o.css)(N.methodChoiceListItem),key:e.id},n.createElement("div",{className:(0,o.css)(N.methodButton)},n.createElement(i.default,{kind:"secondary",style:N.redesignBannerButton,onClick:t,disabled:!e.buttonEnabled},e.label)))}))})}}]);return a}(n.Component);var N=o.StyleSheet.create({methodChoiceList:w({alignItems:"center",display:"flex",justifyContent:"center",marginTop:28,textAlign:"center"},T,{flexDirection:"column"}),methodChoiceListItem:(s={display:"flex",flexBasis:u.buttonBaseWidth,flexGrow:0,flexShrink:1,listStyle:"none"},w(s,S,{":not(:last-of-type)":{marginRight:20}}),w(s,T,{flexBasis:40,width:u.buttonBaseWidth,":not(:last-of-type)":{marginBottom:20}}),s),methodBannerLabel:{color:u.bannerColors.lightBlue},methodButton:{width:"100%",display:"flex",flexDirection:"column"},redesignBannerButton:{background:u.bannerColors.lightBlue,color:"white"}});var D=(0,c.default)(A);t.default=D},Q57O:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("+2oP");r("3KgV");r("5DmW");r("NBAS");r("07d7");r("JfAA");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=f(r("q1tI"));var n=s(r("lTCR"));var o=r("mR6N");var i=s(r("nKvR"));var u=s(r("rHzH"));var l=r("JimW");var c=s(r("nVHT"));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function h(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);return e}function m(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return y(e)}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return g(e,t)}function O(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function w(){var t=P(["\n    query getActiveDonationAsk {\n        activeDonationAsk {\n            id\n            copy\n            graphic\n            headline\n            defaultDonationFrequency\n            oneTimeDonationAmounts\n            recurringDonationAmounts\n        }\n    }\n"]);w=function e(){return t};return t}function P(e,t){if(!t){t=e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=(0,n.default)(w());var x=function(e){b(o,e);function o(){var e;var a;p(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}a=m(this,(e=v(o)).call.apply(e,[this].concat(r)));O(y(a),"toLabelValue",function(e){return{label:"$"+e,amountText:e.toString()}});O(y(a),"mapActiveDonationAskToDonationParameters",function(e){var t=e.defaultDonationFrequency==="ONE_TIME"?"once":"month";var r=e.oneTimeDonationAmounts.map(a.toLabelValue);var n=e.recurringDonationAmounts.map(a.toLabelValue);var o=r[1].amountText;if(t==="month"){o=n[1].amountText}return{chosenAmountText:o,missionContent:{headline:e.headline,copy:e.copy},askStringOnetime:r,askStringMonthly:n,imageRelativeUrl:e.graphic,interval:t}});return a}h(o,[{key:"render",value:function e(){var t=this.props,r=t.data,n=t.loading;if(n){return a.createElement(l.View,{style:C.spinnerWrapper},a.createElement(c.default,null))}else if(r&&r.activeDonationAsk){var o=this.mapActiveDonationAskToDonationParameters(r.activeDonationAsk);return a.createElement(u.default,{donateParameters:o})}else{return a.createElement(u.default,null)}}}]);return o}(a.Component);var C=o.StyleSheet.create({spinnerWrapper:{margin:"3rem auto"}});var k=(0,i.default)({options:function e(){return{query:j,fetchPolicy:"cache-first"}}})(x);t.default=k},VkAz:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");var i=u(r("q1tI"));var a=u(r("i8i4"));var n=o(r("17x9"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}function f(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return d(e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return m(e,t)}function v(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var y=function(e){h(a,e);function a(){var e;var t;l(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=f(this,(e=p(a)).call.apply(e,[this].concat(n)));v(d(t),"submit",function(){t.refs.form.submit()});return t}s(a,[{key:"render",value:function e(){var t=this;return i.createElement("form",{action:this.props.action,method:this.props.method,ref:"form"},Object.keys(this.props.params).map(function(e){return i.createElement("input",{key:e,name:e,type:"hidden",value:t.props.params[e]})}))}}]);return a}(i.Component);v(y,"propTypes",{action:n.default.string,method:n.default.oneOf(["GET","POST"]),params:n.default.any});function b(e,t,r){var n=document.createElement("div");document.body.appendChild(n);var o=a.render(i.createElement(y,{action:e,method:t,params:r}),n);o.submit()}function g(e,t,r){var n=new e(t);n.start(r);return n}e.exports={redirect:b,startRequest:g}},Xhod:function(e,t,r){"use strict";r("zKZe");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=b(r("q1tI"));var a=r("mR6N");var n=y(r("Pwnf"));var i=y(r("QCGh"));var u=r("jrjT");var l=y(r("jxv4"));var c=y(r("0czd"));var s=y(r("zGoT"));var f=y(r("nkpz"));var p=y(r("jPFN"));var d=y(r("NI88"));var h=y(r("fDir"));var m,v;function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function g(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return O.apply(this,arguments)}function w(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function j(e,t,r){if(t)P(e.prototype,t);if(r)P(e,r);return e}function x(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return C(e)}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)T(e,t)}function T(e,t){T=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return T(e,t)}var i18n=r("HEOz");var S=function(e){E(t,e);function t(){w(this,t);return x(this,k(t).apply(this,arguments))}j(t,[{key:"render",value:function e(){var t=[N.disclaimerLink];var r=o.createElement(i.default,{style:t,href:"/about/tos",target:"_blank"},i18n._("terms of service"));var n=o.createElement(i.default,{style:t,href:"/about/privacy-policy",target:"_blank"},i18n._("privacy policy"));return o.createElement("div",{className:(0,a.css)(N.disclaimerMessage)},i18n.$_("By donating, you agree to our %(tos)s and %(privacy)s.",{tos:r,privacy:n}))}}]);return t}(o.Component);var A=function(e){E(t,e);function t(){w(this,t);return x(this,k(t).apply(this,arguments))}j(t,[{key:"render",value:function e(){var t=this.props,r=t.textOnly,n=t.electedToCoverProcessingFee;return o.createElement("div",{className:(0,a.css)(N.outerWrapperRedesignBlueTest)},o.createElement("div",{className:(0,a.css)(N.leftSide),key:"test1"},o.createElement(l.default,{className:(0,a.css)(N.firstSection)+" mission",imageRelativeUrl:this.props.imageRelativeUrl,missionContent:this.props.missionContent,isTextOnly:r})),o.createElement("div",{className:(0,a.css)(N.rightSide),key:"test2"},o.createElement(c.default,null,o.createElement(s.default,{key:"interval",interval:this.props.interval,onChange:this.props.onIntervalChange,touched:this.props.touched}),o.createElement(p.default,O({key:"amount"},this.props.amount,{interval:this.props.interval})),o.createElement(h.default,{key:"feeCheckbox",interval:this.props.interval,processingFeeDonationAmount:this.props.processingFeeDonationAmount,toggleProcessingFee:this.props.toggleProcessingFee,electedToCoverProcessingFee:n}),o.createElement(f.default,{donorName:this.props.donorName,honoree:this.props.honoree,onDonorNameChange:this.props.onDonorNameChange,onHonoreeChange:this.props.onHonoreeChange}),o.createElement(d.default,{choices:this.props.methodChoices}),o.createElement(S,null))))}}]);return t}(o.Component);t.default=A;var N=a.StyleSheet.create({outerWrapperRedesignBlueTest:g({display:"flex",flexDirection:"row",justifyContent:"center",background:u.newBannerColors.blue,color:"#fff"},u.isMobile,{flexDirection:"column"}),leftSide:(m={display:"flex",flex:1,padding:"2% 0"},g(m,u.isDesktop,{justifyContent:"flex-end"}),g(m,u.isMobile,{padding:"6% 6% 2% 6%"}),m),rightSide:g({display:"flex",flex:1,justifyContent:"flex-start",padding:"2% 0"},u.isMobile,{padding:"6%"}),firstSection:(v={},g(v,u.isDesktop,{paddingLeft:20,paddingRight:26}),g(v,u.isMobile,{borderBottom:"2px solid ".concat(u.legacyColors.lightBlue),marginBottom:15,paddingBottom:15}),v),disclaimerMessage:{marginTop:u.formPaddingPx},disclaimerLink:{borderBottom:"1px solid ".concat(n.default.offWhite),textDecoration:"none",":hover":{textDecoration:"none"}}})},fDir:function(e,t,r){"use strict";r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(r("q1tI"));var u=r("z8VS");function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function c(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return s(e)}function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return d(e,t)}var i18n=r("HEOz");var h=r("mR6N"),m=h.StyleSheet,v=h.css;var y=function(e){p(t,e);function t(){o(this,t);return c(this,f(t).apply(this,arguments))}l(t,[{key:"render",value:function e(){var t=this.props.processingFeeDonationAmount;var r=t==="on"?i18n.$_("Yes, I'll generously add on to cover the transaction fees so Khan Academy can keep 100% of my donation."):i18n.$_("Yes, I'll generously add %(processingFeeDonationAmount)s to cover the transaction fees so Khan Academy can keep 100% of my donation.",{processingFeeDonationAmount:t});var n=t==="on"?i18n.$_("Yes, I'll generously add on each month to cover the transaction fees so Khan Academy can keep 100% of my donation."):i18n.$_("Yes, I'll generously add %(processingFeeDonationAmount)s each month to cover the transaction fees so Khan Academy can keep 100% of my donation.",{processingFeeDonationAmount:t});var o=this.props.interval==="month"?n:r;var a=v(b.redesignWrapper);return i.createElement("div",{className:a},i.createElement(u.Checkbox,{style:b.input,id:"cc-processing",checked:this.props.electedToCoverProcessingFee,onChange:this.props.toggleProcessingFee}),i.createElement("label",{id:"cc-label",htmlFor:"cc-processing",className:v(b.label)},o))}}]);return t}(i.Component);t.default=y;var b=m.create({redesignWrapper:{margin:"12px 0px 24px 0",display:"flex"},label:{fontSize:16},input:{height:24,width:16,borderRadius:4,paddingRight:12,marginRight:12,marginLeft:0,paddingTop:4}})},ipFp:function(e,t,r){"use strict";r("5DmW");r("07d7");r("5s+n");var f=a(r("wINb"));var p=a(r("ChhH"));var d=a(r("r+gr"));var i=a(r("x+rD"));var u=o(r("qtQA"));var n=r("skGw");var l=r("VkAz");function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}var i18n=r("HEOz");function v(e){if(e==="month"){return i18n._("Give %(amount)s monthly",{amount:"{{amount}}"})}else{return i18n._("Give %(amount)s",{amount:"{{amount}}"})}}var s=function(){function s(e){var t=this;var r=e.amountText,n=e.donorName,o=e.honoree,a=e.interval,i=e.returnPath,u=e.href,l=e.doCaptcha,c=e.markConversion;h(this,s);this._amountText=r;this._donorName=n;this._honoree=o;this._interval=a;this._returnPath=i||"/donate";this._markConversion=c;this._href=u;if(!l){window.alert(i18n._("Something went wrong. Please email donate@khanacademy.org"));throw new Error("doCaptcha function missing")}this._doCaptcha=l;this._handler=(0,p.default)("https://checkout.stripe.com/checkout.js","StripeCheckout").then(function(e){return e.configure({key:d.default.stripePublicKey,description:i18n._("Donation"),image:(0,f.default)("/images/donate/handtree.new.png"),name:i18n._("Khan Academy"),token:t._handleSuccess.bind(t),zipCode:true,billingAddress:true})})}m(s,[{key:"start",value:function e(t){var n=this;this._ensurePhantomUser(t).then(function(e){var t=u.parse(n._amountText);var r=t/100;if(r&&!isNaN(r)&&r<=u.MAX_LOGGED_DONATION_VALUE){n._markConversion({id:"donation_banner_option_clicked",extra:{page:n._href,amount:r,frequency:n._interval==="once"?"one-time":"monthly",source:"Credit Card",kaid:e}})}n._handler.then(function(e){return e.open({amount:t,panelLabel:v(n._interval)})})})}},{key:"stop",value:function e(){this._handler.then(function(e){return e.close()})}},{key:"_handleSuccess",value:function e(t){var r=this;var n=u.parse(this._amountText);var o=n/100;var a=this._interval==="once"?"one-time":"monthly";i.default.sendToGA("event","Donation","StripeCaptchaStarted",a,o);this.stop();this._doCaptcha(function(e){if(window.fbq){window.fbq("track","Purchase",{content_name:"Donation",content_category:"Stripe",content_type:a,value:o,currency:"USD"})}i.default.sendToGA("event","Donation","Stripe",a,o);(0,l.redirect)("/donate/stripe","POST",{amount:r._amountText,name:r._donorName,recurring:r._interval==="once"?null:"on",interval:r._interval==="once"?null:r._interval,stripe_token:t.id,tribute:r._honoree.selected?"on":null,tribute_email:r._honoree.email,tribute_name:r._honoree.name,email:t.email,return_path:r._returnPath,captcha_token:e})})}},{key:"_ensurePhantomUser",value:function e(t){if(t){return Promise.resolve(t.get("kaid"))}else{return(0,n.khanFetch)("/api/internal/user/force_phantom",{method:"POST"}).then(function(e){return e.json()}).then(function(e){return e.kaid})}}}]);return s}();e.exports=function(e,t){return(0,l.startRequest)(s,e,t)}},jPFN:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("2B1R");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=o(r("q1tI"));var l=n(r("0pLT"));var c=n(r("AzYH"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){y(t,e,r[e])})}return t}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);return e}function p(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return h(e)}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return v(e,t)}function y(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var b=r("mR6N"),g=b.StyleSheet,O=b.css;var w=r("6OHE");var i18n=r("HEOz");var P=r("hDgO");var j=function(e){m(a,e);function a(){var e;var r;i(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}r=p(this,(e=d(a)).call.apply(e,[this].concat(n)));y(h(r),"state",{customAmountFocused:false});y(h(r),"choseCustom",function(){return r.props.explicitlyChoseCustomAmount||!r.props.predefinedAmounts.some(function(e){var t=e.amountText;return t===r.props.chosenAmountText})});y(h(r),"handleChoice",function(e){if(e===""){r.props.onChooseCustomAmount(r.props.customAmountText)}else{r.props.onChoosePredefinedAmount(e)}});y(h(r),"handleCustomAmountBlur",function(){r.setState({customAmountFocused:false})});y(h(r),"handleCustomAmountChange",function(e){r.props.onChooseCustomAmount(e.target.value)});y(h(r),"handleCustomAmountFocus",function(){r.setState({customAmountFocused:true})});y(h(r),"renderCustomOptionLabel",function(){if(r.choseCustom()){return u.createElement("input",{autoFocus:r.props.explicitlyChoseCustomAmount,className:O(x.customChoice),onBlur:r.handleCustomAmountBlur,onChange:r.handleCustomAmountChange,onFocus:r.handleCustomAmountFocus,type:"text",value:r.props.customAmountText})}else{return i18n._("Other")}});y(h(r),"shouldShowCustomAmountError",function(){return!r.props.customAmountIsValid&&r.choseCustom()&&!r.state.customAmountFocused});return r}f(a,[{key:"render",value:function e(){var t=this.props.predefinedAmounts.map(function(e){return{label:e.label,value:e.amountText}});var r={className:O(x.customChoiceLabel,this.shouldShowCustomAmountError()&&x.invalidCustomChoiceLabel),label:this.renderCustomOptionLabel(),value:""};t.push(r);var n=this.choseCustom()?"":this.props.chosenAmountText;var o=this.props.interval;var a=i18n._("Select amount");var i=O(x.extraSpacingTopAndBottom);return u.createElement(l.default,{className:i,label:a,key:o},u.createElement(c.default,{name:"amount",onChange:this.handleChoice,options:t,value:n}))}}]);return a}(u.Component);t.default=j;var x=g.create({extraSpacingTopAndBottom:{marginBottom:12,marginTop:15},customChoice:a({},w.typography.bodyXsmallBold,{boxSizing:"border-box",lineHeight:1,margin:-3,padding:0,textAlign:"inherit",width:"75%"}),customChoiceLabel:{transition:"background 0.25s"},invalidCustomChoiceLabel:{background:P.red}})},jrjT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isSmallDesktop=t.isNarrowMobile=t.is768OrLess=t.formComponentRadiusPx=t.buttonBaseWidth=t.semiTransparent=t.newBannerColors=t.bannerColors=t.legacyColors=t.isDesktop=t.isMobile=t.formPaddingPx=void 0;var n=o(r("0LFD"));function o(e){return e&&e.__esModule?e:{default:e}}var a=12;t.formPaddingPx=a;var i="@media screen and (max-width: 1023px)";t.isMobile=i;var u="@media screen and (min-width: 1023.5px)";t.isDesktop=u;var l={blue:"#2d5a74",lightBlue:"rgba(255, 255, 255, 0.15)"};t.legacyColors=l;var c={blue:"#011a47",lightBlue:"#1865f2"};t.bannerColors=c;var s={blue:"#0A2A66"};t.newBannerColors=s;var f="rgba(255, 255, 255, 0.15)";t.semiTransparent=f;var p="100%";t.buttonBaseWidth=p;var d=4;t.formComponentRadiusPx=d;var h=n.default.screen.and("(max-width: 768px)");t.is768OrLess=h;var m=n.default.screen.and("(max-width: 550px)");t.isNarrowMobile=m;var v=n.default.screen.and("(max-width: 1067px)");t.isSmallDesktop=v},jxv4:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=p(r("q1tI"));var u=r("mR6N");var l=f(r("wINb"));var n=f(r("6OHE"));var o=r("jrjT");var a,c,s;function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){P(t,e,r[e])})}return t}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function v(e,t,r){if(t)m(e.prototype,t);if(r)m(e,r);return e}function y(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return w(e,t)}function P(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var j=function(e){O(t,e);function t(){h(this,t);return y(this,g(t).apply(this,arguments))}v(t,[{key:"render",value:function e(){var t=this.props,r=t.imageRelativeUrl,n=t.className,o=t.missionContent,a=t.isTextOnly;return i.createElement("div",{className:a?(0,u.css)(C.missionWrapperTextOnly):(0,u.css)(C.missionWrapper)},i.createElement("div",{className:"".concat((0,u.css)(C.mission)," ").concat(n)},i.createElement("div",{className:a?(0,u.css)(C.missionTextBlockTextOnly):(0,u.css)(C.missionTextBlock)},i.createElement("div",null,i.createElement("p",{className:(0,u.css)(C.missionText)+" "+(0,u.css)(x.headingFont),dangerouslySetInnerHTML:{__html:o.headline}}),i.createElement("p",{className:(0,u.css)(C.missionText)+" "+(a?(0,u.css)(x.smallFontTextOnly):(0,u.css)(x.smallFont)),dangerouslySetInnerHTML:{__html:o.copy}}),r&&i.createElement("img",{alt:i18n._("Donate today!"),className:(0,u.css)(C.missionSalImage),src:(0,l.default)(r)})))))}}]);return t}(i.Component);t.default=j;P(j,"defaultProps",{className:""});var x=u.StyleSheet.create({largeFont:P({fontSize:"20px"},o.isNarrowMobile,{fontSize:"15px",fontWeight:"bold"}),largeFontBold:P({fontSize:"20px",fontWeight:"bold"},o.isNarrowMobile,{fontSize:"15px"}),smallFont:P({fontSize:16,lineHeight:"22px"},o.is768OrLess,{fontSize:16}),smallFontTextOnly:P({fontSize:24,lineHeight:"34px",paddingTop:8},o.is768OrLess,{lineHeight:"22px",fontSize:16}),headingFont:(a={fontFamily:"Source Serif Pro",fontSize:25,fontWeight:600},P(a,o.isSmallDesktop,{fontSize:31}),P(a,o.isNarrowMobile,d({},n.default.typography.conceptHeadingMobile)),a)});var C=u.StyleSheet.create({missionWrapper:P({display:"flex",marginRight:"5%"},o.isMobile,{marginRight:0}),mission:(c={alignItems:"flex-start",display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-around",marginBottom:"auto"},P(c,o.isDesktop,{boxSizing:"border-box",height:"100%"}),P(c,o.isMobile,{marginLeft:"auto",marginRight:"auto",paddingBottom:15,width:"100%",flexDirection:"column-reverse !important"}),P(c,o.isNarrowMobile,{flexDirection:"column-reverse !important"}),c),missionSalImage:P({display:"flex",maxWidth:393,margin:"0 auto"},o.isMobile,{display:"none"}),missionText:(s={textAlign:"left",marginBottom:8,":last-of-type":{marginBottom:0}},P(s,o.isDesktop,{fontSize:"1.5rem",marginLeft:"auto",marginRight:0,marginTop:0}),P(s,o.isMobile,{fontSize:"13px",marginTop:0}),s),missionTextBlock:P({flexShrink:1,maxWidth:"100%",marginTop:16},o.isDesktop,{maxWidth:556}),missionWrapperTextOnly:P({display:"flex"},o.isDesktop,{marginRight:"10%"}),missionTextBlockTextOnly:P({flexShrink:1,height:"100%",maxWidth:"100%",marginTop:16},o.isDesktop,{maxWidth:556,width:"90%",alignItems:"center",paddingBottom:"10%",display:"flex"})})},mC3M:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=c(r("q1tI"));var u=r("Vxy9");var n=l(r("6OHE"));var o=r("jrjT");var a=r("jrjT");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);return e}function d(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return m(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return y(e,t)}function b(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var g=r("mR6N"),O=g.StyleSheet,w=g.css;var P=function(e){v(a,e);function a(){var e;var t;s(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=d(this,(e=h(a)).call.apply(e,[this].concat(n)));b(m(t),"handleChange",function(e){if(e.target instanceof HTMLInputElement){t.props.onChange(e.target.value)}});return t}p(a,[{key:"render",value:function e(){var a=this;return i.createElement("ul",{className:w(j.horizontalChooser)},this.props.options.map(function(e,t){var r=e.value===a.props.value;var n=w(j.choiceRedesignBB,r&&j.chosenButtonRedesignBB);var o="".concat(e.className||""," ")+n;return i.createElement("li",{className:o,key:e.value},i.createElement(u.LabelLarge,{style:[j.choiceLabel],tag:"label"},i.createElement("input",{checked:r,className:"sr-only",name:a.props.name,onChange:a.handleChange,type:"radio",value:e.value}),e.label))}))}}]);return a}(i.Component);t.default=P;var j=O.create({horizontalChooser:b({lineHeight:0,display:"flex",flexWrap:"wrap",width:280,justifyContent:"space-between"},a.isNarrowMobile,{width:"100%"}),choiceLabel:{cursor:"pointer",display:"flex",flexDirection:"column",lineHeight:1,margin:0,padding:0,alignSelf:"center",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},choiceRedesignBB:{boxSizing:"border-box",display:"inline-block",height:40,overflow:"hidden",textAlign:"center",border:"1px solid ".concat(n.default.colors.white),borderRadius:4,marginRight:8,flex:1,color:n.default.colors.white,backgroundColor:o.newBannerColors.blue,justifyContent:"center",":last-child":{marginRight:0}},chosenButtonRedesignBB:{fontFamily:"inherit",flex:1,backgroundColor:n.default.colors.white,color:o.bannerColors.lightBlue}})},nkpz:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(r("q1tI"));var u=r("mR6N");var l=o(r("0pLT"));var n=r("jrjT");function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){b(t,e,r[e])})}return t}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);return e}function d(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return m(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return y(e,t)}function b(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var g=r("6OHE");var i18n=r("HEOz");var O=function(e){v(a,e);function a(){var e;var n;s(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++){r[o]=arguments[o]}n=d(this,(e=h(a)).call.apply(e,[this].concat(r)));b(m(n),"handleDonorNameChange",function(e){n.props.onDonorNameChange(e.target.value)});b(m(n),"handleHonoreeEmailChange",function(e){n.props.onHonoreeChange(c({},n.props.honoree,{email:e.target.value}))});b(m(n),"handleHonoreeNameChange",function(e){n.props.onHonoreeChange(c({},n.props.honoree,{name:e.target.value}))});b(m(n),"selectHonoree",function(){n.props.onHonoreeChange(c({},n.props.honoree,{selected:true}))});b(m(n),"deselectHonoree",function(){n.props.onHonoreeChange(c({},n.props.honoree,{selected:false}))});b(m(n),"renderHonoreeFields",function(){if(n.props.honoree.selected){var e=i.createElement("a",{className:(0,u.css)(w.deselectHonoreeLink),href:"javascript:void(0)",onClick:n.deselectHonoree},i.createElement("span",{className:(0,u.css)(w.deselectHonoreeLongText)},i18n._("Never mind  this gift isn't in honor of another person")),i.createElement("span",{className:(0,u.css)(w.deselectHonoreeShortText)},i18n._("Never mind")));var t=i.createElement("span",{className:(0,u.css)(w.honoreeEmailNote)},i18n._("We will notify your honoree of your gift"));var r=(0,u.css)(w.textFieldRedesign);return i.createElement("div",null,i.createElement("label",null,i.createElement(l.default,{label:i18n._("Honoree's name"),note:e},i.createElement("input",{className:r,onChange:n.handleHonoreeNameChange,type:"text",value:n.props.honoree.name}))),i.createElement("label",null,i.createElement(l.default,{label:i18n._("Honoree's email (optional)"),note:t},i.createElement("input",{className:r,onChange:n.handleHonoreeEmailChange,type:"text",value:n.props.honoree.email}))))}else{return i.createElement("a",{className:(0,u.css)(w.selectHonoreeLink),href:"javascript:void(0)",onClick:n.selectHonoree},i18n._(" Click here to give in honor of another person"))}});return n}p(a,[{key:"render",value:function e(){var t=(0,u.css)(w.textFieldRedesign);var r=i18n._("Name");return i.createElement("div",null,i.createElement("label",null,i.createElement(l.default,{label:r},i.createElement("input",{className:t,onChange:this.handleDonorNameChange,type:"text",value:this.props.donorName}))),this.renderHonoreeFields())}}]);return a}(i.Component);t.default=O;var w=u.StyleSheet.create({deselectHonoreeLink:{color:"inherit"},deselectHonoreeLongText:{"@media screen and (max-width: 599px)":{display:"none"}},deselectHonoreeShortText:{"@media screen and (min-width: 600px)":{display:"none"}},selectHonoreeLink:{color:"inherit",display:"block",fontSize:13,lineHeight:"27px",marginBottom:n.formPaddingPx,marginTop:-10,textDecoration:"none"},honoreeEmailNote:{"@media screen and (max-width: 511px)":{display:"none"}},textFieldRedesign:c({},g.typography.bodyXsmallBold,{backgroundColor:g.colors.white,border:"1px solid gray",borderRadius:n.formComponentRadiusPx,boxSizing:"border-box",color:g.colors.black,lineHeight:1,margin:0,padding:12,width:"100%"})})},qtQA:function(e,t,r){"use strict";r("ma9I");r("toAj");r("Rm1S");r("UxlC");r("EnZy");Object.defineProperty(t,"__esModule",{value:true});t.commafy=i;t.parse=u;t.format=l;t.clean=c;t.CC_PROCESSING_FEE_PERCENTAGE=t.MAX_LOGGED_DONATION_VALUE=void 0;var n=1e3;t.MAX_LOGGED_DONATION_VALUE=n;var o=.025;t.CC_PROCESSING_FEE_PERCENTAGE=o;function a(e){return e.split("").reverse().join("")}function i(e){if(typeof e!=="number"||e!==e||!isFinite(e)){throw new Error("Expected ".concat(e," to be a finite number"))}var t=a(String(e)).match(/.{1,3}/g);if(!t){throw new Error("Could not parse number of dollars: ".concat(e))}return a(t.join(","))}function u(e){var t=String(e).replace("$","").replace(/(?:,| |, )(\d\d\d)(?=\.|,|$)/g,"$1");var r=Number(t)||0;return Math.round(r*100)}function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"forInput";if(t==="forInput"){if(e===0){return""}else{return"$".concat((e/100).toFixed(2))}}else if(t==="forHumans"){var r=i(Math.floor(e/100));var n=e%100;if(n>0){if(n<10){return"$".concat(r,".0").concat(n)}else{return"$".concat(r,".").concat(n)}}else{return"$".concat(r)}}throw new Error('Expected style to be "forInput" or "forHumans". It was '.concat(t,"."))}function c(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;return this.format(this.parse(e),t)}},rHzH:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("fbCW");r("x0AG");r("2B1R");r("toAj");r("zKZe");r("5DmW");r("NBAS");r("07d7");r("JfAA");r("EnZy");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var y=h(r("q1tI"));var n=r("Pk2J");var a=d(r("Q8Wn"));var i=d(r("ChhH"));var u=h(r("qtQA"));var b=d(r("Xhod"));var g=d(r("IS2M"));var o=d(r("4Du/"));var l=d(r("cfQQ"));var c=d(r("/8KV"));var s=d(r("ipFp"));var f=r("O6wL");var p=r("bHum");function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){E(t,e,r[e])})}return t}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function w(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}function P(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return x(e)}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return j(e)}function x(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)k(e,t)}function k(e,t){k=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return k(e,t)}function E(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var T=100;var S=function(e){C(o,e);function o(){var e;var i;m(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}i=P(this,(e=j(o)).call.apply(e,[this].concat(r)));E(x(i),"state",{missionContent:{headline:i18n._("Help us do more"),copy:i18n._("We'll get right to the point: we're "+"asking you to help support Khan Academy. We're a "+"nonprofit that relies on support from people like "+"you. <b> If everyone reading this gives "+"$10 monthly, Khan Academy can continue "+"to thrive for years. </b> "+"Please help keep Khan Academy free, for anyone, "+"anywhere forever.")},askStringOnetime:[{amountText:"25",label:i18n._("$25")},{amountText:"50",label:i18n._("$50")},{amountText:"75",label:i18n._("$75")},{amountText:"100",label:i18n._("$100")},{amountText:"250",label:i18n._("$250")}],askStringMonthly:[{amountText:"10",label:i18n._("$10")},{amountText:"20",label:i18n._("$20")},{amountText:"30",label:i18n._("$30")},{amountText:"40",label:i18n._("$40")},{amountText:"50",label:i18n._("$50")}],imageRelativeUrl:"/images/donate/donation-illustration-earth.svg",explicitlyChoseCustomAmount:false,touched:false,methodChoices:[{id:"stripe",label:i18n._("Give by credit card"),onSubmit:function e(t){return(0,s.default)(t,i.props.profile)}},{id:"paypal",label:i18n._("Give with PayPal"),onSubmit:function e(t){return(0,c.default)(t,i.props.profile)}}],error:null,interval:"once",customAmountText:null,chosenAmountText:"5",coverProcessingFee:false,donorName:"",honoree:{name:"",email:"",selected:false}});E(x(i),"parseError",function(e){if(e["error[type]"]){return{type:e["error[type]"],message:e["error[message]"]}}else{return null}});E(x(i),"triggerResizeEvent",function(){setTimeout(function(){return window.dispatchEvent(new Event("resize"),0)})});E(x(i),"getCustomAmountText",function(){var e=i.state;var t=e.customAmountText,r=e.chosenAmountText;if(t===null){return i.getAskStringForInterval(e.interval,e).find(function(e){return e.amountText===r})?"":r}else{return t}});E(x(i),"handleCustomAmount",function(e){i.setState({customAmountText:e,chosenAmountText:e,explicitlyChoseCustomAmount:true,touched:true})});E(x(i),"handleDonorName",function(e){i.setState({donorName:e,touched:true})});E(x(i),"handleHonoree",function(e){i.setState({honoree:e,touched:true})});E(x(i),"getAskStringForInterval",function(e,t){return e==="month"?t.askStringMonthly:t.askStringOnetime});E(x(i),"getAskStringIndex",function(){var t=i.state;return i.getAskStringForInterval(t.interval,t).findIndex(function(e){return e.amountText===t.chosenAmountText})});E(x(i),"handleInterval",function(e){var t=i.getAskStringIndex();if(!i.state.explicitlyChoseCustomAmount&&t!==-1){var r=i.getAskStringForInterval(e,i.state);var n=r[t].amountText;i.handlePredefinedAmount(n)}i.setState({interval:e,touched:true})});E(x(i),"handleProcessingFee",function(){var e=i.state;var t=e.chosenAmountText;var r=i.getCustomAmountText();var n={label:"on",amount:"0"};var o="0";if(e.explicitlyChoseCustomAmount&&i.amountTextIsValid(r)){o=r}else if(!e.explicitlyChoseCustomAmount&&i.amountTextIsValid(t)){o=t}if(o!=="0"){var a=(parseFloat(o)*u.CC_PROCESSING_FEE_PERCENTAGE).toFixed(2);n.label=u.clean(a,"forHumans");n.amount=a}return n});E(x(i),"getTotalAmount",function(){var e=i.state,t=e.coverProcessingFee,r=e.chosenAmountText;if(t){var n=parseFloat(r);var o=parseFloat(i.handleProcessingFee());return(n+o).toFixed(2)}return r});E(x(i),"toggleProcessingFee",function(){if(!i.state.coverProcessingFee){i.props.markConversion({id:"donation_banner_cc_processing_checkbox_on"})}i.setState({coverProcessingFee:!i.state.coverProcessingFee})});E(x(i),"handlePredefinedAmount",function(e){i.setState({chosenAmountText:e,explicitlyChoseCustomAmount:false,touched:true})});return i}w(o,[{key:"componentDidMount",value:function e(){this.triggerResizeEvent();(0,i.default)("https://checkout.stripe.com/checkout.js","StripeCheckout");this.setAllOverrides()}},{key:"componentDidUpdate",value:function e(t,r){if(this.state.honoree.selected!==r.honoree.selected){this.triggerResizeEvent()}}},{key:"amountTextIsValid",value:function e(t){return u.parse(t)>=T}},{key:"_parseBase64AskString",value:function e(t){if(!t){return null}var r=atob(t).split(",").map(function(e){return parseInt(e,10)});if(!r.every(function(e){return!isNaN(e)})||r.length!==5){console.warn("".concat(t," is not a valid ask string"));return null}return r.map(function(e){return{amountText:String(e),label:u.format(e*100,"forHumans")}})}},{key:"_setAskStringFromQueryParams",value:function e(t){var r=this.props.location;var n=r.queryParams;var o={};Object.assign(o,t);var a=this._parseBase64AskString(n.a);if(a){o.askStringMonthly=a}var i=this._parseBase64AskString(n.ao);if(i){o.askStringOnetime=i}if(a||i){if(a&&!i){o.interval="month"}else if(i&&!a){o.interval="once"}o.chosenAmountText=this.getAskStringForInterval(o.interval,o)[1].amountText}return o}},{key:"_getPropsOverrides",value:function e(){var t=this.props.donateParameters;var r={};if(a.default.language==="en"&&t){Object.assign(r,{missionContent:t.missionContent,imageRelativeUrl:t.imageRelativeUrl,askStringOnetime:t.askStringOnetime,askStringMonthly:t.askStringMonthly,chosenAmountText:t.chosenAmountText,interval:t.interval})}return r}},{key:"_getQueryParamOverrides",value:function e(t){var r=this.props.location;var n=r.queryParams;var o={};Object.assign(o,t);if(n.recurring){o.interval=n.recurring==="1"?"month":"once"}Object.assign(o,this._setAskStringFromQueryParams(o));if(n.amount){var a=n.amount&&Number(n.amount).toString();o.chosenAmountText=a||this.getAskStringForInterval(o.interval,o)[1].amountText}var i=this.parseError(n);if(i){o.error=this.parseError(n)}return o}},{key:"setAllOverrides",value:function e(){var t={};if(a.default.language==="en"){Object.assign(t,{askStringOnetime:[{amountText:"5",label:i18n._("$5")},{amountText:"10",label:i18n._("$10")},{amountText:"25",label:i18n._("$25")},{amountText:"50",label:i18n._("$50")},{amountText:"100",label:i18n._("$100")}],askStringMonthly:[{amountText:"3",label:i18n._("$3")},{amountText:"5",label:i18n._("$5")},{amountText:"10",label:i18n._("$10")},{amountText:"15",label:i18n._("$15")},{amountText:"20",label:i18n._("$20")}],missionContent:{headline:this.state.missionContent.headline,copy:i18n._("Well get right to the point. With the coronavirus (COVID-19) "+"creating mass school closings, demand for Khan Academy has "+"spiked. Please help us meet this demand.  Even a <b>gift of $5 "+"dollars</b> would make a big difference. Were a nonprofit that "+"relies on support from people like you.  Thank you!")}})}Object.assign(t,this._getPropsOverrides());Object.assign(t,this._getQueryParamOverrides(t));this.setState(t)}},{key:"render",value:function e(){var n=this;var t=this.state,o=t.interval,r=t.chosenAmountText,a=t.explicitlyChoseCustomAmount,i=t.methodChoices,u=t.donorName,l=t.honoree,c=t.error,s=t.imageRelativeUrl,f=t.missionContent,p=t.touched,d=t.coverProcessingFee;var h={chosenAmountText:r,customAmountText:this.getCustomAmountText(),customAmountIsValid:this.amountTextIsValid(this.getCustomAmountText()),explicitlyChoseCustomAmount:a,onChooseCustomAmount:this.handleCustomAmount,onChoosePredefinedAmount:this.handlePredefinedAmount,predefinedAmounts:this.getAskStringForInterval(o,this.state),interval:o};var m=this.amountTextIsValid(r);var v=i.map(function(r){var e=function e(t){r.onSubmit({amountText:n.getTotalAmount(),donorName:u,honoree:l,interval:o,returnPath:"/donate/thanks",href:n.props.location.href,doCaptcha:t,markConversion:n.props.markConversion})};return O({},r,{buttonEnabled:m,onSubmit:e})});return y.createElement("div",null,c&&y.createElement(g.default,{error:c}),y.createElement(b.default,{amount:h,donorName:u,honoree:l,imageRelativeUrl:s,interval:o,methodChoices:v,missionContent:f,onDonorNameChange:this.handleDonorName,onHonoreeChange:this.handleHonoree,onIntervalChange:this.handleInterval,toggleProcessingFee:this.toggleProcessingFee,processingFeeDonationAmount:this.handleProcessingFee().label,touched:p,electedToCoverProcessingFee:d,textOnly:!s}))}}]);return o}(y.Component);var A=function e(t){return{activity:f.enums.Activity.OTHER_ACTIVITY,product:f.enums.Product.OTHER_PRODUCT}};var N=(0,n.compose)(o.default,l.default,(0,p.withConversionContext)(A))(S);t.default=N},yIZX:function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");r("inlA");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=c(r("q1tI"));var u=r("JimW");var n=a(r("Q8Wn"));var l=r("yhei");var o=a(r("ChhH"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);return e}function d(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return m(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return y(e,t)}function b(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var g="6LcBWI8UAAAAAG20rTcLIidQLQnAsjLfPRlxfa4N";var O=n.default.hostname.toLowerCase().endsWith(".khanacademy.org");var w=n.default.IS_DEV_SERVER;var P=O||w;var j=function(e){v(a,e);function a(){var e;var r;s(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}r=d(this,(e=h(a)).call.apply(e,[this].concat(n)));b(m(r),"state",{recaptcha:!P?{execute:function e(){return true}}:null,andThen:null,error:false});b(m(r),"_callbackName",r._callbackName||"__ka_captcha_cb_".concat(Math.random()));b(m(r),"_errorCallbackName",r._errorCallbackName||"__ka_captcha_cb_error_".concat(Math.random()));b(m(r),"onSubmit",function(e){var t=r.state.recaptcha;r.setState({andThen:e},function(){try{if(!t){throw new Error("recaptcha promise is missing. Not mounted?")}t.execute()}catch(e){r.props.onFailure()}})});return r}p(a,[{key:"componentDidMount",value:function e(){var t=this;if(P){window[this._callbackName]=function(e){if(t.state.andThen){t.state.andThen(e)}};window[this._errorCallbackName]=function(e){t.props.onFailure()};(0,o.default)("https://www.google.com/recaptcha/api.js","grecaptcha").then(function(e){t.setState({recaptcha:e})}).catch(function(e){t.setState({error:true});setTimeout(function(){throw e})})}}},{key:"componentWillUnmount",value:function e(){delete window[this._callbackName];delete window[this._errorCallbackName]}},{key:"render",value:function e(){var t=this;var r=this.state,n=r.recaptcha,o=r.error;return i.createElement(u.WithSSRPlaceholder,{placeholder:function e(){return i.createElement(l.CircularSpinner,{size:"small",light:true})}},function(){return i.createElement(i.Fragment,null,n?t.props.children(t.onSubmit):o?i.createElement("div",null,i18n._("To defend against fraud, we use Google reCAPTCHA, which could not be loaded. To donate, you may need to temporarily disable your adblocker and restart your browser. Email donate@khanacademy.org or see below for alternate methods.")):i.createElement(l.CircularSpinner,{size:"small",light:true}),i.createElement("div",{className:"g-recaptcha","data-sitekey":g,"data-callback":t._callbackName,"data-error-callback":t._errorCallbackName,"data-size":"invisible","data-badge":"bottomleft"}))})}}]);return a}(i.Component);t.default=j},zGoT:function(e,t,r){"use strict";r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=u(r("q1tI"));var a=n(r("0pLT"));var i=n(r("mC3M"));function n(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}function f(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return m(e,t)}var i18n=r("HEOz");var v=function(e){h(t,e);function t(){l(this,t);return f(this,d(t).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=this.props.interval;var r=[{label:i18n._("Monthly"),value:"month"},{label:i18n._("One time"),value:"once"}];var n=i18n._("Select gift frequency");return o.createElement(a.default,{label:n,className:this.props.className},o.createElement("div",null,o.createElement(i.default,{name:"interval",onChange:this.props.onChange,options:r,value:t})))}}]);return t}(o.Component);t.default=v}}]);
//# sourceMappingURL=../../../../../../../sourcemaps/en/javascript/app-shell-package/app-entry~./javascript/donate-package/donate-page-entry.bcdefc2331cd603f4d0d.js.map