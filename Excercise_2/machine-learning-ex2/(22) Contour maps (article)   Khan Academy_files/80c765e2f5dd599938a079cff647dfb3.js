(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["80c765e2f5dd599938a079cff647dfb3"],{"08lt":function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("zKZe");r("5DmW");r("NBAS");r("B6y2");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=t.ServerItemRenderer=void 0;var a=h(r("q1tI"));var o=n(r("F/us"));var s=r("mR6N");var u=r("j8wP");var l=n(r("YH1v"));var c=n(r("Atlv"));var p=n(r("uBl0"));var i=r("vNny");var f=n(r("9cGa"));var d=n(r("KGvg"));function n(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return v.apply(this,arguments)}function y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){P(t,e,r[e])})}return t}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function g(e,t,r){if(t)b(e.prototype,t);if(r)b(e,r);return e}function O(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return C(e)}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function k(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return S(e,t)}function P(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var x=function(e){k(t,e);function t(e){var r;m(this,t);r=O(this,w(t).call(this,e));P(C(r),"_handleFocusChange",function(e,t){if(e!=null){r._setCurrentFocus(e)}else{r._onRendererBlur(t)}});P(C(r),"handleInteractWithWidget",function(e){var t=o.default.difference(r.state.questionHighlightedWidgets,[e]);r.setState({questionCompleted:false,questionHighlightedWidgets:t});if(r.props.apiOptions.interactionCallback){r.props.apiOptions.interactionCallback()}});P(C(r),"setAssetStatus",function(e,t){r._assetStatuses=y({},r._assetStatuses,P({},e,t));r.setState({assetStatuses:r._assetStatuses})});r.state={questionCompleted:false,questionHighlightedWidgets:[],assetStatuses:{}};r._assetStatuses={};r._fullyRendered=false;return r}g(t,[{key:"componentDidMount",value:function e(){this._isMounted=true;this._currentFocus=null;this._fullyRendered=false}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({questionHighlightedWidgets:[]})}},{key:"componentDidUpdate",value:function e(t,r){if(this.props.apiOptions.answerableCallback){var n=this.questionRenderer.emptyWidgets().length===0;this.props.apiOptions.answerableCallback(n)}if(!this._fullyRendered){var o=Object.values(this.state.assetStatuses).every(Boolean);if(o){this._fullyRendered=true;this.props.onRendered(true)}}}},{key:"componentWillUnmount",value:function e(){this._isMounted=false}},{key:"_setCurrentFocus",value:function e(t){var r=this;var n=this.props,o=n.apiOptions,i=o.isMobile,a=o.onFocusChange,s=n.keypadElement;var u=this._currentFocus;this._currentFocus=t;var l=this.getInputPaths();var c=this._currentFocus&&l.some(function(e){return p.default.inputPathsEqual(e,r._currentFocus)});if(a!=null){a(this._currentFocus,u,c&&s&&s.getDOMNode(),c&&this.questionRenderer.getDOMNodeForPath(t))}if(s&&i){if(c){s.activate()}else{s.dismiss()}}}},{key:"_onRendererBlur",value:function e(t){var r=this;var n=this._currentFocus;if(!o.default.isEqual(t,n)){return}o.default.defer(function(){if(r._isMounted&&o.default.isEqual(r._currentFocus,n)){r._setCurrentFocus(null)}})}},{key:"_setWidgetProps",value:function e(t,r,n){this.questionRenderer._setWidgetProps(t,r,n)}},{key:"setInputValue",value:function e(t,r,n){return this.questionRenderer.setInputValue(t,r,n)}},{key:"focusPath",value:function e(t){return this.questionRenderer.focusPath(t)}},{key:"blurPath",value:function e(t){return this.questionRenderer.blurPath(t)}},{key:"getDOMNodeForPath",value:function e(t){return this.questionRenderer.getDOMNodeForPath(t)}},{key:"getGrammarTypeForPath",value:function e(t){return this.questionRenderer.getGrammarTypeForPath(t)}},{key:"getInputPaths",value:function e(){var t=this.questionRenderer.getInputPaths();return t}},{key:"focus",value:function e(){return this.questionRenderer.focus()}},{key:"blur",value:function e(){if(this._currentFocus){this.blurPath(this._currentFocus)}}},{key:"getNumHints",value:function e(){return this.props.item.hints.length}},{key:"scoreInput",value:function e(){var t=this.questionRenderer.guessAndScore();var r=t[0];var n=t[1];var o=[r,[]];var i=p.default.keScoreFromPerseusScore(n,o,this.questionRenderer.getSerializedState());var a=this.questionRenderer.emptyWidgets();this.setState({questionCompleted:i.correct,questionHighlightedWidgets:a});return i}},{key:"getWidgetIds",value:function e(){return this.questionRenderer.getWidgetIds()}},{key:"scoreWidgets",value:function e(){var t=this.questionRenderer.scoreWidgets();var r=this.questionRenderer.getUserInputForWidgets();var n=this.questionRenderer.getSerializedState();return(0,i.mapObject)(t,function(e,t){return p.default.keScoreFromPerseusScore(e,r[t],n)})}},{key:"getSerializedState",value:function e(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}}},{key:"restoreSerializedState",value:function e(t,r){var n=2;var o=function e(){--n;if(r&&n===0){r()}};this.questionRenderer.restoreSerializedState(t.question,o);this.hintsRenderer.restoreSerializedState(t.hints,o)}},{key:"showRationalesForCurrentlySelectedChoices",value:function e(){this.questionRenderer.showRationalesForCurrentlySelectedChoices()}},{key:"deselectIncorrectSelectedChoices",value:function e(){this.questionRenderer.deselectIncorrectSelectedChoices()}},{key:"render",value:function e(){var r=this;var t=y({},u.Options.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange});var n={assetStatuses:this.state.assetStatuses,setAssetStatus:this.setAssetStatus};var o=a.createElement(f.default.Provider,{value:n},a.createElement(c.default,v({keypadElement:this.props.keypadElement,problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:t,questionCompleted:this.state.questionCompleted,reviewMode:this.props.reviewMode,ref:function e(t){return r.questionRenderer=t}},this.props.item.question)));var i=a.createElement(l.default,{hints:this.props.item.hints,hintsVisible:this.props.hintsVisible,apiOptions:t,ref:function e(t){return r.hintsRenderer=t}});return a.createElement("div",null,a.createElement("div",null,o),a.createElement("div",{className:t.isMobile?undefined:(0,s.css)(E.hintsContainer)},i))}}]);return t}(a.Component);t.ServerItemRenderer=x;P(x,"defaultProps",{apiOptions:{},onRendered:function e(t){}});var E=s.StyleSheet.create({hintsContainer:{marginLeft:50}});var j=a.forwardRef(function(r,n){return a.createElement(d.default.Consumer,null,function(e){var t=e.onRendered;return a.createElement(x,v({},r,{onRendered:t,ref:n}))})});var T=j;t.default=T},"11Vm":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MultiItems=t.Renderer=t.HintsRenderer=t.ServerItemRenderer=t.ItemRenderer=t.ArticleRenderer=t.init=t.itemDataVersion=t.apiVersion=void 0;var n=d(r("Ogi5"));var o=d(r("4Zwh"));var i=d(r("Hpzc"));var a=d(r("Pnbu"));var s=d(r("ZM/w"));var u=d(r("YqAk"));var l=d(r("08lt"));var c=d(r("YH1v"));var p=d(r("Atlv"));var f=d(r("fiwv"));function d(e){return e&&e.__esModule?e:{default:e}}o.default.registerWidgets(i.default);var h=n.default.apiVersion;t.apiVersion=h;var v=n.default.itemDataVersion;t.itemDataVersion=v;var y=a.default;t.init=y;var m=s.default;t.ArticleRenderer=m;var b=u.default;t.ItemRenderer=b;var g=l.default;t.ServerItemRenderer=g;var O=c.default;t.HintsRenderer=O;var w=p.default;t.Renderer=w;var C=f.default;t.MultiItems=C},"16F6":function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");r("UxlC");var n=o(r("q1tI"));function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return c(e)}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var h=r("TSYQ");var v=r("17x9");var y=r("i8i4");var _=r("F/us");var m=r("e2gc");var b=r("BWOr");var g=r("jskG");var O=v;var w=function(e){p(i,e);function i(){var e;var r;a(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}r=u(this,(e=l(i)).call.apply(e,[this].concat(n)));d(c(r),"state",{focused:false});d(c(r),"handleFocus",function(){r.setState({focused:true})});d(c(r),"handleMouseDown",function(e){var t=y.findDOMNode(c(r)).contains(e.target);r.mouseDown=t;if(!t){r.setState({focused:false})}});d(c(r),"handleMouseUp",function(){if(r.mouseDown){r.focus()}r.mouseDown=false});d(c(r),"handleBlur",function(e){if(!r.mouseDown&&!y.findDOMNode(c(r)).contains(e.relatedTarget)){r.setState({focused:false})}});d(c(r),"_shouldShowButtons",function(){if(r.props.buttonsVisible==="always"){return true}else if(r.props.buttonsVisible==="never"){return false}else{return r.state.focused}});d(c(r),"insert",function(e){var t=r.mathField();if(_(e).isFunction()){e(t)}else if(e[0]==="\\"){t.cmd(e).focus()}else{t.write(e).focus()}t.focus()});d(c(r),"mathField",function(e){var t=b.getInterface(2);return t.MathField(y.findDOMNode(r.refs.mathinput),e)});d(c(r),"focus",function(){r.mathField().focus();r.setState({focused:true})});d(c(r),"blur",function(){r.mathField().blur();r.setState({focused:false})});return r}s(i,[{key:"render",value:function e(){var t=h({"perseus-math-input":true,"mq-editable-field":true,"mq-math-mode":true});if(this.props.className){t=t+" "+this.props.className}var r=null;if(this._shouldShowButtons()){r=n.createElement(g,{sets:this.props.buttonSets,className:"math-input-buttons absolute",convertDotToTimes:this.props.convertDotToTimes,onInsert:this.insert})}return n.createElement("div",{style:{display:"inline-block"}},n.createElement("div",{style:{display:"inline-block"}},n.createElement("span",{className:t,ref:"mathinput","aria-label":this.props.labelText,onFocus:this.handleFocus,onBlur:this.handleBlur})),n.createElement("div",{style:{position:"relative"},onBlur:this.handleBlur},r))}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("mousedown",this.handleMouseDown);window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"componentDidMount",value:function e(){var o=this;window.addEventListener("mousedown",this.handleMouseDown);window.addEventListener("mouseup",this.handleMouseUp);var i=false;this.mathField({autoCommands:"pi theta phi sqrt nthroot",charsThatBreakOutOfSupSub:"+-*/=<>≠≤≥",supSubsRequireOperand:true,spaceBehavesLikeTab:true,handlers:{edited:function e(t){var r=t.latex();r=r.replace(/<>/g,"\\ne");if(o.props.convertDotToTimes){r=r.replace(/\\cdot/g,"\\times");var n=t.__controller.cursor[b.L];if(n&&n.ctrlSeq==="\\cdot "){t.__controller.backspace();t.cmd("\\times")}}else{r=r.replace(/\\times/g,"\\cdot")}if(i&&o.props.value!==r){o.props.onChange(r)}},enter:function e(){m(y.findDOMNode(o.refs.mathinput)).submit()},upOutOf:function e(t){t.typedText("^")}}});this.mathField().latex(this.props.value);i=true}},{key:"componentDidUpdate",value:function e(){if(!_.isEqual(this.mathField().latex(),this.props.value)){this.mathField().latex(this.props.value)}}}]);return i}(n.Component);d(w,"propTypes",{value:O.string,onChange:O.func.isRequired,convertDotToTimes:O.bool,buttonsVisible:O.oneOf(["always","never","focused"]),buttonSets:g.buttonSetsType.isRequired,labelText:v.string,onFocus:O.func,onBlur:O.func});d(w,"defaultProps",{value:"",convertDotToTimes:false,buttonsVisible:"focused"});e.exports=w},"Akm+":function(e,t,r){"use strict";r("pNMO");r("ma9I");r("yXV3");r("zKZe");r("5DmW");r("NBAS");var s=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return u.apply(this,arguments)}function l(e,t){if(e==null)return{};var r=a(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function a(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}function f(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return h(e)}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return i(e,t)}function y(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var m=r("17x9");var _=r("F/us");var b=function(e){v(i,e);function i(){var e;var t;c(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=f(this,(e=d(i)).call.apply(e,[this].concat(n)));y(h(t),"handleClick",function(e){t.props.onChecked(!t.props.checked)});y(h(t),"handleKeyUp",function(e){if(e.key===" "){t.props.onChecked(!t.props.checked);e.preventDefault()}});y(h(t),"handleChange",function(e){if(!t.props.checked&&e.target.checked){t.props.onChecked(true)}});y(h(t),"handleKeyDown",function(e){if(e.key===" "){e.preventDefault()}else if(e.key==="ArrowUp"||e.key==="ArrowLeft"){t.props.goToPrevChoice();e.preventDefault()}else if(e.key==="ArrowDown"||e.key==="ArrowRight"){t.props.goToNextChoice();e.preventDefault()}});y(h(t),"handleRef",function(e){t._inputElement=e;t.props.inputRef&&t.props.inputRef(e)});return t}p(i,[{key:"render",value:function e(){var t=this.props,r=t.inputRef,n=t.onChecked,o=t.goToPrevChoice,i=t.goToNextChoice,a=l(t,["inputRef","onChecked","goToPrevChoice","goToNextChoice"]);return s.createElement("input",u({},a,{type:"radio",onChange:this.handleChange,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.handleRef}))}}]);return i}(s.Component);y(b,"propTypes",{checked:m.bool.isRequired,inputRef:m.func,onChecked:m.func.isRequired,goToPrevChoice:m.func.isRequired,goToNextChoice:m.func.isRequired});e.exports=b},Bkj0:function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=i(r("q1tI"));var l=r("mR6N");var c=o(r("Pwnf"));var p=r("Vxy9");var n=r("6OHE");var f=o(r("GLX1"));var a=r("bGTE");function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function h(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);return e}function v(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return m(e)}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return g(e,t)}function O(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var w=function(e){b(i,e);function i(){var e;var t;s(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=v(this,(e=y(i)).call.apply(e,[this].concat(n)));O(m(t),"_handleTooltipButtonRef",function(e){if(e&&t.props.usingKeyboardFocus){e.focus()}});return t}h(i,[{key:"_getAriaLabel",value:function e(){var t=this.props,r=t.crossedOut,n=t.pos;var o=(0,a.getChoiceLetter)(n);if(r){return i18n._("Bring back Choice %(letter)s",{letter:o})}else{return i18n._("Cross out Choice %(letter)s",{letter:o})}}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.crossedOut,o=r.pos,i=r.primaryProductColor,a=r.theme;var s=a==="day"?i:c.default.white;return u.createElement("button",{type:"button","aria-label":this._getAriaLabel(),className:(0,l.css)([C.tooltipButton]),onClick:function e(){return t.props.onClick()},onMouseDown:function e(t){return t.preventDefault()},onFocus:function e(){return t.props.onFocus()},onBlur:function e(){return t.props.onBlur()},disabled:this.props.disabled,tabIndex:this.props.tabFocusable?0:-1,ref:this._handleTooltipButtonRef},u.createElement(f.default,{pos:o,product:"library",crossedOut:!this.props.crossedOut,primaryProductColor:s,pressed:true,checked:false,focused:false,correct:false,showCorrectness:false,reviewMode:false,previouslyAnswered:false,transparentBackground:true}),u.createElement(p.LabelLarge,{style:{color:s}},n?i18n._("Bring back"):i18n._("Cross out")))}}]);return i}(u.PureComponent);t.default=w;O(w,"defaultProps",{primaryProductColor:n.colors.kaGreen});var C=l.StyleSheet.create({tooltipButton:{background:"none",border:"none",font:"inherit",padding:0,cursor:"pointer",textDecoration:"none",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"}})},DUcE:function(e,t,r){"use strict";r("ma9I");r("x0AG");r("2B1R");r("NBAS");var m=o(r("q1tI"));var n;function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return c(e)}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var h=r("mR6N"),v=h.StyleSheet,b=h.css;var g=r("TSYQ");var y=r("17x9");var O=r("i8i4");var _=r("F/us");var w=r("8SBg"),C=w.scrollElementIntoView;var k=r("j8wP").ClassNames;var S=r("Atlv");var P=r("MG0i");var x=r("UcaO");var E=r("TBZ3");var j=r("uBl0").captureScratchpadTouchStart;var T=r("N2wX");var I=function(e){p(i,e);function i(){var e;var t;a(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=u(this,(e=l(i)).call.apply(e,[this].concat(n)));d(c(t),"focusInput",function(){t._choice.focusInput()});return t}s(i,[{key:"render",value:function e(){var r=this;var t=_.extend({},this.props,{className:g(this.props.className,"none-of-above"),content:this.props.showContent?this.props.content:m.createElement(S,{key:"noneOfTheAboveRenderer",content:i18n._("None of the above")}),ref:function e(t){return r._choice=t}});return m.createElement(T,t)}}]);return i}(m.Component);d(I,"propTypes",{className:y.string,content:y.node,showContent:y.bool});d(I,"defaultProps",{showContent:true});var R=y.arrayOf(y.shape({checked:y.bool,crossedOut:y.bool,content:y.node,rationale:y.node,hasRationale:y.bool,showRationale:y.bool,showCorrectness:y.bool,correct:y.bool,originalIndex:y.number,isNoneOfTheAbove:y.bool}));var N=x.radioBorderColor;var F=function(e){p(y,e);function y(){var e;var i;a(this,y);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}i=u(this,(e=l(y)).call.apply(e,[this].concat(r)));d(c(i),"state",{radioGroupName:_.uniqueId("perseus_radio_")});d(c(i),"updateChoice",function(e,t){var r;if(t.checked&&!i.props.multipleSelect){r=i.props.choices.map(function(_){return false})}else{r=i.props.choices.map(function(e){return e.checked})}var n=i.props.choices.map(function(e){return e.crossedOut});r[e]=t.checked;n[e]=t.crossedOut;i.props.onChange({checked:r,crossedOut:n})});d(c(i),"focus",function(e){O.findDOMNode(i.refs["radio"+(e||0)]).focus();return true});d(c(i),"getInstructionsText",function(){if(i.props.multipleSelect){if(i.props.countChoices){return i18n._("Choose %(numCorrect)s answers:",{numCorrect:i.props.numCorrect})}else{return i18n._("Choose all answers that apply:")}}else{return i18n._("Choose 1 answer:")}});d(c(i),"deselectEnabled",function(){return i.props.apiOptions.isMobile||i.props.deselectEnabled});d(c(i),"goToChoice",function(e){var t=i.props.choices.length;if(e<0){e+=t}if(e>=t){e-=t}var r=i.refs["radio".concat(e)];if(!r){console.error("found no choice at index ".concat(e,", even after ")+"wrapping it to be within bounds");return}r.focusInput();var n=i.props.choices.map(function(e){return e.crossedOut});var o=i.props.choices.map(function(e){return false});if(!i.props.choices[e].crossedOut){o[e]=true}i.props.onChange({checked:o,crossedOut:n})});return i}s(y,[{key:"componentDidUpdate",value:function e(t){var r=this.props,n=r.apiOptions,o=r.choices,i=r.isLastUsedWidget,a=r.reviewModeRubric;if(n.canScrollPage&&i&&a&&!t.reviewModeRubric){var s=o.findIndex(function(e){return e.checked});if(s>=0){var u=O.findDOMNode(this.refs["radio"+s]);C(u)}}}},{key:"render",value:function e(){var p=this.props.multipleSelect?"checkbox":"radio";var f=this.props.reviewModeRubric;var d=!!f;var h=y.styles;var v=this.props.apiOptions.satStyling;var t=this.props.apiOptions.isMobile;var r=this.props.choices;var n=r[0].highlighted;var o=r[r.length-1].highlighted;var i=g("perseus-widget-radio",!this.props.editMode&&"perseus-rendered-radio",b(h.radio,!v&&h.responsiveRadioContainer,!v&&n&&t&&h.radioContainerFirstHighlighted,!v&&o&&t&&h.radioContainerLastHighlighted,v&&h.satRadio));var a=g("instructions",b(h.instructions,t&&h.instructionsMobile));var s=this.getInstructionsText();var u=!v;var l=b(h.responsiveFieldset);var c=m.createElement("fieldset",{className:"perseus-widget-radio-fieldset ".concat(l)},m.createElement("legend",{className:"perseus-sr-only"},s),u&&m.createElement("div",{className:a},s),m.createElement("ul",{className:i},this.props.choices.map(function(o,n){var i=this;var e=T;var t={ref:"radio".concat(n),apiOptions:this.props.apiOptions,checked:o.checked,crossedOut:o.crossedOut,previouslyAnswered:o.previouslyAnswered,reviewMode:d,correct:o.correct,rationale:o.rationale,content:o.content,disabled:this.props.apiOptions.readOnly||o.disabled,editMode:this.props.editMode,groupName:this.state.radioGroupName,isLastChoice:n===this.props.choices.length-1,showCorrectness:d||!!o.showCorrectness,showRationale:o.hasRationale&&(d||o.showRationale),type:p,pos:n,deselectEnabled:this.deselectEnabled(),onChange:function e(t){i.updateChoice(n,t)},goToPrevChoice:function e(){return i.goToChoice(n-1)},goToNextChoice:function e(){return i.goToChoice(n+1)}};if(o.isNoneOfTheAbove){e=I;_.extend(t,{showContent:o.revealNoneOfTheAbove})}var a=this.props.choices[n+1];var s=!!a&&a.highlighted;var r=function e(t){var r=v&&d&&t;var n=v&&d&&a&&a.checked;return b(P.aboveScratchpad,h.item,!v&&h.responsiveItem,!v&&t&&h.selectedItem,!v&&t&&o.highlighted&&h.aboveBackdrop,!v&&t&&o.highlighted&&i.props.apiOptions.isMobile&&h.aboveBackdropMobile,!v&&s&&i.props.apiOptions.isMobile&&h.nextHighlighted,v&&h.satRadioOption,r&&!o.correct&&h.satRadioOptionIncorrect,r&&o.correct&&h.satRadioOptionCorrect,n&&!a.correct&&h.satRadioOptionNextIncorrect,n&&a.correct&&h.satRadioOptionNextCorrect,v&&f&&h.satReviewRadioOption)};r(true);var u=g(r(o.checked),k.RADIO.OPTION,o.checked&&k.RADIO.SELECTED,d&&f.choices[n].correct&&k.CORRECT,d&&!f.choices[n].correct&&k.INCORRECT);var l=null;var c=null;if(this.props.editMode){c=function e(t){var r=t.target;while(r&&r!==l){if(r.getAttribute("data-is-radio-icon")){i.updateChoice(n,{checked:!o.checked});return}r=r.parentNode}}}return m.createElement("li",{key:n,ref:function e(t){return l=t},className:u,onClick:c,onTouchStart:!this.props.labelWrap?null:j},m.createElement(e,t))},this)));return m.createElement("div",{className:b(!v&&h.responsiveContainer)},c)}}]);return y}(m.Component);d(F,"propTypes",{apiOptions:y.shape({readOnly:y.bool,satStyling:y.bool,isMobile:y.bool,styling:y.shape({radioStyleVersion:y.oneOf(["intermediate","final"])}),canScrollPage:y.bool}),choices:R,deselectEnabled:y.bool,editMode:y.bool,labelWrap:y.bool,countChoices:y.bool,numCorrect:y.number,multipleSelect:y.bool,reviewModeRubric:y.shape({choices:R}),onChange:y.func,isLastUsedWidget:y.bool});d(F,"styles",v.create({instructions:{display:"block",color:x.gray17,fontSize:14,lineHeight:1.25,fontStyle:"normal",fontWeight:"bold",marginBottom:16},instructionsMobile:(n={fontSize:18},d(n,E.smOrSmaller,{fontSize:16}),d(n,E.xl,{fontSize:20}),n),radio:{width:"100%"},responsiveRadioContainer:d({borderBottom:"1px solid ".concat(N),borderTop:"1px solid ".concat(N),width:"auto"},E.smOrSmaller,{marginLeft:x.negativePhoneMargin,marginRight:x.negativePhoneMargin}),radioContainerFirstHighlighted:{borderTop:"1px solid rgba(0, 0, 0, 0)"},radioContainerLastHighlighted:{borderBottom:"1px solid rgba(0, 0, 0, 0)"},satRadio:{background:"none",marginLeft:0,userSelect:"none"},satRadioOption:{margin:0,padding:0,borderBottom:"1px solid #ccc",":first-child":{borderTop:"1px solid #ccc"}},satRadioOptionCorrect:{borderBottomColor:x.satCorrectBorderColor,":first-child":{borderTopColor:x.satCorrectBorderColor}},satRadioOptionIncorrect:{borderBottomColor:x.satIncorrectBorderColor,":first-child":{borderTopColor:x.satIncorrectBorderColor}},satRadioOptionNextCorrect:{borderBottomColor:x.satCorrectBorderColor},satRadioOptionNextIncorrect:{borderBottomColor:x.satIncorrectBorderColor},satReviewRadioOption:{pointerEvents:"none"},item:{marginLeft:20},inlineItem:{display:"inline-block",paddingLeft:20,verticalAlign:"middle"},responsiveItem:{marginLeft:0,padding:0,":not(:last-child)":{borderBottom:"1px solid ".concat(N)}},selectedItem:{background:"white"},aboveBackdrop:{position:"relative",zIndex:1062},aboveBackdropMobile:{boxShadow:"0 0 4px 0 rgba(0, 0, 0, 0.2),"+"0 0 2px 0 rgba(0, 0, 0, 0.1)",":not(:last-child)":{borderBottom:"1px solid rgba(0, 0, 0, 0)"}},nextHighlighted:{":not(:last-child)":{borderBottom:"1px solid rgba(0, 0, 0, 0)"}},responsiveContainer:{overflow:"auto",marginLeft:x.negativePhoneMargin,marginRight:x.negativePhoneMargin,paddingLeft:x.phoneMargin},responsiveFieldset:{paddingRight:x.phoneMargin}}));d(F,"defaultProps",{editMode:false});e.exports=F},G4Rg:function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=u(r("q1tI"));var o=i(r("EIXS"));var a=i(r("Bkj0"));var s=i(r("TBZ3"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}function f(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return h(e)}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return y(e,t)}function m(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var b=function(e){v(i,e);function i(){var e;var t;l(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=f(this,(e=d(i)).call.apply(e,[this].concat(n)));m(h(t),"_handleKeyDown",function(e){if(e.key==="Tab"){t.props.onDismiss();e.preventDefault()}});return t}p(i,[{key:"_renderTooltipContent",value:function e(){return n.createElement("div",{onKeyDown:this._handleKeyDown},n.createElement(a.default,this.props.buttonProps))}},{key:"render",value:function e(){var t=this;return n.createElement("div",null,n.createElement(o.default,{content:this._renderTooltipContent(),offsetFrom:"arrow",offset:10,dismissed:this.props.dismissed,showOnMount:true,toggleOnHover:false,onClick:function e(){return t.props.buttonProps.onClick()},media:s.default.mdOrLarger},this.props.children),!this.props.dismissed&&n.createElement(g,{onDismiss:this.props.onDismiss}))}}]);return i}(n.PureComponent);t.default=b;var g=function(e){v(i,e);function i(){var e;var t;l(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=f(this,(e=d(i)).call.apply(e,[this].concat(n)));m(h(t),"_handleGlobalClick",function(){t.props.onDismiss()});m(h(t),"_handleGlobalKeyup",function(e){if(e.key==="Escape"){t.props.onDismiss()}});return t}p(i,[{key:"componentDidMount",value:function e(){var t=this;setTimeout(function(){window.addEventListener("click",t._handleGlobalClick);window.addEventListener("keyup",t._handleGlobalKeyup)},0)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("click",this._handleGlobalClick);window.removeEventListener("keyup",this._handleGlobalKeyup)}},{key:"render",value:function e(){return null}}]);return i}(n.PureComponent)},GLX1:function(e,t,r){"use strict";r("ma9I");r("zKZe");r("5DmW");r("NBAS");var v=o(r("q1tI"));var f=r("mR6N");var y=r("bGTE");var i=r("/4Qb");var a=n(r("APgo"));var p=n(r("gP8R"));var l=n(r("UcaO"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return u.apply(this,arguments)}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function h(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);return e}function m(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return w(e,t)}var i18n=r("HEOz");var C=25;var k=function(e){O(t,e);function t(){c(this,t);return m(this,g(t).apply(this,arguments))}h(t,[{key:"constructStyles",value:function e(t,r,n){var o;var i=l.default.satBlue;var a=l.default.satBlue;if(t){if(r){i=l.default.satCorrectColor;a=n?l.default.white:l.default.satCorrectColor;o=n?l.default.satCorrectColor:l.default.white}else if(n){i=l.default.satIncorrectColor;a=l.default.white;o=l.default.satIncorrectColor}}else if(n){a=l.default.white;o=l.default.satBlue}return{color:a,backgroundColor:o,borderColor:i}}},{key:"render",value:function e(){var t=this.props,r=t.letter,n=t.a11yText,o=t.reviewMode,i=t.checked,a=t.correct,s=t.crossedOut;var u=this.constructStyles(o,a,i),l=u.color,c=u.backgroundColor,p=u.borderColor;return v.createElement("div",{className:(0,f.css)(R.iconWrapper)},v.createElement("div",{className:(0,f.css)(R.satCircle),style:{backgroundColor:c,borderColor:p}}),v.createElement("div",{style:{color:l},className:(0,f.css)(R.letter)},v.createElement("span",{className:"perseus-sr-only"},n),v.createElement("span",{"aria-hidden":"true"},r)),s&&v.createElement(T,{color:p,sat:true}))}}]);return t}(v.Component);var S=24;var P=function(e){O(t,e);function t(){c(this,t);return m(this,g(t).apply(this,arguments))}h(t,[{key:"getChoiceInner",value:function e(){var t=this.props,r=t.letter,n=t.showCorrectness,o=t.correct;if(!n){return r}else if(o){return v.createElement(a.default,u({},i.iconCheck,{style:{position:"relative",top:-1}}))}else{return v.createElement(a.default,i.iconMinus)}}},{key:"getDynamicStyles",value:function e(){var t=this.props,r=t.checked,n=t.showCorrectness,o=t.pressed,i=t.primaryProductColor,a=t.correct,s=t.transparentBackground;if(!n&&o){return{borderColor:i,color:i,backgroundColor:s?"transparent":l.default.white}}else if(r){var u=n&&a?l.default.kaGreen:i;return{color:l.default.white,backgroundColor:u,borderColor:u}}else{return{borderColor:l.default.gray68,color:l.default.gray68}}}},{key:"render",value:function e(){var t=this.props,r=t.a11yText,n=t.checked,o=t.crossedOut,i=t.showCorrectness,a=t.correct,s=t.focused,u=t.primaryProductColor,l=t.previouslyAnswered;var c=this.getDynamicStyles();return v.createElement("div",{className:(0,f.css)(R.iconWrapper)},v.createElement(p.default,{color:u,visible:s},v.createElement("div",{style:c,className:(0,f.css)(R.libraryCircle,i&&a&&R.libraryCircleCorrect,i&&!a&&R.libraryCircleIncorrect,i&&!a&&(n||l)&&R.libraryCircleIncorrectAnswered),"data-is-radio-icon":true},v.createElement("div",{className:"perseus-sr-only"},r),v.createElement("div",{"aria-hidden":true},this.getChoiceInner()))),o&&v.createElement(T,{color:c.borderColor}))}}]);return t}(v.Component);var x=2;var E=S+x*2;var j=C+x*2;function T(e){var t=e.sat?j:E;return v.createElement("svg",{width:t,height:t,viewBox:"0 0 ".concat(t," ").concat(t),className:(0,f.css)(R.crossOutLine)},v.createElement("line",{x1:x,x2:t-x,y1:t-x,y2:x,stroke:e.color,strokeWidth:"2",strokeLinecap:"round"}))}var I=function(e){O(t,e);function t(){c(this,t);return m(this,g(t).apply(this,arguments))}h(t,[{key:"a11yText",value:function e(t){var r=this.props,n=r.checked,o=r.correct,i=r.crossedOut,a=r.showCorrectness;if(a&&o){if(n){return i18n._("(Choice %(letter)s, Checked, Correct)",{letter:t})}else if(i){return i18n._("(Choice %(letter)s, Crossed out, Correct)",{letter:t})}else{return i18n._("(Choice %(letter)s, Correct)",{letter:t})}}else if(a&&!o){if(n){return i18n._("(Choice %(letter)s, Checked, Incorrect)",{letter:t})}else if(i){return i18n._("(Choice %(letter)s, Crossed out, Incorrect)",{letter:t})}else{return i18n._("(Choice %(letter)s, Incorrect)",{letter:t})}}else{if(n){return i18n._("(Choice %(letter)s, Checked)",{letter:t})}else if(i){return i18n._("(Choice %(letter)s, Crossed out)",{letter:t})}else{return i18n._("(Choice %(letter)s)",{letter:t})}}}},{key:"render",value:function e(){var t=this.props,r=t.pos,n=t.reviewMode,o=t.checked,i=t.crossedOut,a=t.correct,s=t.product,u=t.showCorrectness,l=t.pressed,c=t.focused,p=t.primaryProductColor,f=t.previouslyAnswered,d=t.transparentBackground;var h=(0,y.getChoiceLetter)(r);if(s==="sat"){return v.createElement(k,{letter:h,a11yText:this.a11yText(h),reviewMode:n,checked:o,correct:a,crossedOut:i})}else{return v.createElement(P,{letter:h,a11yText:this.a11yText(h),reviewMode:n,checked:o,crossedOut:i,pressed:l,focused:c,correct:a,showCorrectness:u,primaryProductColor:p,previouslyAnswered:f,transparentBackground:d})}}}]);return t}(v.Component);s(I,"defaultProps",{primaryProductColor:l.default.kaGreen});var R=f.StyleSheet.create({satCircle:{display:"block",borderRadius:C,borderStyle:"solid",borderWidth:2,content:"''",height:C,width:C,top:1,left:1},iconWrapper:{display:"inline-block",position:"relative"},crossOutLine:{position:"absolute",top:"calc(50% - ".concat(E/2,"px)"),left:"calc(50% - ".concat(E/2,"px)")},libraryCircle:{width:S,height:S,boxSizing:"border-box",borderRadius:S,borderStyle:"solid",borderWidth:2,fontFamily:l.default.baseFontFamily,fontWeight:"bold",fontSize:12,display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1px"},libraryCircleCorrect:{fontSize:S},libraryCircleIncorrect:{fontSize:S,borderColor:l.default.gray68,color:l.default.gray68},libraryCircleIncorrectAnswered:{backgroundColor:l.default.warning1,borderColor:l.default.warning1,color:l.default.white},letter:{border:"2px solid transparent",width:C,height:C,position:"absolute",top:1,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:l.default.boldFontFamily,fontSize:13}});e.exports=I},Hpzc:function(e,t,r){"use strict";e.exports=[r("b5JB"),r("hxS7"),r("e04/"),r("IYtG")]},IYtG:function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("ToJy");r("5DmW");r("NBAS");r("07d7");r("UxlC");r("3bBZ");var o=v(r("q1tI"));var b=h(r("F/us"));var a=h(r("TSYQ"));var g=h(r("rTmL"));var O=h(r("Fumg"));var s=h(r("Yw3Q"));var u=r("j8wP");var l=v(r("+jAD"));var w=h(r("7BBF"));var c=h(r("APgo"));var p=h(r("l+pH"));var f=h(r("16F6"));var n=r("reBI");var i=r("zahm");var d=r("/4Qb");function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function C(e,t,r){if(t)m(e.prototype,t);if(r)m(e,r);return e}function k(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return P(e)}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function x(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}function j(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var T=n.components.KeypadInput;var I=n.consts.KeypadTypes;var i18n=r("HEOz");var R=i18n._("Sorry, I don't understand that!");var N=function e(t){return t.replace(/([_^])([^{])/g,"$1{$2}")};var F=function(e){x(i,e);function i(){var e;var n;y(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++){r[o]=arguments[o]}n=k(this,(e=S(i)).call.apply(e,[this].concat(r)));j(P(n),"displayName","Expression");j(P(n),"state",{showErrorTooltip:false,showErrorText:false});j(P(n),"componentDidMount",function(){n._isMounted=true});j(P(n),"componentDidUpdate",function(e){if(!b.default.isEqual(n.props.value,e.value)||!b.default.isEqual(n.props.functions,e.functions)){clearTimeout(n.errorTimeout);if(n.parse(n.props.value,n.props).parsed){n.setState({showErrorTooltip:false})}else{n.errorTimeout=setTimeout(function(){var e=n.props.apiOptions.onInputError(null,n.props.value,R);if(e!==false){n.setState({showErrorTooltip:true})}},2e3)}}});j(P(n),"componentWillUnmount",function(){clearTimeout(n.errorTimeout);n._isMounted=false});j(P(n),"_isMounted",false);j(P(n),"errorTimeout",null);j(P(n),"simpleValidate",function(e,t){t=t||function(){};return i.validate(n.getUserInput(),e,t)});j(P(n),"getUserInput",function(){return i.getUserInputFromProps(n.props)});j(P(n),"getAcceptableFormatsForInputPath",function(){return null});j(P(n),"change",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return l.change.apply(P(n),t)});j(P(n),"parse",function(e,t){var r=b.default.pick(t||n.props,"functions");b.default.extend(r,O.default.getDecimalFormatSymbols());return g.default.parse(N(e),r)});j(P(n),"changeAndTrack",function(e,t){n.change("value",e,t);n.props.trackInteraction()});j(P(n),"_handleFocus",function(){n.props.onFocus([])});j(P(n),"_handleBlur",function(){n.props.onBlur([])});j(P(n),"focus",function(){if(n.props.apiOptions.customKeypad){n.refs.input.focus()}else{}return true});j(P(n),"focusInputPath",function(e){n.refs.input.focus()});j(P(n),"blurInputPath",function(e){n.refs.input.blur()});j(P(n),"insert",function(e){if(!n.props.apiOptions.staticRender){n.refs.input.insert(e)}});j(P(n),"getInputPaths",function(){return[[]]});j(P(n),"getGrammarTypeForPath",function(e){return"expression"});j(P(n),"setInputValue",function(e,t,r){n.props.onChange({value:t},r)});return n}C(i,[{key:"render",value:function e(){var t=this;if(this.props.apiOptions.customKeypad){return o.createElement(T,{ref:"input",value:this.props.value,keypadElement:this.props.keypadElement,onChange:this.changeAndTrack,onFocus:function e(){t.props.keypadElement.configure(t.props.keypadConfiguration,function(){if(t._isMounted){t._handleFocus()}})},onBlur:this._handleBlur})}else if(this.props.apiOptions.staticRender){return o.createElement(p.default,{ref:"input",value:this.props.value,type:"tex",examples:[],shouldShowExamples:false,onChange:this.changeAndTrack,onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,linterContext:this.props.linterContext})}else{var r=o.createElement("span",{className:"error-tooltip"},o.createElement(s.default,{className:"error-text-container",horizontalPosition:"right",horizontalAlign:"left",verticalPosition:"top",arrowSize:10,borderColor:"#fcc335",show:this.state.showErrorText},o.createElement("span",{className:"error-icon",onMouseEnter:function e(){t.setState({showErrorText:true})},onMouseLeave:function e(){t.setState({showErrorText:false})},onClick:function e(){t.setState({showErrorText:!t.state.showErrorText})}},o.createElement(c.default,d.iconExclamationSign)),o.createElement("div",{className:"error-text"},R)));var n=(0,a.default)({"perseus-widget-expression":true,"show-error-tooltip":this.state.showErrorTooltip});return o.createElement("div",{className:n},o.createElement(f.default,{ref:"input",className:u.ClassNames.INTERACTIVE,value:this.props.value,onChange:this.changeAndTrack,convertDotToTimes:this.props.times,buttonsVisible:this.props.buttonsVisible||"focused",buttonSets:this.props.buttonSets,onFocus:this._handleFocus,onBlur:this._handleBlur}),this.state.showErrorTooltip&&r)}}}],[{key:"validate",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};var o=b.default.clone(n);b.default.extend(o,O.default.getDecimalFormatSymbols());var i=function e(t){var r=g.default.parse(t.value,n);if(!r.parsed){console.error("Unable to parse solution answer "+"'".concat(t.value,"' for expression"),n);return null}return w.default.expression.createValidatorFunctional(r.expr,(0,b.default)({}).extend(o,{simplify:t.simplify,form:t.form}))};var a;var s;var u=true;var l;var c=true;var p=false;var f=undefined;try{for(var d=(n.answerForms||[])[Symbol.iterator](),h;!(c=(h=d.next()).done);c=true){var v=h.value;var e=i(v);if(!e){continue}var y=e(t);if(y.correct){a=v;s=y.message||"";break}u=u&&y.empty;if(v.considered==="correct"&&y.ungraded&&!l){l=y}}}catch(e){p=true;f=e}finally{try{if(!c&&d.return!=null){d.return()}}finally{if(p){throw f}}}if(!a){if(l){return{type:"invalid",message:l.message,suppressAlmostThere:l.suppressAlmostThere}}else if(u){return{type:"invalid",message:null}}else{return{type:"points",earned:0,total:1}}}else if(a.considered==="ungraded"){var m=r(null,t,s);return{type:"invalid",message:m===false?null:s}}else{return{type:"points",earned:a.considered==="correct"?1:0,total:1,message:s}}}},{key:"getUserInputFromProps",value:function e(t){return N(t.value)}},{key:"getOneCorrectAnswerFromRubric",value:function e(t){var r;var n=(t.answerForms||[]).filter(function(e){return e.considered==="correct"});if(n.length===0){return r}return n[0].value}}]);return i}(o.Component);j(F,"defaultProps",{value:"",times:false,functions:[],buttonSets:["basic","trig","prealgebra","logarithms"],onFocus:function e(){},onBlur:function e(){},apiOptions:u.Options.defaults,linterContext:i.linterContextDefault});var M=function e(t){var r=I.EXPRESSION;var v={};var y={};var n=true;var o=false;var i=undefined;try{for(var a=t.answerForms[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){var u=s.value;var m=g.default.parse(u.value,t);if(m.parsed){(function(){var e=m.expr;var r=function e(t){return t==="pi"||t==="theta"};var t=function e(t){return r(t)?t.toUpperCase():t};var n=true;var o=false;var i=undefined;try{for(var a=e.getVars()[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){var u=s.value;v[t(u)]=true}}catch(e){o=true;i=e}finally{try{if(!n&&a.return!=null){a.return()}}finally{if(o){throw i}}}var l=true;var c=false;var p=undefined;try{for(var f=e.getConsts()[Symbol.iterator](),d;!(l=(d=f.next()).done);l=true){var h=d.value;y[t(h)]=true}}catch(e){c=true;p=e}finally{try{if(!l&&f.return!=null){f.return()}}finally{if(c){throw p}}}})()}}}catch(e){o=true;i=e}finally{try{if(!n&&a.return!=null){a.return()}}finally{if(o){throw i}}}var l=Object.keys(v);l.sort();var c=Object.keys(y);c.sort();var p=[].concat(l,c);if(!p.length){p.push("PI")}return{keypadType:r,extraKeys:p}};var A={1:function _(e){return{times:e.times,buttonSets:e.buttonSets,functions:e.functions,buttonsVisible:e.buttonsVisible,answerForms:[{considered:"correct",form:e.form,simplify:e.simplify,value:e.value,key:0}]}}};e.exports={name:"expression",displayName:"Expression / Equation",defaultAlignment:"inline-block",widget:F,transform:function e(t){var r=t.times,n=t.functions,o=t.buttonSets,i=t.buttonsVisible;return{keypadConfiguration:M(t),times:r,functions:n,buttonSets:o,buttonsVisible:i}},version:{major:1,minor:0},propUpgrades:A,Expression:F,isLintable:true}},N2wX:function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("zKZe");r("5DmW");r("NBAS");r("FZtP");var T=o(r("q1tI"));var I=n(r("lCk0"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){h(t,e,r[e])})}return t}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return R.apply(this,arguments)}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function u(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return p(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return d(e,t)}function h(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var v=r("mR6N"),y=v.StyleSheet,N=v.css;var _=r("F/us");var m=r("17x9");var F=r("TSYQ");var b=r("j8wP"),M=b.ClassNames;var A=r("MG0i");var g=r("UcaO");var O=r("TBZ3");var D=r("Akm+");var w=r("GLX1");var C=r("TOec");var k={backgroundColor:g.satSelectedBackgroundColor,outline:"2px solid ".concat(g.satBlue),zIndex:1};var S="16px 16px";var P="12px 16px";var x=function(e){f(j,e);function j(){var e;var a;s(this,j);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}a=l(this,(e=c(j)).call.apply(e,[this].concat(r)));h(p(a),"state",{isInputFocused:false,isInputActive:false});h(p(a),"onInputFocus",function(){a.setState({isInputFocused:true})});h(p(a),"onInputBlur",function(){a.setState({isInputFocused:false})});h(p(a),"onInputMouseDown",function(e){if(e.type==="mousedown"&&a.justFinishedTouch){return}a.setState({isInputActive:true});if(a.props.apiOptions.satStyling&&a._input){a._input.focus()}});h(p(a),"onInputMouseUp",function(e){if(e.type==="mouseup"&&a.justFinishedTouch){return}if(e.type==="touchend"){a.justFinishedTouch=true;setTimeout(function(){a.setState({isInputActive:false});a.justFinishedTouch=false},10);return}a.setState({isInputActive:false});if(a.props.apiOptions.satStyling&&a._input){a._input.focus()}});h(p(a),"onInputMouseOut",function(){a.setState({isInputActive:false})});h(p(a),"inputRef",function(e){a._input=e});h(p(a),"renderOptionStatus",function(){var e=a.props,t=e.correct,r=e.checked,n=e.crossedOut,o=e.reviewMode,i=e.previouslyAnswered;if(a.props.apiOptions.satStyling){return}if(!o&&!i){return}return T.createElement(C,{checked:r,correct:t,crossedOut:n,previouslyAnswered:i})});h(p(a),"renderChoiceIcon",function(){var e=a.props.apiOptions.styling,t=e.radioStyleVersion,r=e.primaryProductColor;var n=typeof t==="undefined"?false:t==="final";if(!n&&!a.props.apiOptions.satStyling){return null}return T.createElement(w,{pos:a.props.pos,correct:a.props.correct,crossedOut:a.props.crossedOut,pressed:a.state.isInputActive,focused:a.state.isInputFocused,checked:a.props.checked,showCorrectness:a.props.showCorrectness,reviewMode:a.props.reviewMode,product:a.props.apiOptions.satStyling?"sat":"library",primaryProductColor:r,previouslyAnswered:a.props.previouslyAnswered})});h(p(a),"_setChecked",function(e){if(e){a._sendChange({checked:true,crossedOut:false})}else{a._sendChange({checked:false})}});h(p(a),"_setCrossedOut",function(e){if(e){a._sendChange({checked:false,crossedOut:true})}else{a._sendChange({crossedOut:false})}});h(p(a),"_sendChange",function(e){var t=e.checked!=null?e.checked:a.props.checked;var r=e.crossedOut!=null?e.crossedOut:a.props.crossedOut;a.props.onChange({checked:t,crossedOut:r})});h(p(a),"focusInput",function(){a._input.focus()});return a}u(j,[{key:"UNSAFE_componentWillUpdate",value:function e(t){if(this.state.isInputFocused&&t.disabled){this.setState({isInputFocused:false})}}},{key:"render",value:function e(){var r=this;var t=j.styles;var n=this.props.apiOptions.satStyling;var o=this.props.apiOptions.isMobile;var i=this.props.apiOptions.styling.radioStyleVersion;var a=typeof i==="undefined"?false:i==="final";var s=F(this.props.className,"checkbox-label",N(t.label,o&&A.disableTextSelection,!n&&t.responsiveLabel,n&&t.satLabel));var u=F(N(this.state.isInputFocused&&t.satDescriptionInputFocused,this.state.isInputActive&&t.satDescriptionInputActive));var l=this.props.showCorrectness&&!this.props.correct;var c=this.props.checked&&!l;var p={type:this.props.type,name:this.props.groupName,id:"".concat(this.props.groupName,"-choice-").concat(this.props.pos),checked:c,disabled:this.props.disabled,onFocus:this.onInputFocus,onBlur:this.onInputBlur,className:N(!a&&A.perseusInteractive,!a&&t.input,!a&&A.responsiveInput,!a&&!n&&A.responsiveRadioInput,!a&&!n&&this.state.isInputActive&&A.responsiveRadioInputActive,a&&A.perseusSrOnly,n&&A.perseusSrOnly,n&&this.props.reviewMode&&t.satReviewInput)};var f=null;if(this.props.type==="radio"){f=T.createElement(D,R({onChecked:function e(t){return r._setChecked(t)},goToPrevChoice:this.props.goToPrevChoice,goToNextChoice:this.props.goToNextChoice,inputRef:this.inputRef},p))}else{f=T.createElement("input",R({onChange:function e(t){return r._setChecked(t.target.checked)},ref:this.inputRef},p))}var d=this.props,h=d.reviewMode,v=d.correct,y=d.checked,m=d.isLastChoice;var b=n&&h&&v;var g=n&&h&&!v&&y;var O=F("description",b&&"sat-correct",g&&"sat-incorrect",N(!n&&t.description,n&&t.satDescription,b&&t.satDescriptionCorrect,b&&y&&t.satDescriptionCorrectChecked,g&&t.satDescriptionIncorrectChecked,n&&m&&t.satDescriptionLastChoice));var w=F("checkbox",N(A.perseusInteractive,!n&&t.choiceIconWrapper,n&&t.satCheckboxOptionContent));var C=F("checkbox-and-option",N(!n&&t.intermediateResponsiveCheckbox,!n&&h&&t.intermediateResponsiveCheckboxReview));var k=F("perseus-radio-rationale-content",N(t.rationale,!n&&t.nonSatRationale,n&&t.satReviewRationale));var S=this.props.editMode?"div":"label";var P=this.props.apiOptions.crossOutEnabled;var x=P&&!this.props.showCorrectness;var E=!n&&!h&&this.props.apiOptions.readOnly||x&&this.props.crossedOut;return T.createElement("div",{className:n?u:undefined},T.createElement(I.default,{enabled:x,pos:this.props.pos,primaryProductColor:this.props.apiOptions.styling.primaryProductColor,crossedOut:this.props.crossedOut,onCrossedOutChange:this._setCrossedOut,isSatProduct:n},T.createElement(S,{htmlFor:!this.props.editMode&&p.id,className:s,style:{opacity:E?.5:1}},T.createElement("div",{className:O,onMouseDown:this.onInputMouseDown,onMouseUp:this.onInputMouseUp,onMouseOut:this.onInputMouseOut,onTouchStart:this.onInputMouseDown,onTouchEnd:this.onInputMouseUp},T.createElement("div",{className:C},T.createElement("span",{className:w},f,this.renderChoiceIcon()),T.createElement("span",{className:F(M.RADIO.OPTION_CONTENT,M.INTERACTIVE,N(n&&t.satRadioOptionContent,n&&h&&t.satReviewRadioOptionContent)),style:{cursor:"default"}},T.createElement("div",{className:N(t.optionStatusContainer)},this.renderOptionStatus()),T.createElement("div",null,this.props.content))),this.props.showRationale&&T.createElement("div",{className:k},this.props.rationale)))))}}]);return j}(T.Component);h(x,"propTypes",{apiOptions:m.shape({satStyling:m.bool,isMobile:m.bool,styling:m.shape({radioStyleVersion:m.oneOf(["intermediate","final"]),primaryProductColor:m.string}),readOnly:m.bool}),checked:m.bool,className:m.string,rationale:m.node,content:m.node,correct:m.bool,deselectEnabled:m.bool,disabled:m.bool,editMode:m.bool,groupName:m.string,isLastChoice:m.bool,pos:m.number,reviewMode:m.bool,showRationale:m.bool,showCorrectness:m.bool,type:m.string,crossedOut:m.bool,previouslyAnswered:m.bool,onChange:m.func,goToPrevChoice:m.func.isRequired,goToNextChoice:m.func.isRequired});h(x,"styles",y.create({pos:{display:"none"},description:{display:"inline-block",width:"100%"},satDescription:{display:"block",position:"relative",boxSizing:"border-box",cursor:"pointer",marginLeft:0,padding:"17px 14px"},satDescriptionInputFocused:i({},k,{display:"block"}),satDescriptionInputActive:i({},k,{backgroundColor:g.satActiveBackgroundColor}),satDescriptionCorrect:{color:g.satCorrectColor},satDescriptionCorrectChecked:{backgroundColor:g.satCorrectBackgroundColor},satDescriptionIncorrectChecked:{color:g.satIncorrectColor,backgroundColor:g.satIncorrectBackgroundColor},input:{display:"inline-block",width:20,margin:3,marginLeft:-20,marginRight:0,float:"none"},satReviewInput:{pointerEvents:"none"},satRadioOptionContent:{userSelect:"text",display:"block",marginLeft:45,cursor:"inherit"},satReviewRadioOptionContent:{fontWeight:"bold"},satCheckboxOptionContent:{position:"absolute",display:"block",top:"50%",margin:"-16px 0 0 0",width:"auto"},choiceIconWrapper:{display:"flex",marginRight:12,flexShrink:0},optionStatusContainer:{display:"block"},rationale:{display:"block"},nonSatRationale:h({padding:S,paddingTop:0,marginLeft:44},O.smOrSmaller,{padding:P,paddingTop:0}),satReviewRationale:{marginTop:13,marginLeft:45},label:{display:"block",transition:"opacity 0.2s ease-out"},responsiveLabel:{WebkitTapHighlightColor:"transparent",display:"flex",alignItems:"stretch"},satLabel:{cursor:"pointer"},intermediateResponsiveCheckbox:h({display:"flex",alignItems:"center",padding:S},O.smOrSmaller,{padding:P}),intermediateResponsiveCheckboxReview:{alignItems:"flex-start"}}));h(x,"defaultProps",{apiOptions:{styling:{}},checked:false,classSet:{},correct:false,disabled:false,editMode:false,onChange:function e(){},showRationale:false,type:"radio",pos:0,previouslyAnswered:false});e.exports=x},"OJf/":function(e,t,r){"use strict";r("ma9I");r("2B1R");r("FZtP");function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}var o=function(){function n(e,t,r){i(this,n);this.content=e;this.hint=t;this.tags=r;this.array=u}a(n,[{key:"setContentMapper",value:function e(t){return new n(t,this.hint,this.tags)}},{key:"setHintMapper",value:function e(t){return new n(this.content,t,this.tags)}},{key:"setTagsMapper",value:function e(t){return new n(this.content,this.hint,t)}},{key:"setArrayMapper",value:function e(t){return new s(this.content,this.hint,this.tags,t)}},{key:"mapTree",value:function e(t,r){return d(t,r,[],this)}}]);return n}();var s=function(){function o(e,t,r,n){i(this,o);this.content=e;this.hint=t;this.tags=r;this.array=n}a(o,[{key:"setArrayMapper",value:function e(t){return new o(this.content,this.hint,this.tags,t)}},{key:"mapTree",value:function e(t,r){return d(t,r,[],this)}}]);return o}();function u(e){return e}function l(){return new o(u,u,u)}function d(e,t,r,n){if(t.type==="content"){var o=e;return n.content(o,t,r)}else if(t.type==="hint"){var i=e;return n.hint(i,t,r)}else if(t.type==="tags"){var a=e;return n.tags(a,t,r)}else if(t.type==="array"){var s=e;if(!Array.isArray(s)){throw new Error('Invalid object of type "'.concat(typeof s,'" found at path ')+"".concat(["<root>"].concat(r).join("."),". Expected array."))}var u=t.elementShape;var l=s.map(function(e,t){return d(e,u,r.concat(t),n)});return n.array(l,s,t,r)}else if(t.type==="object"){var c=e;if(c&&typeof c!=="object"){throw new Error('Invalid object of type "'.concat(typeof c,'" found at ')+"path ".concat(["<root>"].concat(r).join("."),". Expected ")+'"object" type.')}var p=t.shape;if(!p){throw new Error("Unexpected shape ".concat(JSON.stringify(t)," at path ")+"".concat(["<root>"].concat(r).join("."),"."))}var f={};Object.keys(p).forEach(function(e){if(!(e in c)){throw new Error('Key "'.concat(e,'" is missing from shape at path ')+"".concat(["<root>"].concat(r).join("."),"."))}f[e]=d(c[e],p[e],r.concat(e),n)});return f}else{throw new Error("unexpected shape type ".concat(t.type))}}e.exports={buildMapper:l}},Ogi5:function(e,t,r){"use strict";e.exports={apiVersion:{major:11,minor:0},itemDataVersion:{major:0,minor:1}}},P9IM:function(e,t,r){"use strict";r("5DmW");var n=u(r("q1tI"));var o=s(r("17x9"));var i=s(r("i8i4"));var a=s(r("UyDz"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}var l=r("reBI").components.Keypad;var c={propTypes:{apiOptions:o.default.shape({customKeypad:o.default.bool,nativeKeypadProxy:o.default.func}),keypadStyle:o.default.any},getInitialState:function e(){var t=this;var r=null;if(this.props.apiOptions&&this.props.apiOptions.customKeypad&&this.props.apiOptions.nativeKeypadProxy){r=this.props.apiOptions.nativeKeypadProxy(function(){return t.blur&&t.blur()})}return{keypadElement:r}},componentDidMount:function e(){var r=this;if(this.props.apiOptions&&this.props.apiOptions.customKeypad&&!this.props.apiOptions.nativeKeypadProxy){this._keypadContainer=document.createElement("div");document.body.appendChild(this._keypadContainer);(0,a.default)(n.createElement(l,{onElementMounted:function e(t){r.setState({keypadElement:t})},onDismiss:function e(){r.blur&&r.blur()},style:this.props.keypadStyle}),this._keypadContainer)}},componentWillUnmount:function e(){if(this._keypadContainer){i.default.unmountComponentAtNode(this._keypadContainer);if(this._keypadContainer.parentNode){this._keypadContainer.parentNode.removeChild(this._keypadContainer)}this._keypadContainer=null}},keypadElement:function e(){return this.state.keypadElement}};e.exports=c},Pnbu:function(e,t,s){"use strict";s("07d7");s("5s+n");var u=s("e2gc");var l=s("4Zwh");var r=function e(t){var r=t.skipMathJax;var n=t.loadExtraWidgets===undefined||t.loadExtraWidgets;var o=u.Deferred();var i=t.extraWidgets?Promise.resolve(t.extraWidgets):n?Promise.all([s.e("corelibs"),s.e("wonder-blocks"),s.e("react-components"),s.e("202ffdaf65bb3b99881b549c4a77dff1"),s.e("db57c62ad4591639c4cc7623f02f750f"),s.e("5da69311e52e1a4cf1c8faa5e0f2182a"),s.e("6645f34147d50b2fd95b57b3333bb9f7")]).then(s.t.bind(null,"bxxM",7)).then(function(e){return e.default}):Promise.resolve(null);i.then(function(e){if(e){l.registerWidgets(e)}o.resolve()});var a=u.Deferred();if(r){a.resolve()}else{MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:"none","HTML-CSS":{availableFonts:["TeX"],imageFont:null,scale:100,showMathMenu:false}});MathJax.Hub.Configured();MathJax.Hub.Queue(a.resolve)}return o.then(function(){return a})};e.exports=r},Q08l:function(e,t,r){"use strict";var n={type:"content"};var o={type:"hint"};var i={type:"tags"};var a=function e(t){return{type:"array",elementShape:t}};var s=function e(t){return{type:"object",shape:t}};var u=a(o);e.exports={content:n,hint:o,hints:u,tags:i,arrayOf:a,shape:s}},R6Bf:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("4mDm");r("2B1R");r("+2oP");r("5DmW");r("NBAS");r("07d7");r("UxlC");r("FZtP");r("3bBZ");var u=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function l(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){h(t,e,r[e])})}return t}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}function c(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return f(e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return d(e,t)}function h(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var v=r("17x9");var _=r("F/us");var y=r("Atlv");var m=r("z875");var b=r("uBl0");var g=r("DUcE");var O=r("zahm"),w=O.linterContextProps,C=O.linterContextDefault;var k=function(e){s(o,e);function o(){var e;var s;i(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}s=c(this,(e=p(o)).call.apply(e,[this].concat(r)));h(f(s),"_renderRenderer",function(e){e=e||"";var i=1;var a={};var t=e.replace(/\{\{passage-ref (\d+) (\d+)(?: "([^"]*)")?\}\}/g,function(e,t,r,n){var o="passage-ref "+i;i++;a[o]={type:"passage-ref",graded:false,options:{passageNumber:parseInt(t),referenceNumber:parseInt(r),summaryText:n},version:m.version};return"[["+b.snowman+" "+o+"]]"});return u.createElement(y,{key:"choiceContentRenderer",content:t,widgets:a,findExternalWidgets:s.props.findWidgets,alwaysUpdate:true,linterContext:l({},s.props.linterContext,{blockHighlight:true})})});h(f(s),"focus",function(e){return s.refs.baseRadio.focus(e)});h(f(s),"updateChoices",function(r){var e=s.props,t=e.choiceStates,n=e.choices;var o;if(t){o=t.map(function(e){return l({},e)})}else{o=n.map(function(){return{selected:false,crossedOut:false,highlighted:false,rationaleShown:false,correctnessShown:false,previouslyAnswered:false,readOnly:false}})}o.forEach(function(e,t){e.selected=r.checked[t];e.crossedOut=r.crossedOut[t]});s.props.onChange({choiceStates:o});s.props.trackInteraction()});h(f(s),"getUserInput",function(){return o.getUserInputFromProps(s.props)});h(f(s),"simpleValidate",function(e){return o.validate(s.getUserInput(),e)});h(f(s),"enforceOrdering",function(e){var t=_.pluck(e,"content");if(_.isEqual(t,[i18n._("False"),i18n._("True")])||_.isEqual(t,[i18n._("No"),i18n._("Yes")])){return[e[1]].concat([e[0]])}return e});h(f(s),"showRationalesForCurrentlySelectedChoices",function(e){if(s.props.choiceStates){var t=s.simpleValidate(e);var r=t.type==="points"&&t.total===t.earned;var n=s.props.choiceStates.map(function(e){return l({},e,{highlighted:e.selected,rationaleShown:e.selected||e.rationaleShown||r,readOnly:e.selected||e.readOnly||r,correctnessShown:e.selected||e.correctnessShown,previouslyAnswered:e.previouslyAnswered||e.selected})});s.props.onChange({choiceStates:n},null,true)}});h(f(s),"deselectIncorrectSelectedChoices",function(){if(s.props.choiceStates){var e=s.props.choiceStates.map(function(e,t){return l({},e,{selected:e.selected&&!!s.props.choices[t].correct,highlighted:false})});s.props.onChange({choiceStates:e},null,false)}});return s}a(o,[{key:"render",value:function e(){var f=this;var t=this.props.choices;var d;if(this.props.static){d=_.map(t,function(e){return{selected:e.correct,crossedOut:e.crossedOut,readOnly:true,highlighted:false,rationaleShown:true,correctnessShown:true,previouslyAnswered:false}})}else if(this.props.choiceStates){d=this.props.choiceStates}else if(this.props.values){d=_.map(this.props.values,function(e){return{selected:e,crossedOut:false,readOnly:false,highlighted:false,rationaleShown:false,correctnessShown:false,previouslyAnswered:false}})}else{d=_.map(t,function(){return{selected:false,crossedOut:false,readOnly:false,highlighted:false,rationaleShown:false,correctnessShown:false,previouslyAnswered:false}})}t=_.map(t,function(e,t){var r=e.isNoneOfTheAbove&&!e.content?i18n._("None of the above"):e.content;var n=d[t],o=n.selected,i=n.crossedOut,a=n.rationaleShown,s=n.correctnessShown,u=n.readOnly,l=n.highlighted,c=n.previouslyAnswered;var p=f.props.reviewModeRubric&&f.props.reviewModeRubric.choices[t];return{content:f._renderRenderer(r),checked:o,correct:typeof e.correct==="undefined"?!!p&&p.correct:e.correct,disabled:u,hasRationale:!!e.clue,rationale:f._renderRenderer(e.clue),showRationale:a,showCorrectness:s,isNoneOfTheAbove:e.isNoneOfTheAbove,revealNoneOfTheAbove:f.props.questionCompleted&&o,crossedOut:i,highlighted:l,previouslyAnswered:c}});t=this.enforceOrdering(t);return u.createElement(g,{ref:"baseRadio",labelWrap:true,multipleSelect:this.props.multipleSelect,countChoices:this.props.countChoices,numCorrect:this.props.numCorrect,choices:t,onChange:this.updateChoices,reviewModeRubric:this.props.reviewModeRubric,deselectEnabled:this.props.deselectEnabled,apiOptions:this.props.apiOptions,isLastUsedWidget:this.props.isLastUsedWidget})}}]);return o}(u.Component);h(k,"propTypes",{apiOptions:g.propTypes.apiOptions,choices:v.arrayOf(v.shape({content:v.string,clue:v.string,correct:v.bool,isNoneOfTheAbove:v.bool,originalIndex:v.number.isRequired}).isRequired).isRequired,deselectEnabled:v.bool,displayCount:v.any,findWidgets:v.func,multipleSelect:v.bool,countChoices:v.bool,numCorrect:v.number,onChange:v.func.isRequired,questionCompleted:v.bool,reviewModeRubric:g.propTypes.reviewModeRubric,trackInteraction:v.func.isRequired,values:v.arrayOf(v.bool),choiceStates:v.arrayOf(v.shape({selected:v.bool,crossedOut:v.bool,highlighted:v.bool,rationaleShown:v.bool,correctnessShown:v.bool,readOnly:v.bool,previouslyAnswered:v.bool}).isRequired),linterContext:w,static:v.bool,isLastUsedWidget:v.bool});h(k,"defaultProps",{choices:[{}],displayCount:null,multipleSelect:false,countChoices:false,deselectEnabled:false,linterContext:C});_.extend(k,{validate:function e(n,o){var t=_.reduce(n.choicesSelected,function(e,t){return e+(t?1:0)},0);if(t===0){return{type:"invalid",message:null}}else if(n.numCorrect>1&&t!==n.numCorrect){return{type:"invalid",message:i18n._("Please choose the correct number of answers.")}}else if(n.noneOfTheAboveSelected&&t>1){return{type:"invalid",message:i18n._("'None of the above' may not be selected "+"when other answers are selected.")}}else{var r=_.all(n.choicesSelected,function(e,r){var t;if(n.noneOfTheAboveIndex===r){t=_.all(o.choices,function(e,t){return r===t||!e.correct})}else{t=!!o.choices[r].correct}return t===e});return{type:"points",earned:r?1:0,total:1,message:null}}},getUserInputFromProps:function e(t){if(t.choiceStates){var r=null;var n=false;var o=t.choiceStates;var i=o.map(function(){return false});var a=t.countChoices;var s=t.numCorrect;for(var u=0;u<i.length;u++){var l=t.choices[u].originalIndex;i[l]=o[u].selected;if(t.choices[u].isNoneOfTheAbove){r=l;if(i[u]){n=true}}}return{countChoices:a,choicesSelected:i,numCorrect:s,noneOfTheAboveIndex:r,noneOfTheAboveSelected:n}}else if(t.values){var c=null;var p=false;var f=t.values.slice();var d=t.countChoices;var h=t.numCorrect;for(var v=0;v<t.values.length;v++){var y=t.choices[v].originalIndex;f[y]=t.values[v];if(t.choices[v].isNoneOfTheAbove){c=y;if(f[v]){p=true}}}return{choicesSelected:f,noneOfTheAboveIndex:c,noneOfTheAboveSelected:p,countChoices:d,numCorrect:h}}else{return{choicesSelected:_.map(t.choices,function(){return false})}}}});e.exports=k},SoFn:function(e,t,r){"use strict";r("FZtP");var n=r("OJf/"),o=n.buildMapper;var i=r("Q08l");function a(e){if(e.type==="content"){return{__type:"content",content:"",images:{},widgets:{}}}else if(e.type==="hint"){return{__type:"hint",replace:false,content:"",images:{},widgets:{}}}else if(e.type==="tags"){return[]}else if(e.type==="array"){return[]}else if(e.type==="object"){var t=e.shape;var r={};Object.keys(t).forEach(function(e){r[e]=a(t[e])});return r}else{throw new Error("unexpected shape type ".concat(e.type))}}function s(e){return d(a(e))}function u(e,t,r){var n=f(e);o().setContentMapper(r).mapTree(n,t)}function l(e,t,r){var n=f(e);o().setHintMapper(r).mapTree(n,t)}function c(e){var t=f(e);return p(t)}function p(t){if(Array.isArray(t)){if(t.length){if(typeof t[0]==="string"){return i.tags}else{return i.arrayOf(p(t[0]))}}else{return i.arrayOf(i.content)}}else if(typeof t==="object"&&(t.__type==="content"||t.__type==="item")){return i.content}else if(typeof t==="object"&&t.__type==="hint"){return i.hint}else if(typeof t==="object"){var r={};Object.keys(t).forEach(function(e){r[e]=p(t[e])});return i.shape(r)}else{throw new Error("unexpected multi-item node ".concat(JSON.stringify(t)))}}function f(e){return e._multi}function d(e){return{_multi:e}}e.exports={buildEmptyItemTreeForShape:a,buildEmptyItemForShape:s,findContentNodesInItem:u,findHintNodesInItem:l,inferItemShape:c,itemToTree:f,treeToItem:d}},TOec:function(e,t,r){"use strict";r("5DmW");r("NBAS");var a=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}var d=r("mR6N"),h=d.StyleSheet,v=d.css;var i18n=r("HEOz");var y=r("UcaO");var m=function(e){p(t,e);function t(){o(this,t);return u(this,c(t).apply(this,arguments))}s(t,[{key:"_renderText",value:function e(){var t=this.props,r=t.checked,n=t.correct,o=t.crossedOut;if(n){if(r){return i18n._("Correct (selected)")}else if(o){return i18n._("Correct (but you crossed it out)")}else{return i18n._("Correct")}}else{if(r){return i18n._("Incorrect (selected)")}else{return i18n._("Incorrect")}}}},{key:"render",value:function e(){var t=this.props,r=t.checked,n=t.correct,o=t.previouslyAnswered;var i;if(n){i=b.correct}else{if(r||o){i=b.incorrectAnswered}else{i=b.incorrect}}return a.createElement("div",{className:v(b.text,i)},this._renderText())}}]);return t}(a.Component);var b=h.create({text:{alignItems:"center",display:"flex",fontSize:12,height:32,textTransform:"uppercase"},correct:{color:y.kaGreen},incorrectAnswered:{color:y.warning1},incorrect:{color:y.gray68}});e.exports=m},WZBl:function(e,t,r){"use strict";r("2B1R");r("5DmW");r("NBAS");var n=o(r("q1tI"));function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var h=r("17x9");var _=r("F/us");var i18n=r("HEOz");var v=function(e){p(t,e);function t(){i(this,t);return u(this,c(t).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=_.uniq(this.props.answers);var r=_.map(t,function(e){return n.createElement("dd",{key:e},e)});return n.createElement("dl",{className:"perseus-possible-answers"},n.createElement("dt",null,i18n.doNotTranslate("Correct Answer")),r)}}]);return t}(n.Component);d(v,"propTypes",{answers:h.arrayOf(h.string)});e.exports=v},YH1v:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("+2oP");r("5DmW");r("NBAS");r("UxlC");r("FZtP");var l=a(r("q1tI"));var n,o,i;function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){m(t,e,r[e])})}return t}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}function f(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return h(e)}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return y(e,t)}function m(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var b=r("17x9");var g=r("i8i4");var O=r("mR6N"),w=O.StyleSheet,C=O.css;var k=r("TSYQ");var _=r("F/us");var i18n=r("HEOz");var S=r("hzUw");var P=r("yPu2");var x=r("1+56");var E=r("TBZ3");var j=r("MG0i");var T=r("UcaO"),I=T.baseUnitPx,R=T.hintBorderWidth,N=T.kaGreen,F=T.gray85,M=T.gray17;var A=r("Boyy");var D=r("zahm"),B=D.linterContextProps,q=D.linterContextDefault;var W=function(e){v(o,e);function o(){var e;var i;u(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}i=f(this,(e=d(o)).call.apply(e,[this].concat(r)));m(h(i),"_hintsVisible",function(){if(i.props.hintsVisible==null||i.props.hintsVisible===-1){return i.props.hints.length}else{return i.props.hintsVisible}});m(h(i),"_cacheImagesInHint",function(e){_.each(e.images,function(e,t){var r=new Image;r.src=P.getRealImageUrl(t)})});m(h(i),"_cacheHintImages",function(){if(i._hintsVisible()>0){_.each(i.props.hints,i._cacheImagesInHint)}else if(i.props.hints.length>0){i._cacheImagesInHint(i.props.hints[0])}});m(h(i),"getApiOptions",function(){var e=x.getApiOptions.call(h(i));e.readOnly=false;return e});m(h(i),"getSerializedState",function(){return _.times(i._hintsVisible(),function(e){return i.refs["hintRenderer"+e].getSerializedState()})});m(h(i),"restoreSerializedState",function(e,t){var n=1;var o=function e(){--n;if(t&&n===0){t()}};_.each(e,function(e,t){var r=i.refs["hintRenderer"+t];if(r){++n;r.restoreSerializedState(e,o)}});o()});return i}p(o,[{key:"componentDidMount",value:function e(){this._cacheHintImages()}},{key:"componentDidUpdate",value:function e(t,r){if(!_.isEqual(t.hints,this.props.hints)||t.hintsVisible!==this.props.hintsVisible){this._cacheHintImages()}if(t.hintsVisible<this.props.hintsVisible){var n=this.props.hintsVisible-1;g.findDOMNode(this.refs["hintRenderer"+n]).focus()}}},{key:"render",value:function e(){var i=this;var a=this.getApiOptions();var s=this._hintsVisible();var u=[];this.props.hints.slice(0,s).forEach(function(e,t){var r=t===i.props.hints.length-1&&!/\*\*/.test(e.content);var n=t===s-1;var o=l.createElement(S,{lastHint:r,lastRendered:n,hint:e,pos:t,totalHints:i.props.hints.length,ref:"hintRenderer"+t,key:"hintRenderer"+t,apiOptions:a,findExternalWidgets:i.props.findExternalWidgets,linterContext:A.pushContextStack(i.props.linterContext,"hints["+t+"]")});if(e.replace&&u.length>0){u[u.length-1]=o}else{u.push(o)}});var t=a.getAnotherHint&&s>0&&s<this.props.hints.length;var r="(".concat(s,"/").concat(this.props.hints.length,")");var n=k(this.props.className,a.isMobile&&s>0&&C(V.mobileHintStylesHintsRenderer));return l.createElement("div",{className:n},a.isMobile&&s>0&&l.createElement("div",{className:C(V.mobileHintStylesHintTitle,j.responsiveLabel)},i18n._("Hints")),u,t&&l.createElement("button",{rel:"button",className:C(V.linkButton,V.getAnotherHintButton,a.isMobile&&V.mobileHintStylesGetAnotherHintButton),onClick:function e(t){t.preventDefault();t.stopPropagation();a.getAnotherHint()}},l.createElement("span",{className:C(V.plusText,a.isMobile&&V.mobileHintStylesPlusText)},"+"),l.createElement("span",{className:C(V.getAnotherHintText)},i18n._("Get another hint")," ",r)))}}]);return o}(l.Component);m(W,"propTypes",s({},x.propTypes,{className:b.string,hints:b.arrayOf(b.any),hintsVisible:b.number,findExternalWidgets:b.func,linterContext:B}));m(W,"defaultProps",{linterContext:q});var z=I+R;var V=w.create({rendererMargins:{marginTop:I},linkButton:{cursor:"pointer",border:"none",backgroundColor:"transparent",fontSize:"100%",fontFamily:"inherit",fontWeight:"bold",color:N,padding:0,position:"relative"},plusText:{fontSize:20,position:"absolute",top:-3,left:0},getAnotherHintText:{marginLeft:16},mobileHintStylesHintsRenderer:{marginTop:4*I,border:"solid ".concat(F),borderWidth:"1px 0 0 0",position:"relative",":before":{content:'""',display:"table",clear:"both"},":after":{content:'""',display:"table",clear:"both"}},mobileHintStylesHintTitle:(n={fontFamily:"inherit",fontStyle:"normal",fontWeight:"bold",color:M,paddingTop:I,paddingBottom:1.5*I},m(n,E.lgOrSmaller,{paddingLeft:0}),m(n,E.smOrSmaller,{paddingLeft:z}),n),getAnotherHintButton:{marginTop:1.5*I},mobileHintStylesGetAnotherHintButton:(o={},m(o,E.lgOrSmaller,{paddingLeft:0}),m(o,E.smOrSmaller,{paddingLeft:z}),o),mobileHintStylesPlusText:(i={},m(i,E.lgOrSmaller,{left:0}),m(i,E.smOrSmaller,{left:z}),i)});e.exports=W},YqAk:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("zKZe");r("5DmW");r("NBAS");r("FZtP");var a=m(r("q1tI"));var n=m(r("i8i4"));var o=y(r("F/us"));var s=y(r("e2gc"));var u=y(r("UyDz"));var l=r("j8wP");var c=y(r("YH1v"));var p=y(r("Atlv"));var i=y(r("P9IM"));var f=y(r("uBl0"));var d=r("vNny");var h=y(r("Boyy"));var v=r("zahm");function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return b.apply(this,arguments)}function g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){j(t,e,r[e])})}return t}function O(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function C(e,t,r){if(t)w(e.prototype,t);if(r)w(e,r);return e}function k(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return P(e)}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function x(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}function j(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var T=function(e){x(t,e);function t(e){var r;O(this,t);r=k(this,S(t).call(this,e));j(P(r),"_handleFocusChange",function(e,t){if(e!=null){r._setCurrentFocus(e)}else{r._onRendererBlur(t)}});j(P(r),"handleInteractWithWidget",function(e){var t=o.default.difference(r.state.questionHighlightedWidgets,[e]);r.setState({questionCompleted:false,questionHighlightedWidgets:t});if(r.props.apiOptions.interactionCallback){r.props.apiOptions.interactionCallback()}});r.state=g({},i.default.getInitialState.call(P(r)),{hintsVisible:e.initialHintsVisible,questionCompleted:false,questionHighlightedWidgets:[]});return r}C(t,[{key:"componentDidMount",value:function e(){i.default.componentDidMount.call(this);if(this.props.controlPeripherals&&this.props.apiOptions.setDrawingAreaAvailable){this.props.apiOptions.setDrawingAreaAvailable(true)}this._currentFocus=null;this.update()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({questionHighlightedWidgets:[]})}},{key:"componentDidUpdate",value:function e(){this.update()}},{key:"componentWillUnmount",value:function e(){i.default.componentWillUnmount.call(this);n.unmountComponentAtNode(document.querySelector(this.props.workAreaSelector));n.unmountComponentAtNode(document.querySelector(this.props.hintsAreaSelector));if(this.props.controlPeripherals){var t=this.props.item.answerArea||{};if(t.calculator){(0,s.default)("#calculator").hide()}if(t.periodicTable){(0,s.default)(".periodic-table-info-box").hide()}if(t.zTable){(0,s.default)(".z-table-info-box").hide()}if(t.tTable){(0,s.default)(".t-table-info-box").hide()}if(t.chi2Table){(0,s.default)(".chi2-table-info-box").hide()}}}},{key:"keypadElement",value:function e(){return i.default.keypadElement.call(this)}},{key:"update",value:function e(){var n=this;var o=g({},l.Options.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange});var t=document.querySelector(this.props.workAreaSelector);var r=document.querySelector(this.props.hintsAreaSelector);if(!t||!r){return}(0,u.default)(a.createElement(p.default,b({ref:function e(t){if(!t){return}n.questionRenderer=t;if(o.answerableCallback){var r=n.questionRenderer.emptyWidgets().length===0;o.answerableCallback(r)}},keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:o,questionCompleted:this.state.questionCompleted,reviewMode:this.props.reviewMode,savedState:this.props.savedState,linterContext:h.default.pushContextStack(this.props.linterContext,"question")},this.props.item.question,{legacyPerseusLint:this.props.legacyPerseusLint})),t);(0,u.default)(a.createElement(c.default,{ref:function e(t){if(!t){return}n.hintsRenderer=t},hints:this.props.item.hints,hintsVisible:this.state.hintsVisible,apiOptions:o,linterContext:h.default.pushContextStack(this.props.linterContext,"hints")}),r);var i=this.props.item.answerArea||{};if(this.props.controlPeripherals){(0,s.default)("#calculator").toggle(i.calculator||false);(0,s.default)(".periodic-table-info-box").toggle(i.periodicTable||false);(0,s.default)(".z-table-info-box").toggle(i.zTable||false);(0,s.default)(".t-table-info-box").toggle(i.tTable||false);(0,s.default)(".chi2-table-info-box").toggle(i.chi2Table||false)}else{if(i.calculator){this.props.onShowCalculator&&this.props.onShowCalculator()}if(i.periodicTable){this.props.onShowPeriodicTable&&this.props.onShowPeriodicTable()}if(i.zTable){this.props.onShowZTable&&this.props.onShowZTable()}if(i.tTable){this.props.onShowTTable&&this.props.onShowTTable()}if(i.chi2Table){this.props.onShowChi2Table&&this.props.onShowChi2Table()}}}},{key:"_setCurrentFocus",value:function e(t){var r=this;var n=this.keypadElement();var o=this._currentFocus;this._currentFocus=t;var i=this.getInputPaths();var a=this._currentFocus&&i.some(function(e){return f.default.inputPathsEqual(e,r._currentFocus)});if(this.props.apiOptions.onFocusChange!=null){this.props.apiOptions.onFocusChange(this._currentFocus,o,a&&n&&n.getDOMNode())}if(n){if(a){n.activate()}else{n.dismiss()}}}},{key:"_onRendererBlur",value:function e(t){var r=this;var n=this._currentFocus;if(!f.default.inputPathsEqual(t,n)){return}setTimeout(function(){if(f.default.inputPathsEqual(r._currentFocus,n)){r._setCurrentFocus(null)}})}},{key:"_setWidgetProps",value:function e(t,r,n){this.questionRenderer._setWidgetProps(t,r,n)}},{key:"setInputValue",value:function e(t,r,n){return this.questionRenderer.setInputValue(t,r,n)}},{key:"focusPath",value:function e(t){return this.questionRenderer.focusPath(t)}},{key:"blurPath",value:function e(t){return this.questionRenderer.blurPath(t)}},{key:"getDOMNodeForPath",value:function e(t){return this.questionRenderer.getDOMNodeForPath(t)}},{key:"getGrammarTypeForPath",value:function e(t){return this.questionRenderer.getGrammarTypeForPath(t)}},{key:"getInputPaths",value:function e(){var t=this.questionRenderer.getInputPaths();return t}},{key:"focus",value:function e(){return this.questionRenderer.focus()}},{key:"blur",value:function e(){if(this._currentFocus){this.blurPath(this._currentFocus)}}},{key:"showHint",value:function e(){if(this.state.hintsVisible<this.getNumHints()){this.setState({hintsVisible:this.state.hintsVisible+1})}}},{key:"getNumHints",value:function e(){return this.props.item.hints.length}},{key:"scoreInput",value:function e(){var t=this.questionRenderer.guessAndScore();var r=t[0];var n=t[1];var o=[r,[]];var i=f.default.keScoreFromPerseusScore(n,o,this.questionRenderer.getSerializedState());var a=this.questionRenderer.emptyWidgets();this.setState({questionCompleted:i.correct,questionHighlightedWidgets:a});return i}},{key:"getWidgetIds",value:function e(){return this.questionRenderer.getWidgetIds()}},{key:"scoreWidgets",value:function e(){var t=this.questionRenderer.scoreWidgets();var r=this.questionRenderer.getUserInputForWidgets();var n=this.questionRenderer.getSerializedState();return(0,d.mapObject)(t,function(e,t){return f.default.keScoreFromPerseusScore(e,r[t],n)})}},{key:"getSerializedState",value:function e(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}}},{key:"restoreSerializedState",value:function e(t,r){var n=2;var o=function e(){--n;if(r&&n===0){r()}};this.questionRenderer.restoreSerializedState(t.question,o);this.hintsRenderer.restoreSerializedState(t.hints,o)}},{key:"showRationalesForCurrentlySelectedChoices",value:function e(){this.questionRenderer.showRationalesForCurrentlySelectedChoices()}},{key:"deselectIncorrectSelectedChoices",value:function e(){this.questionRenderer.deselectIncorrectSelectedChoices()}},{key:"render",value:function e(){return a.createElement("div",null)}}]);return t}(a.Component);j(T,"defaultProps",{apiOptions:{},controlPeripherals:true,hintsAreaSelector:"#hintsarea",initialHintsVisible:0,workAreaSelector:"#workarea",reviewMode:false,linterContext:v.linterContextDefault});e.exports=T},"ZM/w":function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("pjDv");r("4mDm");r("2B1R");r("+2oP");r("zKZe");r("5DmW");r("NBAS");r("07d7");r("JfAA");r("FZtP");r("3bBZ");var i=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return a.apply(this,arguments)}function s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){g(t,e,r[e])})}return t}function l(e){return c(e)||u(e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function c(e){if(Array.isArray(e))return e}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);return e}function h(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return y(e)}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)b(e,t)}function b(e,t){b=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return b(e,t)}function g(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var O=r("17x9");var w=r("TSYQ");var C=r("uBl0");var k=r("j8wP").Options;var S=r("j8wP").ClassNames;var P=r("Atlv");var x=r("P9IM");var E=r("Boyy");var j=r("zahm"),T=j.linterContextProps,I=j.linterContextDefault;var R=O.shape({content:O.string,widgets:O.object,images:O.object});var N=function(e){m(t,e);function t(e){var u;p(this,t);u=h(this,v(t).call(this,e));g(y(u),"keypadElement",function(){return x.keypadElement.call(y(u))});g(y(u),"_handleFocusChange",function(e,t){if(e){u._setCurrentFocus(e)}else{u._onRendererBlur(t)}});g(y(u),"_setCurrentFocus",function(e){var t=u.keypadElement();var r=u._currentFocus;u._currentFocus=e;var n=false;if(u._currentFocus){var o=l(u._currentFocus),i=o[0],a=o.slice(1);var s=u.refs[i].getInputPaths();n=s.some(function(e){return C.inputPathsEqual(e,a)})}if(u.props.apiOptions.onFocusChange!=null){u.props.apiOptions.onFocusChange(u._currentFocus,r,n&&t&&t.getDOMNode())}if(t){if(n){t.activate()}else{t.dismiss()}}});g(y(u),"_onRendererBlur",function(e){var t=u._currentFocus;if(!C.inputPathsEqual(e,t)){return}setTimeout(function(){if(C.inputPathsEqual(u._currentFocus,t)){u._setCurrentFocus(null)}})});g(y(u),"blur",function(){if(u._currentFocus){var e=l(u._currentFocus),t=e[0],r=e.slice(1);u.refs[t].blurPath(r)}});g(y(u),"_sections",function(){return Array.isArray(u.props.json)?u.props.json:[u.props.json]});u.state=x.getInitialState.call(y(u));return u}d(t,[{key:"componentDidMount",value:function e(){x.componentDidMount.call(this);this._currentFocus=null}},{key:"shouldComponentUpdate",value:function e(t,r){return t!==this.props||r!==this.state}},{key:"componentWillUnmount",value:function e(){x.componentWillUnmount.call(this)}},{key:"render",value:function e(){var o=this;var r=s({},k.defaults,this.props.apiOptions,{isArticle:true});var t=w(g({"framework-perseus":true,"perseus-article":true,"bibliotron-article":this.props.useNewStyles},S.MOBILE,r.isMobile));var n=this._sections().map(function(e,t){var n="section-".concat(t);return i.createElement("div",{key:t,className:"clearfix"},i.createElement(P,a({},e,{ref:n,key:t,key_:t,keypadElement:o.keypadElement(),apiOptions:s({},r,{onFocusChange:function e(t,r){o._handleFocusChange(t&&[n].concat(t),r&&[n].concat(r))}}),linterContext:E.pushContextStack(o.props.linterContext,"article"),legacyPerseusLint:o.props.legacyPerseusLint})))});return i.createElement("div",{className:t},n)}}]);return t}(i.Component);g(N,"propTypes",s({},x.propTypes,{apiOptions:O.shape({onFocusChange:O.func,isMobile:O.bool}),json:O.oneOfType([R,O.arrayOf(R)]).isRequired,useNewStyles:O.bool,linterContext:T,legacyPerseusLint:O.arrayOf(O.string)}));g(N,"defaultProps",{apiOptions:{},useNewStyles:false,linterContext:I});e.exports=N},b5JB:function(e,t,r){"use strict";r("2B1R");r("+2oP");r("pDQq");var a=r("uBl0");var c=r("F/us");var n=r("R6Bf");var p=function e(n,o){var t=function e(t){var r=o===undefined?a.random:o;return n.randomize?(0,a.shuffle)(t,r):t};var r=function e(t){var r=null;var n=c.reject(t,function(e,t){if(e.isNoneOfTheAbove){r=e;return true}});if(r){n.push(r)}return n};var i=n.choices.slice();i=c.map(i,function(e,t){return c.extend({},e,{originalIndex:t,correct:Boolean(e.correct)})});return r(t(i))};var o=function e(t,r){var n=p(t,r);var o=c.reduce(t.choices,function(e,t){return t.correct?e+1:e},0);var i=t.hasNoneOfTheAbove,a=t.multipleSelect,s=t.countChoices,u=t.correctAnswer,l=t.deselectEnabled;return{numCorrect:o,hasNoneOfTheAbove:i,multipleSelect:a,countChoices:s,correctAnswer:u,deselectEnabled:l,choices:n,selectedChoices:c.pluck(n,"correct")}};var i={1:function _(e){var t;var r;if(!e.noneOfTheAbove){t=e.choices;r=false}else{t=c.clone(e.choices);var n=c.random(0,e.choices.length-1);var o=c.extend({},e.choices[n],{isNoneOfTheAbove:true});t.splice(n,1);t.push(o);r=true}return c.extend(c.omit(e,"noneOfTheAbove"),{choices:t,hasNoneOfTheAbove:r})}};e.exports={name:"radio",displayName:"Multiple choice",accessible:true,widget:n,transform:o,staticTransform:o,version:{major:1,minor:0},propUpgrades:i,isLintable:true}},bGTE:function(e,t,r){"use strict";r("EnZy");Object.defineProperty(t,"__esModule",{value:true});t.getChoiceLetter=n;var i18n=r("HEOz");function n(e){var t=i18n._("A B C D E F G H I J K L M N O P Q R S T U V W X Y Z");var r=t.split(" ");if(e<r.length){return r[e]}else{return" "}}},"e04/":function(e,t,r){"use strict";r("ma9I");r("TeQF");r("fbCW");r("yXV3");r("4mDm");r("2B1R");r("+2oP");r("ToJy");r("zKZe");r("5DmW");r("NBAS");r("07d7");r("EnZy");r("FZtP");r("3bBZ");var d=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return h.apply(this,arguments)}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}function s(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return l(e)}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return u(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return p(e,t)}function f(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var v=r("TSYQ");var y=r("17x9");var _=r("F/us");var m=r("mR6N"),b=m.StyleSheet,g=m.css;var O=r("UcaO");var w=r("l+pH");var C=r("eMwK");var k=r("7gXX").parseTex;var S=r("WZBl");var P=r("j8wP").ClassNames;var x=r("j8wP").Options;var E=r("7BBF");var j=r("XwLL");var T=r("reBI").propTypes.keypadElementPropType;var I=r("zahm"),R=I.linterContextProps,N=I.linterContextDefault;var F=r("/4Qb"),M=F.iconDropdownArrow;var A=r("APgo");var i18n=r("HEOz");var D=[{title:"Integers",value:"integer",content:"6"},{title:"Decimals",value:"decimal",content:"0.75"},{title:"Proper fractions",value:"proper",content:"⅗"},{title:"Improper fractions",value:"improper",content:"⁷⁄₄"},{title:"Mixed numbers",value:"mixed",content:"1¾"},{title:"Numbers with π",value:"pi",content:"π"}];var B={integer:function e(){return i18n._("an integer, like $6$")},proper:function e(t){return t.simplify==="optional"?i18n._("a *proper* fraction, like $1/2$ or $6/10$"):i18n._("a *simplified proper* fraction, like $3/5$")},improper:function e(t){return t.simplify==="optional"?i18n._("an *improper* fraction, like $10/7$ or $14/8$"):i18n._("a *simplified improper* fraction, like $7/4$")},mixed:function e(){return i18n._("a mixed number, like $1\\ 3/4$")},decimal:function e(){return i18n._("an *exact* decimal, like $0.75$")},pi:function e(){return i18n._("a multiple of pi, like $12\\ \\text{pi}$ or "+"$2/3\\ \\text{pi}$")}};var q=function(e){c(o,e);function o(){var e;var a;i(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}a=s(this,(e=u(o)).call.apply(e,[this].concat(r)));f(l(a),"state",{numSolutions:"no-solutions",previousValues:[""]});f(l(a),"getAnswerBlurb",function(e){var t;var r;if(a.props.apiOptions.satStyling&&e){var n=a.simpleValidate(e);t=n.type==="points"&&n.earned===n.total;if(!t){var o=_.filter(e.answers,function(e){return e.status==="correct"});var i=_.map(o,function(e){var t="decimal";if(e.answerForms&&e.answerForms[0]){t=e.answerForms[0]}var r=j.toNumericString(e.value,t);if(e.maxError){r+=" ± "+j.toNumericString(e.maxError,t)}return r});r=d.createElement(S,{answers:i})}}return[r,t]});f(l(a),"getClasses",function(e,t){var r={};r["perseus-input-size-"+a.props.size]=true;r["perseus-input-right-align"]=a.props.rightAlign;r[P.CORRECT]=t&&e&&a.props.currentValue;r[P.INCORRECT]=t&&!e&&a.props.currentValue;r[P.UNANSWERED]=t&&!a.props.currentValue;return r});f(l(a),"handleChange",function(e,t){a.props.onChange({currentValue:e},t);a.props.trackInteraction()});f(l(a),"handleMultipleInputChange",function(e,t){var r=a.props.currentMultipleValues.slice();r[e]=t;a.props.onChange({currentMultipleValues:r});a.props.trackInteraction()});f(l(a),"handleNumSolutionsChange",function(e){var t=e.target.value;a.setState({numSolutions:t});if(t==="no-solutions"){a.setState({previousValues:a.props.currentMultipleValues});a.props.onChange({currentMultipleValues:[]})}else{a.props.onChange({currentMultipleValues:a.state.previousValues});a.setState({previousValues:[]})}});f(l(a),"_getInputType",function(){if(a.props.apiOptions.staticRender){return"tex"}else{return"text"}});f(l(a),"_handleFocus",function(){a.props.onFocus([]);var e=a.props.apiOptions.interactionCallback;if(e){e()}});f(l(a),"_handleBlur",function(){a.props.onBlur([])});f(l(a),"_addInput",function(){a.props.onChange({currentMultipleValues:a.props.currentMultipleValues.concat([""])})});f(l(a),"_removeInput",function(e,t){var r=a.props.currentMultipleValues.length;var n=a.props.currentMultipleValues.slice(0,e).concat(a.props.currentMultipleValues.slice(e+1,r));a.props.onChange({currentMultipleValues:n})});f(l(a),"focus",function(){a.refs.input.focus();return true});f(l(a),"focusInputPath",function(e){a.refs.input.focus()});f(l(a),"blurInputPath",function(e){a.refs.input.blur()});f(l(a),"getInputPaths",function(){return[[]]});f(l(a),"getGrammarTypeForPath",function(e){return"number"});f(l(a),"setInputValue",function(e,t,r){a.props.onChange({currentValue:t},r)});f(l(a),"getUserInput",function(){return o.getUserInputFromProps(a.props)});f(l(a),"simpleValidate",function(e){return o.validate(a.getUserInput(),e)});f(l(a),"shouldShowExamples",function(){var e=a.props.answerForms.length===0;var t=_.uniq(a.props.answerForms.map(function(e){return e.name}));var r=t.length>=_.size(B);return!e&&!r});f(l(a),"examples",function(){var e=a.props.answerForms.length!==0?a.props.answerForms:_.map(_.keys(B),function(e){return{name:e,simplify:"required"}});var t=_.map(e,function(e){return B[e.name](e)});t=_.uniq(t);return[i18n._("**Your answer should be** ")].concat(t)});return a}a(o,[{key:"render",value:function e(){var n=this;var t=this.props.reviewModeRubric;var r=this.getAnswerBlurb(t);var o=r[0];var i=r[1];var a=this.getClasses(i,t);var s=this.props.labelText;if(s==null||s===""){s=i18n._("Your answer:")}var u=v({"perseus-widget-dropdown":true});var l=d.createElement("div",null,d.createElement("select",{onChange:this.handleNumSolutionsChange,className:u+" "+g(V.dropdown)+" "+P.INTERACTIVE,value:this.state.numSolutions},d.createElement("option",{value:"no-solutions"},i18n._("0 solutions")),d.createElement("option",{value:"finite-solutions"},i18n._("Finite solutions"))),d.createElement(A,h({},M,{style:{marginLeft:-24,height:24,width:24}})));var c=function e(t){return n.props.rightAlign?d.createElement("div",{className:"perseus-input-right-align"},t):t};var p;if(this.props.multipleNumberInput){if(this.state.numSolutions==="no-solutions"){return l}else{var f=d.createElement("div",{className:g(V.addInputButton),onClick:this._addInput},"+");p=d.createElement("div",null,this.props.currentMultipleValues.map(function(e,r){return d.createElement("div",{key:r,className:g(V.numberInputContainer)},r>0&&d.createElement("div",{className:g(V.removeInputButton),onClick:function e(t){return n._removeInput(r,t)},"aria-label":"Remove this answer"},"-"),n.props.apiOptions.customKeypad?c(d.createElement(C,{ref:"input",value:n.props.currentMultipleValues[r],keypadElement:n.props.keypadElement,onChange:function e(t){return n.handleMultipleInputChange(r,t)},onFocus:n._handleFocus,onBlur:n._handleBlur})):d.createElement(w,{ref:"input",value:n.props.currentMultipleValues[r],onChange:function e(t){return n.handleMultipleInputChange(r,t)},className:v(a,g(V.numberInput)),labelText:s,type:n._getInputType(),examples:n.examples(),shouldShowExamples:n.shouldShowExamples(),onFocus:n._handleFocus,onBlur:n._handleBlur,id:n.props.widgetId,disabled:n.props.apiOptions.readOnly,highlightLint:n.props.highlightLint}))}),f,i18n._("Add answer"))}}else{if(this.props.apiOptions.customKeypad){return c(d.createElement(C,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur}))}else{p=d.createElement(w,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,className:v(a),labelText:s,type:this._getInputType(),examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly,highlightLint:this.props.highlightLint})}}if(o){return d.createElement("span",{className:"perseus-input-with-answer-blurb"},this.props.multipleNumberInput&&l,p,o)}else if(this.props.apiOptions.satStyling){return d.createElement("label",{className:"perseus-input-with-label","aria-hidden":"true"},d.createElement("span",{className:"perseus-input-label"},i18n.doNotTranslate("Answer:")),this.props.multipleNumberInput&&l,p)}else{return d.createElement("div",null,this.props.multipleNumberInput&&l,p)}}}]);return o}(d.Component);f(q,"propTypes",{currentValue:y.string,currentMultipleValues:y.arrayOf(y.string),size:y.oneOf(["normal","small"]),rightAlign:y.bool,apiOptions:x.propTypes,coefficient:y.bool,answerForms:y.arrayOf(y.shape({name:y.string.isRequired,simplify:y.oneOf(["required","optional"]).isRequired})),keypadElement:T,labelText:y.string,reviewModeRubric:y.object,trackInteraction:y.func.isRequired,widgetId:y.string.isRequired,linterContext:R,multipleNumberInput:y.bool});f(q,"defaultProps",{currentValue:"",currentMultipleValues:[""],size:"normal",rightAlign:false,apiOptions:x.defaults,coefficient:false,answerForms:[],labelText:"",linterContext:N,multipleNumberInput:false});_.extend(q,{validate:function e(t,i){var r=_.pluck(D,"value");var a=function e(t){return E.number.createValidatorFunctional(t.value,{message:t.message,simplify:t.status==="correct"?t.simplify:"optional",inexact:true,maxError:t.maxError,forms:t.strict&&t.answerForms&&t.answerForms.length!==0?t.answerForms:r})};var n=k(t.currentValue);var o=_.where(i.answers,{status:"correct"});if(t.multInput){var s=n.split(",").sort();o.sort(function(e,t){return e.value>t.value?1:-1});if(s.length!==o.length){return{type:"points",earned:0,total:1,message:"Incorrect number of answers"}}var u=true;var l;o.forEach(function(e,t){var r=s[t];if(i.coefficient){if(!r){r=1}else if(r==="-"){r=-1}}var n=a(e);var o=n(r);u=u&&o.correct;if(o.message){l=o.message}});return{type:"points",earned:u?1:0,total:1,message:l}}else{var c=_.find(_.map(o,function(e){var t=n;if(i.coefficient){if(!t){t=1}else if(t==="-"){t=-1}}var r=a(e);return r(t)}),function(e){return e.correct||e.empty});if(!c){var p=[].concat(_.where(i.answers,{status:"ungraded"}),_.where(i.answers,{status:"wrong"}));var f=_.find(p,function(e){var t=a(e);return t(n).correct});c={empty:f?f.status==="ungraded":false,correct:f?f.status==="correct":false,message:f?f.message:null,guess:n}}if(c.empty){return{type:"invalid",message:c.message}}else{return{type:"points",earned:c.correct?1:0,total:1,message:c.message}}}},getUserInputFromProps:function e(t){var r=t.multipleNumberInput;return{multInput:r,currentValue:r?t.currentMultipleValues:t.currentValue}},getOneCorrectAnswerFromRubric:function e(t){var r=_.filter(t.answers,function(e){return e.status==="correct"});var n=_.map(r,function(e){var t="decimal";if(e.answerForms&&e.answerForms[0]){t=e.answerForms[0]}var r=j.toNumericString(e.value,t);if(e.maxError){r+=" ± "+j.toNumericString(e.maxError,t)}return r});if(n.length===0){return}return n[0]}});var W=function e(t){var r=function e(t,n){return _.reduce(t,function(e,t){var r=_.find(e,n.bind(null,t));if(r){return e}else{return e.concat([t])}},[])};var n=_.flatten(t);var o=r(n,_.isEqual);return _.sortBy(o,function(e){return _.keys(B).indexOf(e.name)})};var z=function e(t){var r=_.extend(_.omit(t,"answers"),{answerForms:W(_.map(t.answers,function(t){return _.map(t.answerForms,function(e){return{simplify:t.simplify,name:e}})}))});return r};var V=b.create({addInputButton:{cursor:"pointer",display:"inline-block",border:"2px solid ".concat(O.kaGreen),backgroundColor:O.kaGreen,color:O.white,fontSize:20,borderRadius:15,width:18,height:18,marginBottom:7,marginRight:8,marginTop:3,textAlign:"center",paddingTop:1},removeInputButton:{cursor:"pointer",display:"inline-block",border:"2px solid ".concat(O.red),backgroundColor:O.red,color:O.white,fontSize:20,borderRadius:15,width:18,height:18,marginBottom:7,marginRight:8,marginTop:4,textAlign:"center"},dropdown:{width:250,marginBottom:10,appearance:"none",backgroundColor:"transparent",border:"1px solid ".concat(O.gray76),borderRadius:4,boxShadow:"none",fontFamily:O.baseFontFamily,padding:"9px 25px 9px 9px",":focus":{outline:"none",border:"2px solid ".concat(O.kaGreen),padding:"8px 25px 8px 8px"},":focus + svg":{color:"".concat(O.kaGreen)},":disabled":{color:O.gray68},":disabled + svg":{color:O.gray68}},numberInput:{float:"right",width:170,marginBottom:10,border:"1px solid ".concat(O.gray76),borderRadius:4,padding:"9px 25px 9px 9px",":focus":{outline:"none",border:"2px solid ".concat(O.kaGreen),padding:"8px 25px 8px 8px"}},numberInputContainer:{display:"flex"}});e.exports={name:"numeric-input",displayName:"Number text box",defaultAlignment:"inline-block",accessible:true,widget:q,transform:z,isLintable:true}},fiwv:function(e,t,r){"use strict";var n=r("SoFn"),o=n.buildEmptyItemForShape,i=n.findContentNodesInItem,a=n.findHintNodesInItem,s=n.inferItemShape;var u=r("sGBi");var l=r("rVh6"),c=l.buildPropTypeForShape;var p=r("Q08l");e.exports={MultiRenderer:u,shapes:p,buildPropTypeForShape:c,buildEmptyItemForShape:o,findContentNodesInItem:i,findHintNodesInItem:a,inferItemShape:s}},gP8R:function(e,t,r){"use strict";r("5DmW");r("NBAS");var n=o(r("q1tI"));function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var h=r("mR6N"),v=h.StyleSheet,y=h.css;var m=r("UcaO");var b=function(e){p(t,e);function t(){i(this,t);return u(this,c(t).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=this.props.visible?this.props.color:"transparent";var r={borderColor:t};return n.createElement("span",{className:y(g.ring),style:r},this.props.children)}}]);return t}(n.Component);d(b,"defaultProps",{visible:true,color:m.kaGreen});var g=v.create({ring:{margin:"auto",display:"inline-block",borderRadius:"50%",borderWidth:2,padding:2,borderStyle:"solid"}});e.exports=b},hxS7:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");r("EnZy");var c=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return p(e)}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return i(e,t)}function d(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var h=r("TSYQ");var v=r("17x9");var _=r("F/us");var y=r("l+pH");var m=r("eMwK");var b=r("7gXX").parseTex;var g=r("WZBl");var O=r("7BBF");var w=r("reBI").propTypes.keypadElementPropType;var C=r("zahm"),k=C.linterContextProps,S=C.linterContextDefault;var P=r("j8wP").ClassNames;var x=r("j8wP").Options;var E={number:{name:"Numbers",forms:"integer, decimal, proper, improper, mixed"},decimal:{name:"Decimals",forms:"decimal"},integer:{name:"Integers",forms:"integer"},rational:{name:"Fractions and mixed numbers",forms:"integer, proper, improper, mixed"},improper:{name:"Improper numbers (no mixed)",forms:"integer, proper, improper"},mixed:{name:"Mixed numbers (no improper)",forms:"integer, proper, mixed"},percent:{name:"Numbers or percents",forms:"integer, decimal, proper, improper, mixed, percent"},pi:{name:"Numbers with pi",forms:"pi"}};var j={integer:function e(t){return i18n._("an integer, like $6$")},proper:function e(t){if(t.simplify==="optional"){return i18n._("a *proper* fraction, like $1/2$ or $6/10$")}else{return i18n._("a *simplified proper* fraction, like $3/5$")}},improper:function e(t){if(t.simplify==="optional"){return i18n._("an *improper* fraction, like $10/7$ or $14/8$")}else{return i18n._("a *simplified improper* fraction, like $7/4$")}},mixed:function e(t){return i18n._("a mixed number, like $1\\ 3/4$")},decimal:function e(t){return i18n._("an *exact* decimal, like $0.75$")},percent:function e(t){return i18n._("a percent, like $12.34\\%$")},pi:function e(t){return i18n._("a multiple of pi, like $12\\ \\text{pi}$ or "+"$2/3\\ \\text{pi}$")}};var T=function(e){f(i,e);function i(){var e;var n;a(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++){r[o]=arguments[o]}n=u(this,(e=l(i)).call.apply(e,[this].concat(r)));d(p(n),"shouldShowExamples",function(){return n.props.answerType!=="number"&&!n.props.apiOptions.staticRender});d(p(n),"handleChange",function(e,t){n.props.onChange({currentValue:e},t)});d(p(n),"_getInputType",function(){if(n.props.apiOptions.staticRender){return"tex"}else{return"text"}});d(p(n),"_handleFocus",function(){n.props.onFocus([]);var e=n.props.apiOptions.interactionCallback;if(e){e()}});d(p(n),"_handleBlur",function(){n.props.onBlur([])});d(p(n),"focus",function(){n.refs.input.focus();return true});d(p(n),"focusInputPath",function(e){n.refs.input.focus()});d(p(n),"blurInputPath",function(e){n.refs.input.blur()});d(p(n),"getInputPaths",function(){return[[]]});d(p(n),"getGrammarTypeForPath",function(e){return"number"});d(p(n),"setInputValue",function(e,t,r){n.props.onChange({currentValue:t},r)});d(p(n),"getUserInput",function(){return i.getUserInputFromProps(n.props)});d(p(n),"simpleValidate",function(e,t){t=t||function(){};return i.validate(n.getUserInput(),e,t)});d(p(n),"examples",function(){var e=n.props.answerType;var t=E[e].forms.split(/\s*,\s*/);var r=_.map(t,function(e){return j[e](this.props)},p(n));return[i18n._("**Your answer should be** ")].concat(r)});return n}s(i,[{key:"render",value:function e(){if(this.props.apiOptions.customKeypad){var t=c.createElement(m,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur});if(this.props.rightAlign){return c.createElement("div",{className:"perseus-input-right-align"},t)}return t}else{var r=this.props.reviewModeRubric;var n=null;var o=null;if(this.props.apiOptions.satStyling&&r){var i=this.simpleValidate(r);n=i.type==="points"&&i.earned===i.total;if(!n){var a=String(r.value);if(r.inexact&&r.maxError){a+=" ± "+r.maxError}var s=[a];o=c.createElement(g,{answers:s})}}var u={};u["perseus-input-size-"+this.props.size]=true;u["perseus-input-right-align"]=this.props.rightAlign;u[P.CORRECT]=r&&n&&this.props.currentValue;u[P.INCORRECT]=r&&!n&&this.props.currentValue;u[P.UNANSWERED]=r&&!this.props.currentValue;var l=c.createElement(y,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,className:h(u),type:this._getInputType(),examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly,linterContext:this.props.linterContext});if(o){return c.createElement("span",{className:"perseus-input-with-answer-blurb"},l,o)}else{return l}}}}]);return i}(c.Component);d(T,"propTypes",{answerType:v.oneOf(Object.keys(E)),currentValue:v.string,keypadElement:w,reviewModeRubric:v.object,widgetId:v.string.isRequired,linterContext:k});d(T,"defaultProps",{currentValue:"",size:"normal",answerType:"number",rightAlign:false,apiOptions:x.defaults,linterContext:S});_.extend(T,{validate:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};if(r.answerType==null){r.answerType="number"}var o=O.number.createValidatorFunctional(r.value,{simplify:r.simplify,inexact:r.inexact||undefined,maxError:r.maxError,forms:E[r.answerType].forms});var i=b(t.currentValue);var a=o(i);if(a.empty){var s=n(null,t.currentValue,a.message);return{type:"invalid",message:s===false?null:a.message}}else{return{type:"points",earned:a.correct?1:0,total:1,message:a.message}}},getUserInputFromProps:function e(t){return{currentValue:t.currentValue}},getOneCorrectAnswerFromRubric:function e(t){if(!t.value){return}var r=String(t.value);if(t.inexact&&t.maxError){r+=" ± "+t.maxError}return r}});var I=function e(t){var r=t.simplify,n=t.size,o=t.answerType,i=t.rightAlign;return{simplify:r,size:n,answerType:o,rightAlign:i}};e.exports={name:"input-number",displayName:"Number text box (old)",defaultAlignment:"inline-block",hidden:true,widget:T,transform:I,isLintable:true}},hzUw:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("NBAS");r("FZtP");var f=o(r("q1tI"));var n;function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){v(t,e,r[e])})}return t}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return c(e)}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}function v(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var y=r("17x9");var m=r("mR6N"),b=m.StyleSheet,g=m.css;var O=r("TSYQ");var i18n=r("HEOz");var w=r("Atlv");var C=r("j8wP").Options;var k=r("TBZ3");var S=r("UcaO"),P=S.baseUnitPx,x=S.hintBorderWidth,E=S.kaGreen,j=S.gray97;var T=r("Boyy");var I=r("zahm"),R=I.linterContextProps,N=I.linterContextDefault;var F=function(e){p(i,e);function i(){var e;var r;a(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}r=u(this,(e=l(i)).call.apply(e,[this].concat(n)));v(c(r),"getSerializedState",function(){return r.refs.renderer.getSerializedState()});v(c(r),"restoreSerializedState",function(e,t){r.refs.renderer.restoreSerializedState(e,t)});return r}s(i,[{key:"render",value:function e(){var t=this.props,r=t.apiOptions,n=t.className,o=t.hint,i=t.lastHint,a=t.lastRendered,s=t.pos,u=t.totalHints;var l=r.isMobile;var c=O(!l&&"perseus-hint-renderer",l&&g(M.newHint),l&&a&&g(M.lastRenderedNewHint),i&&"last-hint",a&&"last-rendered",n);var p=d({},r,{customKeypad:false,staticRender:false});return f.createElement("div",{className:c,tabIndex:"-1"},!r.isMobile&&f.createElement("span",{className:"perseus-sr-only"},i18n._("Hint #%(pos)s",{pos:s+1})),!r.isMobile&&!r.satStyling&&u&&s!=null&&f.createElement("span",{className:"perseus-hint-label",style:{display:"block",color:r.hintProgressColor}},"".concat(s+1," / ").concat(u)),f.createElement(w,{ref:"renderer",widgets:o.widgets,content:o.content||"",images:o.images,apiOptions:p,findExternalWidgets:this.props.findExternalWidgets,linterContext:T.pushContextStack(this.props.linterContext,"hint")}))}}]);return i}(f.Component);v(F,"propTypes",{apiOptions:C.propTypes,className:y.string,hint:y.any,lastHint:y.bool,lastRendered:y.bool,pos:y.number,totalHints:y.number,findExternalWidgets:y.func,linterContext:R});v(F,"defaultProps",{linterContext:N});var M=b.create({newHint:(n={marginBottom:1.5*P,borderLeftColor:j,borderLeftStyle:"solid",borderLeftWidth:x},v(n,k.lgOrSmaller,{paddingLeft:P}),v(n,k.smOrSmaller,{paddingLeft:0}),v(n,":focus",{outline:"none"}),n),lastRenderedNewHint:{marginBottom:0,borderLeftColor:E}});e.exports=F},jskG:function(e,t,r){"use strict";r("ma9I");r("yXV3");r("4mDm");r("2B1R");r("5DmW");r("NBAS");r("07d7");r("3bBZ");var a=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var h=r("17x9");var _=r("F/us");var v=r("FvPh");var i18n=r("HEOz");var y={fontSize:"150%"};var m={fontSize:"120%"};var b={fontSize:"130%"};var g=[function(){return[a.createElement("span",{key:"plus",style:m},"+"),"+"]},function(){return[a.createElement("span",{key:"minus",style:y},"-"),"-"]},function(e){if(e.convertDotToTimes){return[a.createElement(v,{key:"times",style:y},i18n.doNotTranslate("\\times")),"\\times"]}else{return[a.createElement(v,{key:"times",style:y},i18n.doNotTranslate("\\cdot")),"\\cdot"]}},function(){return[a.createElement(v,{key:"frac",style:y},i18n.doNotTranslate("\\frac{x}{y}")),function(e){var t=e.latex();e.typedText("/");if(e.latex()===t){e.cmd("\\frac")}}]}];var O={basic:g,"basic+div":g.concat([function(){return[a.createElement(v,{key:"div"},i18n.doNotTranslate("\\div")),"\\div"]}]),trig:[function(){return[a.createElement(v,{key:"sin"},i18n.doNotTranslate("\\sin")),"\\sin"]},function(){return[a.createElement(v,{key:"cos"},i18n.doNotTranslate("\\cos")),"\\cos"]},function(){return[a.createElement(v,{key:"tan"},i18n.doNotTranslate("\\tan")),"\\tan"]},function(){return[a.createElement(v,{key:"theta",style:b},i18n.doNotTranslate("\\theta")),"\\theta"]},function(){return[a.createElement("span",{key:"phi"},a.createElement("span",{className:"perseus-sr-only"},"phi"),a.createElement(v,{key:"pi",style:b},i18n.doNotTranslate("\\phi"))),"\\phi"]}],prealgebra:[function(){return[a.createElement(v,{key:"sqrt"},i18n.doNotTranslate("\\sqrt{x}")),"\\sqrt"]},function(){return[a.createElement(v,{key:"nthroot"},i18n.doNotTranslate("\\sqrt[3]{x}")),function(e){e.typedText("nthroot3");e.keystroke("Right")}]},function(){return[a.createElement(v,{key:"pow",style:m},i18n.doNotTranslate("a^b")),function(e){var t=e.latex();e.typedText("^");if(e.latex()===t){e.typedText("a^b")}}]},function(){return[a.createElement(v,{key:"pi",style:m},i18n.doNotTranslate("\\pi")),"\\pi"]}],logarithms:[function(){return[a.createElement(v,{key:"log"},i18n.doNotTranslate("\\log")),"\\log"]},function(){return[a.createElement(v,{key:"ln"},i18n.doNotTranslate("\\ln")),"\\ln"]},function(){return[a.createElement(v,{key:"log_b"},i18n.doNotTranslate("\\log_b")),function(e){e.typedText("log_");e.keystroke("Right");e.typedText("(");e.keystroke("Left");e.keystroke("Left")}]}],"basic relations":[function(){return[a.createElement(v,{key:"eq"},"="),"="]},function(){return[a.createElement(v,{key:"lt"},i18n.doNotTranslate("\\lt")),"\\lt"]},function(){return[a.createElement(v,{key:"gt"},i18n.doNotTranslate("\\gt")),"\\gt"]}],"advanced relations":[function(){return[a.createElement(v,{key:"neq"},i18n.doNotTranslate("\\neq")),"\\neq"]},function(){return[a.createElement(v,{key:"leq"},i18n.doNotTranslate("\\leq")),"\\leq"]},function(){return[a.createElement(v,{key:"geq"},i18n.doNotTranslate("\\geq")),"\\geq"]}]};var w=h.arrayOf(h.oneOf(_(O).keys()));var C=function(e){p(t,e);function t(){o(this,t);return u(this,c(t).apply(this,arguments))}s(t,[{key:"render",value:function e(){var r=this;var t=_.sortBy(this.props.sets,function(e){return _.keys(O).indexOf(e)});var n=_(t).map(function(e){return O[e]});var o=_(n).map(function(e){return e.map(function(e){var t=e(r.props);return a.createElement("button",{onClick:function e(){return r.props.onInsert(t[1])},className:"tex-button",key:t[0].key,type:"button"},t[0])})});var i=_(o).map(function(e,t){return a.createElement("div",{className:"clearfix tex-button-row",key:r.props.sets[t]},e)});return a.createElement("div",{className:"".concat(this.props.className," preview-measure")},i)}}]);return t}(a.Component);d(C,"propTypes",{sets:w.isRequired,onInsert:h.func.isRequired});d(C,"buttonSets",O);d(C,"buttonSetsType",w);e.exports=C},"l+pH":function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");r("UxlC");var a=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function u(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return p(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return i(e,t)}function d(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var h=r("17x9");var v=r("Yw3Q");var _=r("F/us");var y=r("j8wP").ClassNames;var m=r("16F6");var b=r("Atlv");var g=r("G6Ta");var O=r("7xiW");var w=r("Boyy");var C=r("zahm"),k=C.linterContextProps,S=C.linterContextDefault;var P=r("uBl0").captureScratchpadTouchStart;var x="math";var E="text";var j="tex";var T=function(e){f(i,e);function i(){var e;var r;s(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}r=l(this,(e=c(i)).call.apply(e,[this].concat(n)));d(p(r),"state",{focused:false,showExamples:false});d(p(r),"_getUniqueId",function(){return"input-with-examples-".concat(btoa(r.props.id).replace(/=/g,""))});d(p(r),"_getInputClassName",function(){if(r.props.type===j){return r.props.className}var e=y.INPUT+" "+y.INTERACTIVE;if(r.state.focused){e+=" "+y.FOCUSED}if(r.props.className){e+=" "+r.props.className}return e});d(p(r),"_getPropsForInputType",function(){var e={"aria-describedby":r._getUniqueId(),ref:"input",className:r._getInputClassName(),labelText:r.props.labelText,value:r.props.value,onFocus:r._handleFocus,onBlur:r._handleBlur,disabled:r.props.disabled};if(r.props.type===j){return e}_.extend(e,{onChange:r.props.onChange,onTouchStart:P});if(r.props.type===x){return _.extend({buttonSet:r.props.buttonSet,buttonsVisible:r.props.buttonsVisible,convertDotToTimes:r.props.convertDotToTimes},e)}else if(r.props.type===E){return _.extend({autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false"},e)}});d(p(r),"_getComponentForInputType",function(){switch(r.props.type){case j:return O;case x:return m;case E:return g;default:return null}});d(p(r),"_renderInput",function(){var e=r._getPropsForInputType();var t=r._getComponentForInputType();return a.createElement(t,e)});d(p(r),"_handleFocus",function(){r.props.onFocus();r.setState({focused:true,showExamples:true})});d(p(r),"show",function(){r.setState({showExamples:true})});d(p(r),"hide",function(){r.setState({showExamples:false})});d(p(r),"_handleBlur",function(){r.props.onBlur();r.setState({focused:false,showExamples:false})});d(p(r),"focus",function(){r.refs.input.focus()});d(p(r),"blur",function(){r.refs.input.blur()});d(p(r),"handleChange",function(e){r.props.onChange(e.target.value)});return r}u(i,[{key:"render",value:function e(){var t=this._renderInput();if(this.props.type===j){return t}var r=_.map(this.props.examples,function(e){return"- "+e}).join("\n");var n=this.props.shouldShowExamples&&this.state.showExamples;return a.createElement(v,{ref:"tooltip",className:"perseus-formats-tooltip preview-measure",horizontalPosition:"left",horizontalAlign:"left",verticalPosition:"bottom",arrowSize:10,borderColor:"#ccc",show:n},t,a.createElement("div",{id:this._getUniqueId()},a.createElement(b,{content:r,linterContext:w.pushContextStack(this.props.linterContext,"input-with-examples")})))}}]);return i}(a.Component);d(T,"propTypes",{type:h.oneOf([x,E,j]),value:h.string,onChange:h.func.isRequired,className:h.string,examples:h.arrayOf(h.string).isRequired,shouldShowExamples:h.bool,convertDotToTimes:h.bool,buttonSet:h.string,buttonsVisible:h.oneOf(["always","never","focused"]),labelText:h.string,onFocus:h.func,onBlur:h.func,disabled:h.bool,id:h.string.isRequired,linterContext:k});d(T,"defaultProps",{type:E,shouldShowExamples:true,onFocus:function e(){},onBlur:function e(){},disabled:false,linterContext:S});e.exports=T},lCk0:function(e,t,r){"use strict";r("ma9I");r("zKZe");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=f(r("q1tI"));var u=r("mR6N");var n=i(r("Pwnf"));var l=i(r("6wxr"));var o=i(r("TBZ3"));var a=i(r("Bkj0"));var c=i(r("G4Rg"));var p=r("bGTE");function i(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return d.apply(this,arguments)}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function y(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}function m(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return g(e)}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function g(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return w(e,t)}function C(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var k={path:"M27.218 6.82l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836zm36.27 0l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836zm36.27 0l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:27.284};var S=function(e){O(i,e);function i(){var e;var r;h(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}r=m(this,(e=b(i)).call.apply(e,[this].concat(n)));C(g(r),"state",{hovered:false,opened:false,slidePanelCovered:true,usingKeyboardFocus:false,wasCrossedOutOnLastOpen:false});C(g(r),"_openMenu",function(){var e=r._menu!=null&&r._menu.contains(document.activeElement);r.setState({opened:true,usingKeyboardFocus:e,wasCrossedOutOnLastOpen:r.props.crossedOut})});C(g(r),"_closeMenu",function(){if(r._crossOutButtonIsFocused&&r._menuButton){r._menuButton.focus()}r.setState({opened:false,slidePanelCovered:true})});C(g(r),"_handleMenuClick",function(e,t){if(t){r._openMenu()}else{r._closeMenu()}e.preventDefault()});C(g(r),"_handleCrossedOutButtonClick",function(e){r.props.onCrossedOutChange(e);r._closeMenu()});C(g(r),"_handleSlideTransitionEnd",function(){if(r.state.opened){r.setState({slidePanelCovered:false})}});return r}y(i,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){if(!t.enabled){this._closeMenu()}}},{key:"_getButtonProps",value:function e(t){var r=this;var n=this.state.wasCrossedOutOnLastOpen;return{onClick:function e(){r._handleCrossedOutButtonClick(!n)},onFocus:function e(){r._crossOutButtonIsFocused=true},onBlur:function e(){r._crossOutButtonIsFocused=false},crossedOut:n,pos:this.props.pos,primaryProductColor:this.props.primaryProductColor,usingKeyboardFocus:this.state.usingKeyboardFocus,theme:t}}},{key:"_getMenuIconColor",value:function e(){if(this.state.opened){return this.props.primaryProductColor}else if(this.state.hovered){return n.default.offBlack}else{return n.default.offBlack50}}},{key:"_renderMenu",value:function e(){var r=this;var t=this.props,n=t.pos,o=t.isSatProduct;var i=this.state.opened;var a=(0,u.css)(x.menu,o&&x.spacing);return s.createElement("div",{ref:function e(t){return r._menu=t},className:a,onClick:function e(t){return r._handleMenuClick(t,!i)},onMouseEnter:function e(){return r.setState({hovered:true})},onMouseLeave:function e(){return r.setState({hovered:false})}},s.createElement(c.default,{dismissed:!this.state.opened,onDismiss:this._closeMenu,buttonProps:this._getButtonProps("day")},s.createElement("button",{type:"button","aria-label":i18n._("Open menu for Choice %(letter)s",{letter:(0,p.getChoiceLetter)(n)}),className:(0,u.css)([x.menuButton]),onClick:function e(t){return r._handleMenuClick(t,!i)},onMouseDown:function e(t){return t.preventDefault()},ref:function e(t){return r._menuButton=t}},s.createElement(l.default,{className:(0,u.css)(x.menuIcon),icon:k,size:3,color:this._getMenuIconColor()}))))}},{key:"_renderSlidePanel",value:function e(){var t=this._getButtonProps("night");var r=this.state.slidePanelCovered;return s.createElement("div",{className:(0,u.css)(x.slidePanel,r&&x.slidePanelCovered),onClick:t.onClick,"aria-hidden":r},s.createElement(a.default,d({},t,{disabled:r,tabFocusable:!r})))}},{key:"render",value:function e(){var t=this.props.enabled;var r=this.state.opened;return s.createElement("div",{className:(0,u.css)(x.wrapper)},s.createElement("div",{className:(0,u.css)(x.slidingContent,t&&x.slidingContentEnabled,r&&x.slidingContentOpen),onTransitionEnd:this._handleSlideTransitionEnd},s.createElement("div",{className:(0,u.css)(x.content)},this.props.children),t&&this._renderMenu()),t&&this._renderSlidePanel())}}]);return i}(s.PureComponent);t.default=S;var P=96;var x=u.StyleSheet.create({wrapper:{display:"block",position:"relative"},slidingContent:{display:"flex",flexDirection:"row",alignItems:"stretch"},slidingContentEnabled:C({},o.default.smOrSmaller,{transition:"transform 0.2s ease-out",backgroundColor:n.default.white}),slidingContentOpen:C({},o.default.smOrSmaller,{transform:"translateX(-".concat(P,"px)")}),content:{display:"block",flex:"1 1 0"},menu:C({cursor:"pointer",boxSizing:"border-box",width:32,display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},o.default.smOrSmaller,{paddingRight:8}),menuButton:{background:"none",border:"none",font:"inherit",padding:0,textAlign:"inherit",cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",height:16},menuIcon:{display:"block"},slidePanel:C({position:"absolute",top:0,right:0,boxSizing:"border-box",width:P,height:"100%",paddingLeft:8,paddingRight:8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:n.default.offBlack50,cursor:"pointer"},o.default.mdOrLarger,{display:"none"}),spacing:{paddingRight:12},slidePanelCovered:{zIndex:-1}})},rVh6:function(e,t,r){"use strict";r("FZtP");var o=n(r("17x9"));function n(e){return e&&e.__esModule?e:{default:e}}function i(){var e=o.default.oneOfType([o.default.shape({type:o.default.oneOf(["content"]).isRequired}).isRequired,o.default.shape({type:o.default.oneOf(["hint"]).isRequired}).isRequired,o.default.shape({type:o.default.oneOf(["tags"]).isRequired}).isRequired,o.default.shape({type:o.default.oneOf(["object"]).isRequired,shape:o.default.objectOf(i)}).isRequired,o.default.shape({type:o.default.oneOf(["array"]).isRequired,elementShape:i}).isRequired]);return e.apply(void 0,arguments)}function a(e){return o.default.oneOfType([o.default.shape({_multi:s(e)}),o.default.oneOf([null,undefined])])}function s(e){if(e.type==="content"){return o.default.shape({__type:o.default.oneOf(["content","item"]).isRequired,content:o.default.string,images:o.default.objectOf(o.default.any),widgets:o.default.objectOf(o.default.any)})}else if(e.type==="hint"){return o.default.shape({__type:o.default.oneOf(["hint"]).isRequired,content:o.default.string,images:o.default.objectOf(o.default.any),widgets:o.default.objectOf(o.default.any),replace:o.default.bool})}else if(e.type==="tags"){return o.default.arrayOf(o.default.string.isRequired)}else if(e.type==="array"){var t=s(e.elementShape);return o.default.arrayOf(t.isRequired)}else if(e.type==="object"){var r=e.shape;var n={};Object.keys(r).forEach(function(e){n[e]=s(r[e]).isRequired});return o.default.shape(n)}else{throw new Error("unexpected shape type ".concat(e.type))}}e.exports={shapePropType:i,buildPropTypeForShape:a}},sGBi:function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("yXV3");r("4mDm");r("2B1R");r("zKZe");r("5DmW");r("NBAS");r("07d7");r("3bBZ");var u=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e,t){return a(e)||i(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var r=[];var n=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){o=true;i=e}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return r}function a(e){if(Array.isArray(e))return e}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return l.apply(this,arguments)}function c(e,t){if(e==null)return{};var r=p(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function p(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function h(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);return e}function v(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return m(e)}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return g(e,t)}function O(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var w=r("mR6N"),C=w.StyleSheet,k=w.css;var S=r("emzA");var P=r("SoFn"),x=P.itemToTree;var E=r("YH1v");var j=r("Atlv");var T=r("OJf/"),I=T.buildMapper;var R=r("uBl0");var i18n=r("HEOz");var N=function(e){b(t,e);function t(e){var o;f(this,t);o=v(this,y(t).call(this,e));O(m(o),"_handleSerializedStateUpdated",function(e,t){var r=o.props.onSerializedStateUpdated;if(r){var n=o._getSerializedState(o.props.serializedState);r(S(n).set(e,t).freeze())}});o.rendererDataTreeMapper=I().setContentMapper(function(e,_,t){return o._makeContentRendererData(e,t)}).setHintMapper(function(e){return o._makeHintRendererData(e)}).setTagsMapper(function(e){return null});o.getRenderersMapper=I().setContentMapper(function(e){return e.makeRenderer()}).setHintMapper(function(e){return e.makeRenderer()}).setArrayMapper(o._annotateRendererArray.bind(m(o)));o.state=o._tryMakeRendererState(o.props);return o}h(t,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){if(t.item!==this.props.item){this.setState(this._tryMakeRendererState(t))}}},{key:"_tryMakeRendererState",value:function e(t){try{return{rendererDataTree:this._makeRendererDataTree(t.item,t.shape),renderError:null}}catch(e){console.error(e);return{rendererDataTree:null,renderError:e}}}},{key:"_getRendererProps",value:function e(){var t=this.props,r=t.item,n=t.children,o=t.shape,i=c(t,["item","children","shape"]);return i}},{key:"_makeContentRendererData",value:function e(t,r){var n=this;var o={ref:null,makeRenderer:null};var i=function e(t){return o.ref=t};var a=function e(t){return n._findWidgets(o,t)};var s=function e(t){return n._handleSerializedStateUpdated(r,t)};o.makeRenderer=function(){return u.createElement(j,l({},n._getRendererProps(),t,{ref:i,findExternalWidgets:a,serializedState:n.props.serializedState?S(n.props.serializedState).get(r):null,onSerializedStateUpdated:s}))};return o}},{key:"_makeHintRendererData",value:function e(t){var r=this;var n=function e(t){return r._findWidgets({},t)};return{hint:t,findExternalWidgets:n,ref:null,makeRenderer:function e(){return u.createElement(E,l({},r._getRendererProps(),{findExternalWidgets:n,hints:[t]}))}}}},{key:"_makeRendererDataTree",value:function e(t,r){var n=x(t);return this.rendererDataTreeMapper.mapTree(n,r)}},{key:"_findWidgets",value:function e(t,r){var n=[];this._mapRenderers(function(e){if(t!==e&&e.ref){n.push.apply(n,e.ref.findInternalWidgets(r))}});return n}},{key:"_mapRenderers",value:function e(t){var r=this.state.rendererDataTree;if(!r){return null}var n=I().setContentMapper(t).setHintMapper(t);return n.mapTree(r,this.props.shape)}},{key:"_scoreFromRef",value:function e(t){if(!t){return null}var r=t.guessAndScore(),n=s(r,2),o=n[0],i=n[1];var a;if(t.getSerializedState){a=t.getSerializedState()}return R.keScoreFromPerseusScore(i,o,a)}},{key:"getScores",value:function e(){var t=this;return this._mapRenderers(function(e){return t._scoreFromRef(e.ref)})}},{key:"score",value:function e(){var t=[];var r=[];var n=this._mapRenderers(function(e){if(!e.ref){return null}if(e.ref.getSerializedState){r.push(e.ref.getSerializedState())}t.push(e.ref.score());return e.ref.getUserInput()});var o=t.reduce(R.combineScores);return R.keScoreFromPerseusScore(o,n,r)}},{key:"_getSerializedState",value:function e(r){return this._mapRenderers(function(e,_,t){if(e.ref){return e.ref.getSerializedState()}else if(r){return S(r).get(t)}else{return null}})}},{key:"restoreSerializedState",value:function e(n,t){var o=0;var i=function e(){o--;if(t&&o===0){t()}};this._mapRenderers(function(e,_,t){if(!e.ref){return}var r=S(n).get(t);if(!r){return}o++;e.ref.restoreSerializedState(r,i)})}},{key:"_annotateRendererArray",value:function e(t,r,n){var o=this;if(n.elementShape.type==="hint"){var i=r;t=[].concat(t);t.firstN=function(e){return u.createElement(E,l({},o._getRendererProps(),{findExternalWidgets:i[0]?i[0].findExternalWidgets:undefined,hints:i.map(function(e){return e.hint}),hintsVisible:e}))}}return t}},{key:"_getRenderers",value:function e(){return this.getRenderersMapper.mapTree(this.state.rendererDataTree,this.props.shape)}},{key:"render",value:function e(){if(this.state.renderError){return u.createElement("div",{className:k(F.error)},i18n.$_("Error rendering: %(error)s",{error:String(this.state.renderError)}))}return this.props.children({renderers:this._getRenderers()})}}]);return t}(u.Component);var F=C.create({error:{color:"red"}});e.exports=N}}]);
//# sourceMappingURL=../../sourcemaps/en/80c765e2f5dd599938a079cff647dfb3.3502ae6df0071d41fdce.js.map