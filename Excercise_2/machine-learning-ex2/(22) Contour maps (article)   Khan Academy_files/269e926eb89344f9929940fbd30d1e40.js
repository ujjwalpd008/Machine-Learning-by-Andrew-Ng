(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["269e926eb89344f9929940fbd30d1e40"],{Lx7c:function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("2B1R");r("5DmW");r("07d7");r("5s+n");r("inlA");r("hByQ");r("LKBx");r("FZtP");r("3bBZ");var o=n(r("Q8Wn"));function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return s(e)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){var r=[];var n=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),u;!(n=(u=a.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){o=true;i=e}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return r}function s(e){if(Array.isArray(e))return e}function c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){l(t,e,r[e])})}return t}function l(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}r("q1tI");var f=r("whzC");var d=r("ZpD3");var p=f.safeLinkTo("https://classroom.google.com/share");var h="https://apis.google.com/js/client.js?onload=__gapi_complete";var g=function e(){return o.default.IS_DEV_SERVER?"179486897809-nedb177f1iatc8dra55e9g4ei2d908mo.apps.googleusercontent.com":"179486897809-vot6i8d4ohsqvv7rui9vbjd53k6eo5mo.apps.googleusercontent.com"};var m=100;var v=10;function b(){return window["gapi"]}var w=["https://www.googleapis.com/auth/classroom.courses.readonly","https://www.googleapis.com/auth/classroom.rosters.readonly","https://www.googleapis.com/auth/classroom.profile.emails"];var y=["https://www.googleapis.com/auth/classroom.coursework.students"];function P(){var e=[].concat(w);return e}var O={ROSTER_SCOPES:w,SHARE_SCOPES:y,_gapiPromise:undefined,_getHostname:function e(){return o.default.hostname.toLowerCase()},canLoadGoogleApi:function e(){var t=this._getHostname().startsWith("static-");var r=this._getHostname().startsWith("pubcommit-");var n=this._getHostname().endsWith(".khanacademy.org");return o.default.IS_DEV_SERVER||n&&!(t||r)},allScopes:function e(){return P()},_preAuthorize:function e(t){this.authorize(t,true).catch(function(){})},loadGoogleAPI:function e(){var r=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:P();if(!this.canLoadGoogleApi()){return Promise.reject("Google Classroom not enabled for user")}if(!this._gapiPromise){this._gapiPromise=new Promise(function(e){if(b()){r._preAuthorize(n);return e(b())}window.__gapi_complete=function(){delete window.__gapi_complete;r._preAuthorize(n);return e(b())};var t=document.createElement("script");t.src=h;document.body.appendChild(t)})}return this._gapiPromise},classroomAPI:function e(){var n=b();if(!n){return Promise.reject("Google API needs to be loaded. Call loadGoogleAPI")}if(n.client.classroom){return Promise.resolve(n.client.classroom)}return new Promise(function(t,r){n.client.load("classroom","v1",function(e){if(e&&e.error){r(e.error)}t(n.client.classroom)})})},authorize:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:P();var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var o=b();if(!o){return Promise.reject("Google API needs to be loaded. Call loadGoogleAPI")}function i(e){return e&&e.access_token&&e.status&&e.status.signed_in}return new Promise(function(t,r){var e=o.auth.getToken();if(i(e)){return t(e)}o.auth.authorize({client_id:g(),scope:P().join(" "),immediate:n},function(e){if(i(e)){return t(e)}r(e)})})},_queryPagedList:function e(o,i){var a=this;var u=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(s>=v){return Promise.resolve([])}var t=c({},u,{pageSize:m});return new Promise(function(r,n){o.list(t).execute(function(t){if(!t){return n("Did not receive a response")}if(t.error){return n(t.error)}if(!t.nextPageToken){return r(i(t)||[])}var e=a._queryPagedList(o,i,c({},u,{pageToken:t.nextPageToken}),s+1).then(function(e){return[].concat(i(t)||[],e)});r(e)})})},getCourses:function e(){var t=this;return this.authorize(y).then(function(){return t.classroomAPI()}).then(function(e){return t._queryPagedList(e.courses,function(e){return e.courses},{courseStates:["ACTIVE"],teacherId:"me"})})},getStudents:function e(o){var i=this;if(!o){return Promise.reject("getStudents(courseId) missing parameter!")}function t(e){var t=e.profile.emailAddress;return!!t}function a(e){return!!e.userId}return this.authorize(w).then(function(){return i.classroomAPI()}).then(function(e){function t(r){return e.userProfiles.get({userId:r.userId}).then(function(e){var t=c({},r,{profile:e.result,isPending:true});delete t.id;return t})}var r=i._queryPagedList(e.courses.students,function(e){return e.students},{courseId:o});var n=i._queryPagedList(e.invitations,function(e){return e.invitations},{courseId:o}).then(function(e){return Promise.all(e.filter(a).map(t))});return Promise.all([r,n])}).then(function(e){var t=u(e,2),r=t[0],n=t[1];return[].concat(r,n)}).then(function(e){return e.filter(t)})},getShareLink:function e(t){var r=document.createElement("a");r.href=t;var n="".concat(r.protocol,"//").concat(r.host);return"".concat(n,"/gclassroom").concat(r.pathname).concat(r.search)},markSharingConversion:function e(t){d.markConversion("content_shared_to_google_classroom",{shareLink:t})},shareToClassroomApi:function e(t,r,n,o){var i=this;var a=this.getShareLink(r);this.markSharingConversion(a);return this.authorize(P()).then(function(){return i.classroomAPI()}).then(function(e){return e.courses.courseWork.create({courseId:t.id,title:n,description:o,materials:[{link:{url:a}}],workType:"ASSIGNMENT",state:"PUBLISHED"})}).then(function(e){return e.result})},shareToClassroom:function e(t,r,n){var o=this.getShareLink(t);var i="url=".concat(encodeURIComponent(o));i+="&title=".concat(encodeURIComponent(r));i+="&body=".concat(encodeURIComponent(n));this.markSharingConversion(o);window.open("".concat(p,"?").concat(i),null,"width=640, height=450,toolbar=no, scrollbars=yes")}};e.exports=O},pbLn:function(e,t,r){"use strict";r("ma9I");r("fbCW");r("2B1R");r("5DmW");r("NBAS");var u=o(r("q1tI"));var s=n(r("8Fln"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function c(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return d(e)}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}function g(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var m=function(e){p(i,e);function i(){var e;var t;a(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=l(this,(e=f(i)).call.apply(e,[this].concat(n)));g(d(t),"state",{selectedOption:t.props.defaultCourseId});return t}c(i,[{key:"getOptions",value:function e(){var t=this.props.googleCourses;if(!t){return undefined}return t.map(function(e){return{value:e.id,label:e.name,gCourse:e}})}},{key:"handleOptionChange",value:function e(t){var r=this.props,n=r.googleCourses,o=r.onCourseChanged;var i=n.find(function(e){return e.id===t});o(i);this.setState({selectedOption:t})}},{key:"render",value:function e(){var n=this;var t=this.props.isLoading;var r=this.state.selectedOption;var o=this.getOptions();var i=o&&o.length===0;var a;if(t){a=i18n._("Fetching classes from Google...")}else if(i){a=i18n._("No Google Classes found!")}else{a=i18n._("Select a Class")}return u.createElement(s.default,{autosize:true,name:"google-course-selector",currentFilters:[],placeholder:a,isLoading:t,options:o,value:r,clearable:false,onChange:function e(t){var r=t.value;return n.handleOptionChange(r)}})}}]);return i}(u.Component);g(m,"defaultProps",{googleCourses:[]});e.exports=m}}]);
//# sourceMappingURL=../../sourcemaps/en/269e926eb89344f9929940fbd30d1e40.be7972f74f3034b4b87a.js.map