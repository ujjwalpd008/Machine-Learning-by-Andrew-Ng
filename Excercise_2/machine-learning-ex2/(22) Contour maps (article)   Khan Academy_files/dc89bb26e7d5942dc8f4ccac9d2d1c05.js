(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dc89bb26e7d5942dc8f4ccac9d2d1c05"],{"/BnC":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=[{username:"testadmin",password:"khan1",bio:"has all permissions and capabilities"},{username:"testchild",password:"khan1",bio:"a spawned child of testcoach"},{username:"testcoach",password:"khan1",bio:"a google-user coach of teststudent and testchild"},{username:"testcreator",password:"khan1",bio:"has creator capabilities"},{username:"testcurator",password:"khan1",bio:"has curator capabilities"},{username:"testmaybestudent",password:"khan1",bio:"a user testcoach requested to coach"},{username:"testmoderator",password:"khan1",bio:"has moderator permissions; coaches testcoach/teststudent"},{username:"testnweasupporter",password:"khan1",bio:"has the permissions of nwea support staff"},{username:"testpublisher",password:"khan1",bio:"has curator and publish capabilities"},{username:"testspanishcurator",password:"khan1",bio:"has curator capabilities for es only"},{username:"teststudent",password:"khan1",bio:"a spawned coachee of testcoach"},{username:"teststudent2",password:"khan1",bio:"a non-spawned coachee testcoach and teststudent"},{username:"testunverified",password:"khan1",bio:'an unverified user with the "resend email" banner notification'},{username:"testunverified2",password:"khan1",bio:'an unverified user with the "change email" banner notification'}];t.default=n},"9x/I":function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");var c=o(r("wd/R"));var p=r("mR6N");var v=i(r("q1tI"));var h=o(r("Pwnf"));var f=o(r("ZpD3"));var m=o(r("Nw73"));var b=i(r("6OHE"));var d=o(r("Q8Wn"));var n=o(r("wF1t"));var g=o(r("HYhL"));var a=o(r("mkzS"));var y=o(r("m+8x"));var w=o(r("YmN9"));var O=o(r("3sfC"));var E=o(r("bMB9"));function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)u(e.prototype,t);if(r)u(e,r);return e}function S(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return P(e)}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)C(e,t)}function C(e,t){C=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return C(e,t)}function F(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var B=i18n._("Please select a valid birthdate.");var N={path:"M8.967 71.687l82.418 0q.735 0 1.274-.539t.539-1.274l0-42.973q-1.813 2.009-3.871 3.675-14.945 11.515-20.825 16.415t-7.693 6.272-4.851 2.695q-3.038 1.372-5.733 1.372l-.098 0q-2.695 0-5.733-1.372t-4.851-2.695q-1.813-1.372-7.693-6.272t-20.825-16.415q-2.058-1.666-3.871-3.675l0 42.973q0 .735.539 1.274t1.274.539zm84.231-62.034q0-2.499-1.813-2.499l-82.418 0q-.735 0-1.274.539t-.539 1.274q0 9.408 8.232 15.925 21.952 17.297 25.676 20.433 5.733 4.851 9.065 4.851l.098 0q2.254 0 5.194-2.009t7.056-5.537q11.662-9.261 22.491-17.738 3.038-2.401 5.635-6.468t2.597-7.399l0-1.372zm7.154-.686l0 60.907q0 3.675-2.646 6.321t-6.321 2.646l-82.418 0q-3.675 0-6.321-2.646t-2.646-6.321l0-60.907q0-3.675 2.646-6.321t6.321-2.646l82.418 0q3.675 0 6.321 2.646t2.646 6.321z",width:100,height:91.88};var I=function e(t,r){var n=c.default.utc().subtract(13,"years");return c.default.utc(t,"YYYY-MM-DD")>n&&r==="learner"};var D=function(e){j(i,e);function i(){var e;var a;s(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}a=S(this,(e=k(i)).call.apply(e,[this].concat(r)));F(P(a),"state",{birthdate:a.props.birthdate||"",birthdateError:"",birthdateFieldInFocus:false});F(P(a),"updateBirthdateFromDateInput",function(e){a.setState({birthdate:e.target.value,birthdateError:""})});F(P(a),"validateBirthdateFromDateInput",function(e){var t=e.target.value;var r=t&&(0,c.default)(t,"YYYY-MM-DD");if(r&&r.isAfter()){a.setState({birthdateError:B})}});F(P(a),"updateBirthdateFromDatepicker",function(e){if(e){if(e.isAfter()){a.setState({birthdateError:B})}else{var t=e.locale("en").format("YYYY-MM-DD");a.setState({birthdate:t,birthdateError:""})}}});F(P(a),"handleEmailClick",function(e){var t=a.props.role;var r=a.state.birthdate;var n=I(r,t);f.default.markMinorConversions([{id:"signup_email_button_clicked"}]);a.props.onBirthdateChange(r,n);a.props.updateStep("identify")});return a}l(i,[{key:"componentDidUpdate",value:function e(t,r){var n=r.birthdate!==this.state.birthdate;if(n&&!this.state.birthdateError){f.default.markMinorConversions([{id:"signup_birthdate_filled",extra:{isIOS:d.default.isIOS}}])}}},{key:"showSignupButtons",value:function e(){if(this.props.role!=="learner"){return true}return!!(this.state.birthdate&&!this.state.birthdateError)}},{key:"setBirthdateFieldInFocus",value:function e(t){if(t){f.default.markMinorConversions([{id:"signup_birthdate_focused",extra:{isIOS:d.default.isIOS}}])}this.setState({birthdateFieldInFocus:t})}},{key:"maybeRenderSignupButtons",value:function e(){var t=this.props,r=t.continueUrl,n=t.googleContinueUrl,a=t.role,i=t.classCodes,o=t.showFacebookButton,s=t.flag,u=t.flagLoading;var l=this.state.birthdate;var c=I(l,a);var f=!u&&s&&a==="teacher";if(!this.showSignupButtons()){return null}var d=c&&!i;return v.createElement("div",{className:(0,p.css)(W.buttons)},!d&&v.createElement("div",{className:(0,p.css)(O.default.signupButtonWrapper)},v.createElement(w.default,{color:b.default.colors.modernGoogle,hoverColor:b.default.colors.modernGoogleHover,width:"100%",size:"large",role:a,googleContinueUrl:n,postLoginContinueUrl:r,minorConversions:[{id:"signup_google_button_clicked"}],classCodes:i,birthdate:l})),f&&v.createElement("div",{className:(0,p.css)(O.default.signupButtonWrapper)},v.createElement(E.default,{width:"100%",size:"large"})),!c&&o&&v.createElement("div",{className:(0,p.css)(O.default.signupButtonWrapper)},v.createElement(y.default,{color:b.default.colors.modernFacebook,hoverColor:b.default.colors.modernFacebookHover,width:"100%",size:"large",role:a,postLoginContinueUrl:r,minorConversions:[{id:"signup_facebook_button_clicked"}],classCodes:i})),v.createElement("div",{className:(0,p.css)(O.default.signupButtonWrapper)},v.createElement(m.default,{"data-test-id":"sign-up-with-email-button",color:h.default.blue,hoverColor:h.default.darkBlue,width:"100%",size:"large",icon:c?"":N,onClick:this.handleEmailClick},c?i18n._("Sign up by choosing a username"):i18n._("Sign up with Email"))))}},{key:"render",value:function e(){var r=this;var t=this.state,n=t.birthdate,a=t.birthdateError;var i=this.props.role;var o=!this.state.birthdateFieldInFocus&&a;var s=(0,c.default)();var u=(0,c.default)().subtract(120,"years");var l=d.default.isIOS?v.createElement("input",{type:"date",min:u.format("YYYY-MM-DD"),max:s.format("YYYY-MM_DD"),className:(0,p.css)(W.dateInput,o&&O.default.errorInput),value:n,onFocus:function e(t){return r.setBirthdateFieldInFocus(true)},onChange:function e(t){r.updateBirthdateFromDateInput(t);r.validateBirthdateFromDateInput(t)},onBlur:function e(t){r.setBirthdateFieldInFocus(false);r.validateBirthdateFromDateInput(t)}}):v.createElement("div",{className:(0,p.css)(a&&O.default.errorInput)},v.createElement(g.default,{appearance:"blue-mountain",defaultValue:this.state.birthdate,onChange:this.updateBirthdateFromDatepicker,onFocus:function e(t){f.default.markMinorConversions([{id:"signup_birthdate_focused",extra:{isIOS:d.default.isIOS}}])},reportNull:false,showTitles:true}));return v.createElement("div",null,v.createElement("div",{className:(0,p.css)(i==="learner"?W.birthdayPickerWrapper:W.invisibleBirthdayPickerWrapper)},v.createElement("div",{className:(0,p.css)(O.default.label)},v.createElement("div",{className:(0,p.css)(W.birthdayPickerPrompt)},i18n._("What is your date of birth?")),l,v.createElement("div",{className:(0,p.css)(O.default.fieldRequirement,a?O.default.fieldError:O.default.hiddenFieldError)},a))),this.maybeRenderSignupButtons())}}]);return i}(v.Component);F(D,"defaultProps",{under13:false,role:"learner",showFacebookButton:true});var M=40;var W=p.StyleSheet.create({birthdayPickerWrapper:{display:"block",marginBottom:8,height:95},invisibleBirthdayPickerWrapper:{height:0,opacity:0,visibility:"hidden",overflow:"hidden"},birthdayPickerPrompt:{marginBottom:4},dateInput:{height:M,fontSize:a.default.BODY_FONT_SIZE,border:"1px solid ".concat(b.default.colors.gray85),borderRadius:b.borderRadius,minWidth:"50%",outline:"none",":focus":{borderColor:b.default.colors.kaGreen}},buttons:{animationName:{from:{opacity:0},to:{opacity:1}},animationDuration:"500ms"},login:{marginTop:24,marginBottom:72,textAlign:"center",fontSize:a.default.BODY_FONT_SIZE,color:b.default.colors.kaGreen},link:{":hover":{textDecoration:"none",color:b.default.colors.kaGreenHover}}});e.exports=(0,n.default)({name:"districts_clever_library_active"})(D)},DvtR:function(e,t,r){"use strict";r("pNMO");r("yXV3");r("zKZe");r("5DmW");r("SYor");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=o(r("q1tI"));var a=i(r("WjuW"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return s.apply(this,arguments)}function u(e,t){if(e==null)return{};var r=l(e,t);var n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++){n=i[a];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function l(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var a,i;for(i=0;i<n.length;i++){a=n[i];if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var i18n=r("HEOz");var c=function e(t){if(t==="first"){return i18n._("First name")}else if(t==="last"){return i18n._("Last name")}else if(t==="full"){return i18n._("Your name")}else{return null}};var f=function e(t){if(t==="first"){return i18n._("Please tell us your first name.")}else if(t==="last"){return i18n._("Please tell us your last name.")}else if(t==="full"){return i18n._("Please tell us your full name.")}else{return null}};var d=function e(t){return function(e){return e.trim().length===0?f(t):null}};var p=function e(t){var _=t.nameType,r=u(t,["nameType"]);return n.createElement(a.default,s({emptyMessage:f(t.nameType),label:c(t.nameType),validator:d(t.nameType)},r))};t.default=p},QuFw:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("2B1R");r("+2oP");r("5DmW");r("NBAS");r("UxlC");r("EnZy");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=E(r("q1tI"));var s=r("mR6N");var n=r("vwLt");var a=i(r("Nw73"));var u=i(r("Pwnf"));var l=i(r("6OHE"));var c=i(r("SGU3"));var f=r("83y6");var d=i(r("Q8Wn"));var p=i(r("m+8x"));var v=i(r("YmN9"));var h=i(r("JKja"));var m=i(r("3sfC"));var b=i(r("WjuW"));var g=i(r("SW+Y"));var y=i(r("RNI6"));var w=r("WGxL");var O=i(r("/BnC"));function i(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){D(t,e,r[e])})}return t}function k(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function j(e,t,r){if(t)P(e.prototype,t);if(r)P(e,r);return e}function C(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return B(e)}function F(e){F=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return F(e)}function B(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function N(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)I(e,t)}function I(e,t){I=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return I(e,t)}function D(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var M={identifierMissing:i18n._("An email or username is required to log in. "+"You can also log in with Google or Facebook."),passwordMissing:i18n._("A password is required to log in.")};var W=function(e){N(i,e);function i(){var e;var a;k(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}a=C(this,(e=F(i)).call.apply(e,[this].concat(r)));D(B(a),"state",{credentials:{},serverError:null,isSubmitting:false});D(B(a),"handleSubmit",function(e){if(a.state.isSubmitting){return}e.preventDefault();var t=a.getCredentials();if(t){a.doLogin(t)}});D(B(a),"handleSignupClick",function(e){e.preventDefault();a.props.updateStep("intro")});D(B(a),"handleDevSubmit",function(e){var t=e.split(":");var r=t[0];var n=t.slice(1).join(":");a.doLogin({identifier:r,password:n})});return a}j(i,[{key:"doLogin",value:function e(t){var r=this;var n=this.props.classCodes;var a=this.state.isSubmitting;if(a){return}var i=(0,w.getcontinueUrlFromQueryString)()||this.props.continueUrl||null;(0,w.login)({identifier:t.identifier,password:t.password,fkey:(0,f.getXSRFToken)(),continue:i}).then(function(e){window.top.location.replace((0,y.default)({type:"password",continueUrl:i,classCodes:n}))}).catch(function(e){var t=true;if(e&&e.errors&&e.errors.badlogin){t=false;r.setState({serverError:i18n._("Your login or password is incorrect.")});if(r.usernameInputField){r.usernameInputField.focus()}}if(t){r.setState({serverError:i18n._("Error logging in. Please try again.")})}r.setState({isSubmitting:false})});this.setState({isSubmitting:true})}},{key:"getCredentials",value:function e(){var t=this.state.credentials,r=t.identifier,n=t.password;if(r&&n){return{identifier:r,password:n}}return null}},{key:"renderOAuthButtons",value:function e(){var t=this.props,r=t.classCodes,n=t.continueUrl,a=t.googleContinueUrl,i=t.role;return o.createElement("div",{className:(0,s.css)(R.buttons)},o.createElement("div",{className:(0,s.css)(m.default.signupButtonWrapper)},o.createElement(v.default,{color:l.default.colors.modernGoogle,hoverColor:l.default.colors.modernGoogleHover,width:"100%",size:"large",role:i,googleContinueUrl:a,postLoginContinueUrl:n,classCodes:r,minorConversions:[{id:"login_google_button_clicked"}]})),o.createElement("div",{className:(0,s.css)(m.default.signupButtonWrapper)},o.createElement(p.default,{color:l.default.colors.modernFacebook,hoverColor:l.default.colors.modernFacebookHover,width:"100%",size:"large",role:i,postLoginContinueUrl:n,classCodes:r,minorConversions:[{id:"login_facebook_button_clicked"}]})))}},{key:"maybeRenderDevUsers",value:function e(){if(!d.default.IS_DEV_SERVER){return null}var t=O.default.map(function(e){return o.createElement(n.OptionItem,{key:e.username,label:"".concat(e.username,": ").concat(e.bio),value:"".concat(e.username,":").concat(e.password)})});return o.createElement("div",null,o.createElement(n.SingleSelect,{onChange:this.handleDevSubmit,placeholder:"OR log in as an existing user:"},t))}},{key:"renderLoginButtonText",value:function e(){var t=this.state.isSubmitting;return t?i18n._("Logging you in..."):i18n._("Log in")}},{key:"renderLoginForm",value:function e(){var n=this;var t=this.state.serverError;return o.createElement("div",null,o.createElement("div",{role:"alert",className:(0,s.css)(m.default.fieldRequirement,R.serverError,m.default.fieldError)},t),o.createElement(b.default,{testId:"identifier",label:i18n._("Email or username"),emptyMessage:M.identifierMissing,onSubmit:this.handleSubmit,onValidation:function e(t,r){return n.setState({credentials:S({},n.state.credentials,{identifier:t?r:null})})},innerRef:function e(t){return n.usernameInputField=t}}),o.createElement(g.default,{testId:"password",emptyMessage:M.passwordMissing,label:i18n._("Password"),onSubmit:this.handleSubmit,onValidation:function e(t,r){return n.setState({credentials:S({},n.state.credentials,{password:t?r:null})})}}),o.createElement(c.default,{href:"/forgotpw"},i18n._("Forgot password?")),o.createElement(a.default,{width:"100%",size:"large",color:u.default.blue,onClick:this.handleSubmit,disabled:!this.getCredentials()},this.renderLoginButtonText()),o.createElement("div",{className:(0,s.css)(R.signup)},o.createElement(c.default,{href:"/signup",onClick:this.handleSignupClick},i18n._("Create an account"))))}},{key:"render",value:function e(){var t=this.props,r=t.previousStep,n=t.updateStep;return o.createElement(h.default,{showBackButton:!!r,onBackClick:r&&function(){return n(r)}},this.renderOAuthButtons(),this.maybeRenderDevUsers(),this.renderLoginForm())}}]);return i}(o.Component);D(W,"defaultProps",{role:"learner"});var R=s.StyleSheet.create({buttons:{marginBottom:40},serverError:{height:24,lineHeight:"24px"},signup:{marginTop:24,marginBottom:72,textAlign:"center"}});var L=W;t.default=L},bMB9:function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=p(r("q1tI"));var n=r("Pk2J");var a=r("JimW");var o=r("bHum");var s=d(r("Nw73"));var u=d(r("4Du/"));var l=d(r("Q8Wn"));var c=r("Y8R6");var f=d(r("whzC"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function b(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return y(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)O(e,t)}function O(e,t){O=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return O(e,t)}function E(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var S=function(e){w(a,e);function a(){var e;var s;v(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}s=b(this,(e=g(a)).call.apply(e,[this].concat(r)));E(y(s),"handleClick",function(e){var t=s.props,r=t.location,n=t.markConversion;var a=r.origin+"/login/clever/redirect";var i=l.default.IS_DEV_SERVER?"710adf38547c9dbef1ad":"e50a9862bc4fdeafda80";var o=f.default.safeLinkTo("https://clever.com/oauth/authorize?response_type=code&redirect_uri="+a+"&client_id="+i);n({id:"signup_clever_button_clicked"});(0,c.redirect)(o)});return s}m(a,[{key:"render",value:function e(){var t=this.props,r=t.width,n=t.size;return i.createElement(s.default,{width:r,size:n,color:"#436CF2",hoverColor:"#395CCE",onClick:this.handleClick},i.createElement(k,null),i18n._("Continue with Clever"))}}]);return a}(i.Component);var k=function e(){return i.createElement(a.View,{style:{position:"absolute",left:1,top:1,width:44,height:44}},i.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 22.07C14 17.06 17.72 13 23.04 13C26.31 13 28.27 14.10 29.88 15.69L27.45 18.51C26.12 17.29 24.75 16.54 23.02 16.54C20.10 16.54 17.99 18.98 17.99 21.97C17.99 25.01 20.04 27.50 23.02 27.50C25.00 27.50 26.21 26.70 27.57 25.46L30 27.92C28.22 29.84 26.23 31.03 22.89 31.03C17.79 31.03 14 27.07 14 22.07Z",fill:"white"})))};var P=(0,n.compose)(u.default,(0,o.withConversionContext)({activity:o.enums.Activity.NAVIGATING}))(S);t.default=P},radk:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("NBAS");r("07d7");r("JfAA");r("UxlC");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=s(r("q1tI"));var n=r("mR6N");var l=a(r("JKja"));var c=a(r("P6bW"));var i=a(r("DvtR"));var f=a(r("SW+Y"));var d=a(r("zdYe"));var o=a(r("RNI6"));var p=r("WGxL");function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function v(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){S(t,e,r[e])})}return t}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function b(e,t,r){if(t)m(e.prototype,t);if(r)m(e,r);return e}function g(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return w(e)}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}function S(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var k=function e(t){var r=function e(t){return u.createElement("span",{dangerouslySetInnerHTML:{__html:t}})};var n={};for(var a=0,i=["username","email","password"];a<i.length;a++){var o=i[a];var s=o+"_html";if(t[o]){n[o]=t[o].toString()}if(t[s]){n[o]=r(t[s])}}return n};var P=function(e){O(a,e);function a(){var e;var i;h(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}i=g(this,(e=y(a)).call.apply(e,[this].concat(r)));S(w(i),"state",{fields:{},fieldErrors:{},isRedirecting:false,isSubmitting:false,serverError:false});S(w(i),"handleEmailSignupSuccess",function(e){var t=i.props,r=t.onEmailSignupSuccess,n=t.referral,a=t.classCodes;if(r){r()}window.top.location.replace((0,o.default)({type:"password",continueUrl:e,referral:n,classCodes:a}))});S(w(i),"handleBackClick",function(e){i.props.updateStep(i.props.previousStep)});S(w(i),"handleSubmit",function(e){e.preventDefault();i.submitForm()});S(w(i),"handleProceedClick",function(e){e.preventDefault();i.submitForm()});S(w(i),"validationHandler",function(n,a){return function(e,t){var r=e?t:null;i.setState({fields:v({},i.state.fields,n(r)),fieldErrors:v({},i.state.fieldErrors,a?a(r):{})})}});return i}b(a,[{key:"getSubmission",value:function e(){var t=this.state.fields,r=t.email,n=t.firstName,a=t.lastName,i=t.password,o=t.username;var s=this.props,u=s.under13,l=s.classCodes;if(!u&&r&&n&&a&&i){return{under13:u,fields:{email:r,firstName:n,lastName:a,password:i}}}else if(u&&o&&i){if(l){return{fields:{username:o,password:i,email:""},under13:u}}else if(r){return{fields:{username:o,password:i,email:r},under13:u}}}return null}},{key:"submitForm",value:function e(){var r=this;var t=this.getSubmission();if(t===null){return}var n=this.props,a=n.birthdate,i=n.role,o=n.referral,s=n.classCodes;var u=(0,p.getcontinueUrlFromQueryString)()||this.props.continueUrl||null;var l=s?s.join(","):"";var c={password:t.fields.password,classCodes:l,continue:u,birthdate:a,referral:o};var f=t.under13?(0,p.signupUnder13)(v({},c,{parent_email:t.fields.email,username:t.fields.username})):(0,p.signup)(v({},c,{email:t.fields.email,firstname:t.fields.firstName,lastname:t.fields.lastName,role:i}));f.then(function(e){r.handleEmailSignupSuccess(e.continueUrl);r.setState({isRedirecting:true})}).catch(function(e){if(e&&e.errors){var t=k(e.errors);if(Object.keys(t).length===0){r.setState({serverError:true})}r.setState({fieldErrors:t})}r.setState({isSubmitting:false})});this.setState({isSubmitting:true,serverError:false})}},{key:"renderNameFields",value:function e(){return u.createElement("div",{className:(0,n.css)(j.nameFields)},u.createElement("div",{className:(0,n.css)(j.nameFieldWrapper)},u.createElement(i.default,{testId:"signup-first-name-field",nameType:"first",onValidation:this.validationHandler(function(e){return{firstName:e}}),onSubmit:this.handleSubmit})),u.createElement("div",{className:(0,n.css)(j.nameFieldWrapper)},u.createElement(i.default,{testId:"signup-last-name-field",nameType:"last",onValidation:this.validationHandler(function(e){return{lastName:e}}),onSubmit:this.handleSubmit})))}},{key:"renderServerError",value:function e(){var t=this.state.serverError;return t&&i18n._("Sorry, we saw an unexpected error! Please try again later.")}},{key:"renderProceedButtonLabel",value:function e(){var t=this.state,r=t.isRedirecting,n=t.isSubmitting;if(r){return i18n._("Logging you in...")}else if(n){return i18n._("Signing up...")}else{return i18n._("Sign up")}}},{key:"renderEmailFieldLabel",value:function e(){var t=this.props.under13;if(t){return i18n._("Your parent or guardian's email")}else{return i18n._("Your email")}}},{key:"renderEmailFieldNotice",value:function e(){var t=this.props.under13;if(t){return i18n._("We’re excited to get you started, but we need to notify your parent or guardian about your account.")}return null}},{key:"render",value:function e(){var t=this.props,r=t.under13,n=t.classCodes;var a=this.state,i=a.fieldErrors,o=a.isSubmitting;var s=r&&n;return u.createElement(l.default,{showBackButton:true,onBackClick:this.handleBackClick,showProceedButton:true,proceedLabel:this.renderProceedButtonLabel(),proceedDisabled:!this.getSubmission()||o,onProceedClick:this.handleProceedClick},!s&&u.createElement(c.default,{testId:"signup-email-field",label:this.renderEmailFieldLabel(),notice:this.renderEmailFieldNotice(),error:i.email,onValidation:this.validationHandler(function(e){return{email:e}},function(){return{email:null}}),onSubmit:this.handleSubmit}),r?u.createElement(d.default,{error:i.username,onValidation:this.validationHandler(function(e){return{username:e}},function(){return{username:null}}),onSubmit:this.handleSubmit}):this.renderNameFields(),u.createElement(f.default,{testId:"signup-password-field",isCreating:true,error:i.password,onValidation:this.validationHandler(function(e){return{password:e}},function(){return{password:null}}),onSubmit:this.handleSubmit}),this.renderServerError())}}]);return a}(u.Component);S(P,"defaultProps",{previousStep:"intro"});var j=n.StyleSheet.create({serverError:{marginTop:24,marginBottom:72},nameFields:{display:"flex",alignItems:"top"},nameFieldWrapper:{width:"50%",":first-of-type":{marginRight:4},":last-of-type":{marginLeft:4}}});var C=P;t.default=C},zdYe:function(e,t,r){"use strict";r("ma9I");r("zKZe");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=s(r("q1tI"));var o=r("WGxL");var a=i(r("WjuW"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return u.apply(this,arguments)}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}function d(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return v(e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return m(e,t)}function b(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i18n=r("HEOz");var g={label:i18n._("Choose a username"),notice:i18n._("Use letters and numbers only. For safety, don't use your real name."),placeholder:i18n._("Please choose a username.")};var y=function(e){h(i,e);function i(){var e;var n;l(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++){r[a]=arguments[a]}n=d(this,(e=p(i)).call.apply(e,[this].concat(r)));b(v(n),"state",{showValidationWhileFocused:false});b(v(n),"validate",function(e){return(0,o.isUsernameAvailable)(e).then(function(e){var t=e.result,r=e.reason;n.setState({showValidationWhileFocused:r===o.USERNAME_VALIDATION_STRINGS.UNAVAILABLE});return t?null:r})});return n}f(i,[{key:"render",value:function e(){var t=this.state.showValidationWhileFocused;var r=this.props.onValidation;return n.createElement(a.default,u({label:g.label,notice:g.notice},this.props,{emptyMessage:g.placeholder,maxLength:o.USERNAME_MAX_LENGTH,onValidation:r,showValidationWhileFocused:t,validator:this.validate}))}}]);return i}(n.Component);var w=y;t.default=w}}]);
//# sourceMappingURL=../../sourcemaps/en/dc89bb26e7d5942dc8f4ccac9d2d1c05.f6eb8df168a4bbf93d2a.js.map