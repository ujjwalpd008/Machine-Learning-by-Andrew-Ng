(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["711e9223e8701d550b619af3b00dc401"],{"+vEw":function(e,t,r){"use strict";r("ma9I");r("4mDm");r("2B1R");r("07d7");r("3bBZ");var o=r("eAf/").vector;var _=r("F/us");var n=r("e1hl");var i=r("p8fL");var a=r("vNny");var s=i.assert;var l=i.normalizeOptions;var c=r("yfnS");var u=r("NT9k");var h=_.keys(n);var f={points:null,angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],closed:true,static:false,cursor:"move",normalStyle:null,highlightStyle:null,labelStyle:null};var p={added:false,hasMoved:false,visibleShape:null,mouseTarget:null};var d=function e(t,r,n){s(t!=null);s(n!=null);_.extend(this,{graphie:t,movable:r,state:{id:_.uniqueId("movablePolygon")}});this.modify(_.extend({},p,n))};_.extend(d,n);i.createGettersFor(d,_.extend({},f,p));i.addMovableHelperMethodsTo(d);_.extend(d.prototype,{cloneState:function e(){return _.extend(this.movable.cloneState(),this.state)},_createDefaultState:function e(){return _.extend({id:this.state.id},l(h,a.pluck(n,"standard")),f)},modify:function e(t){this.update(_.extend(this._createDefaultState(),t))},update:function e(t){var a=this;var r=a.graphie;var n=_.extend(a.state,l(h,t));var i=n.static?c.DYNAMIC:c.INTERACTIVE;n.normalStyle=_.extend({},n.normalStyle,{"stroke-width":2,"fill-opacity":0,fill:i,stroke:i},t.normalStyle);n.highlightStyle=_.extend({},{stroke:c.INTERACTING,"stroke-width":2,fill:c.INTERACTING,"fill-opacity":.05},n.highlightStyle);n.labelStyle=_.extend({},{stroke:c.DYNAMIC,"stroke-width":1,color:c.DYNAMIC},n.labelStyle);if(!n.static){if(!n.mouseTarget){n.mouseTarget=r.mouselayer.path(this.path());n.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})}}a.movable.modify(_.extend({},n,{modify:null,draw:a.draw.bind(a),remove:null,onMoveStart:function e(){a._initialRefCoord=a.coord(0);a._prevRefCoord=a._initialRefCoord;a._totalDelta=[0,0];a._fireEvent(a.state.onMoveStart,a.coord(0),a.coord(0))},onMove:function e(t,r){var n=o.subtract(t,r);a._totalDelta=o.add(a._totalDelta,n);var i=o.add(a._initialRefCoord,a._totalDelta);i=a._applyConstraints(i,a._prevRefCoord);if(i===false){return}a._fireEvent(a.state.onMove,i,a._prevRefCoord);a._prevRefCoord=i},onMoveEnd:function e(){a._fireEvent(a.state.onMoveEnd,a._prevRefCoord,a._initialRefCoord)}}));_.invoke(n.points,"listen","onMove",n.id,a.draw.bind(a));if(!n.added){a.prevState={};a._fireEvent(n.add,a.cloneState(),a.prevState);n.added=true;a.prevState=a.cloneState()}a._fireEvent(n.modify,a.cloneState(),a.prevState)},path:function e(t){var r=this.graphie;t=t||this.state;var n=_.map(t.points,function(e){return r.scalePoint(e.coord())});if(t.closed){n.push(true)}else{n=n.concat(_.clone(n).reverse())}return u.unscaledSvgPath(n)},coords:function e(){return _.invoke(this.state.points,"coord")},point:function e(t){return this.state.points[t]},coord:function e(t){return this.point(t).coord()},remove:function e(){this.state.added=false;this._fireEvent(this.state.remove);if(this.state.points){_.invoke(this.state.points,"unlisten","onMove",this.state.id)}if(this.movable){this.movable.remove()}this.state.mouseTarget=null},constrain:function e(){if(this.points==null||this.points.length===0){return}var t=this.coord(0);var r=this._applyConstraints(t,t);if(r!==false){this._fireEvent(this.state.onMove,r,t)}},normalStyle:function e(){return _.clone(this.state.normalStyle)},highlightStyle:function e(){return _.clone(this.state.highlightStyle)},toBack:function e(){this.movable.toBack();if(this.state.visibleShape){this.state.visibleShape.toBack()}},toFront:function e(){if(this.state.visibleShape){this.state.visibleShape.toFront()}this.movable.toFront()},isHovering:function e(){return this.movable.isHovering()},isDragging:function e(){return this.movable.isDragging()},mouseTarget:function e(){return this.movable.mouseTarget()}});e.exports=d},"/4Qb":function(e,t,r){"use strict";e.exports={iconCheck:{path:"M8.70710678,12.2928932 C8.31658249,11.9023689 7.68341751,11.9023689 7.29289322,12.2928932 C6.90236893,12.6834175 6.90236893,13.3165825 7.29289322,13.7071068 L9.82842712,16.2426407 C10.2207367,16.6349502 10.8574274,16.6328935 11.2471942,16.2380576 L16.7116603,10.7025237 C17.0996535,10.3094846 17.0955629,9.67633279 16.7025237,9.28833966 C16.3094846,8.90034653 15.6763328,8.90443714 15.2883397,9.29747629 L10.5309507,14.1167372 L8.70710678,12.2928932 Z",width:24,height:24},iconCheckMedium:{path:"M6.072 10.4l6.175-7.058a1 1 0 1 1 1.506 1.317L6.769 12.64a1 1 0 0 1-1.55-.054L2.203 8.604a1 1 0 1 1 1.594-1.208L6.072 10.4z",width:16,height:16},iconChevronDown:{path:"M99.669 13.048q0 3.36-2.352 5.712l-41.664 41.664q-2.408 2.408-5.88 2.408t-5.712-2.408l-41.664-41.664q-2.408-2.24-2.408-5.712t2.408-5.88l4.76-4.816q2.52-2.352 5.88-2.352t5.656 2.352l31.136 31.136 31.08-31.136q2.352-2.352 5.712-2.352t5.88 2.352l4.816 4.816q2.352 2.52 2.352 5.88z",width:100,height:63.034},iconChevronRight:{path:"M62.808 49.728q0 3.36-2.352 5.88l-41.72 41.664q-2.352 2.408-5.768 2.408t-5.768-2.408l-4.872-4.76q-2.352-2.52-2.352-5.88t2.352-5.712l31.08-31.136-31.08-31.024q-2.352-2.52-2.352-5.88t2.352-5.712l4.872-4.76q2.296-2.408 5.768-2.408t5.768 2.408l41.72 41.664q2.352 2.296 2.352 5.656z",width:63.034,height:100},iconCircle:{path:"M100.035 50.046q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowDown:{path:"M50.046 83.676q1.767 0 2.907-1.14l29.526-29.526q1.197-1.197 1.197-2.907t-1.197-2.964l-5.928-5.928q-1.197-1.14-2.964-1.14t-2.907 1.14l-12.312 12.312l0-32.661q0-1.71-1.254-2.964t-2.907-1.254l-8.322 0q-1.71 0-2.964 1.254t-1.254 2.964l0 32.661l-12.312-12.312q-1.197-1.254-2.907-1.254t-2.907 1.254l-5.928 5.928q-1.197 1.197-1.197 2.964t1.197 2.907l29.469 29.526q1.197 1.14 2.964 1.14zm49.989-33.63q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowUp:{path:"M54.207 83.391q1.653 0 2.907-1.254t1.254-2.907l0-32.718l12.312 12.312q1.254 1.254 2.964 1.254t2.907-1.254l5.928-5.928q1.197-1.197 1.14-2.964 0-1.767-1.14-2.907l-29.526-29.526q-1.197-1.14-2.907-1.14t-2.964 1.14l-29.469 29.526q-1.197 1.254-1.197 2.964t1.197 2.907l5.928 5.928q1.197 1.197 2.907 1.197t2.907-1.197l12.312-12.312l0 32.718q0 1.653 1.254 2.907t2.964 1.254l8.322 0zm45.828-33.345q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleThin:{path:"M50.046 8.322q-8.493 0-16.188 3.306-15.561 6.669-22.173 22.23-3.363 7.695-3.363 16.188t3.306 16.188 8.949 13.281q5.586 5.586 13.281 8.892t16.188 3.306 16.188-3.306 13.281-8.892 8.892-13.281 3.306-16.188-3.306-16.188-8.892-13.281-13.281-8.949q-7.695-3.306-16.188-3.306zm0 91.713q-13.623 0-25.137-6.726t-18.183-18.183q-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.126q-11.514 6.726-25.08 6.726z",width:100,height:99.944},iconDesktop:{path:"M94.208 52.119l0-43.746q0-.69-.506-1.15t-1.196-.506l-84.088 0q-.69 0-1.196.506t-.506 1.15l0 43.746q0 .69.506 1.196t1.196.506l84.088 0q.69 0 1.196-.506t.506-1.196zm6.716-43.746l0 57.224q0 3.45-2.484 5.934t-5.934 2.484l-28.566 0q0 3.128 2.53 7.774.828 1.61.828 2.622t-1.012 2.07q-1.012 1.012-2.346.966l-26.91 0q-1.38 0-2.392-1.012t-1.012-2.024q0-1.058 1.656-4.14t1.748-6.256l-28.612 0q-3.45 0-5.934-2.484t-2.484-5.934l0-57.224q0-3.45 2.484-5.934t5.934-2.438l84.088 0q3.45 0 5.98 2.438 2.438 2.484 2.438 5.934z",width:100,height:86.648},iconDropdownArrow:{path:"M9 9.8c0 .5.7 1.7 1.5 2.8 1.5 1.9 1.5 1.9 3 0C15.7 9.7 15.4 9 12 9c-1.6 0-3 .4-3 .8z",width:24,height:24},iconExclamationSign:{path:"M58.368 81.225l0-12.369q0-.912-.57-1.539t-1.425-.627l-12.54 0q-.855-.057-1.482.627t-.684 1.539l0 12.369q-.057.855.627 1.482t1.539.684l12.54 0q.855 0 1.425-.627t.57-1.539zm1.026-62.871q0-1.596-2.223-1.71l-14.307 0q-2.109 0-2.223 1.71l1.14 40.47q0 .627.627 1.14t1.539.456l12.084 0q.912-.057 1.539-.513t.684-1.083zm-9.348-18.354q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669z",width:100,height:99.944},iconGear:{path:"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z",width:1792,height:1792},iconMobilePhone:{path:"M36.04 89.557q0-2.584-1.836-4.42t-4.42-1.836-4.352 1.836q-1.836 1.836-1.836 4.42t1.836 4.352 4.42 1.836q2.652-.068 4.42-1.836t1.768-4.352zm16.184-12.444l0-54.74q0-1.088-.748-1.768t-1.768-.68l-39.78 0q-1.088 0-1.768.748t-.68 1.7l0 54.74q0 1.02.748 1.768t1.7.68l39.78 0q1.02-.068 1.768-.748t.748-1.7zm-14.892-65.892q0-1.224-1.292-1.292l-12.444 0q-1.224.068-1.224 1.292t1.224 1.224l12.444 0q1.292 0 1.292-1.224zm22.372-1.292l0 79.628q0 3.944-2.992 6.936t-7.004 2.992l-39.78 0q-4.012 0-7.004-2.924-2.924-2.924-2.924-7.004l0-79.628q0-4.012 2.924-6.936t7.004-2.992l39.78 0q4.012-.068 7.004 2.924t2.992 7.004z",width:60.013,height:100},iconOk:{path:"M37.964 76.048q-2.576 0-4.368-1.792l-31.864-31.864q-1.792-1.792-1.792-4.368t1.792-4.368l8.736-8.68q1.792-1.792 4.368-1.792t4.312 1.792l18.816 18.872 42-42.056q1.792-1.792 4.368-1.792t4.312 1.792l8.736 8.736q1.792 1.792 1.792 4.368t-1.792 4.312l-55.048 55.048q-1.792 1.792-4.368 1.792z",width:100,height:76.637},iconPlus:{path:"M99.758 43.09l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-29.45 0l0 29.45q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-29.45l-29.45 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l29.45 0l0-29.45q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836l0 29.45l29.45 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:100},iconRemove:{path:"M100.464 80.808q0 3.404-2.368 5.772l-11.47 11.544q-2.368 2.368-5.772 2.368t-5.698-2.368l-24.864-24.864-24.864 24.864q-2.368 2.368-5.772 2.368t-5.772-2.368l-11.47-11.544q-2.368-2.368-2.368-5.772t2.368-5.698l24.864-24.864-24.864-24.864q-2.368-2.368-2.368-5.772t2.368-5.772l11.47-11.47q2.368-2.368 5.772-2.368t5.772 2.368l24.864 24.864 24.864-24.864q2.294-2.368 5.698-2.368t5.772 2.368l11.47 11.47q2.368 2.368 2.368 5.772t-2.368 5.772l-24.864 24.864 24.864 24.864q2.368 2.294 2.368 5.698z",width:100,height:100},iconStar:{path:"M15.1052249,9.55978547 L22.0028147,9.55978545 C23.6568673,9.55978545 23.9349557,10.3753626 22.6181351,11.3858845 L16.9943688,15.7015366 L19.2518801,22.8294455 C19.7526645,24.4106317 19.0984455,24.8825885 17.769353,23.8673293 L12.0490577,19.4977438 L6.5116497,23.8422153 C5.20921411,24.8640642 4.53299569,24.4067544 5.00266927,22.8160582 L7.10332364,15.7015366 L1.42794544,11.3634306 C0.110226041,10.3562014 0.383967283,9.54239221 2.0409646,9.54574013 L8.9924676,9.55978547 L11.1485117,2.72669438 C11.6458693,1.15043244 12.4548928,1.15900049 12.9494787,2.72669438 L15.1052249,9.55978547 Z",width:24,height:24},iconTryAgain:{path:"M3.74890556,17.9799506 C2.19251241,16.1970909 1.10103636,13.4971457 1.13090903,11.1491783 C1.17160478,7.95052637 4.01704076,0.865059407 11.7028044,0.865059407 C19.388568,0.865059407 22.3026521,7.35203035 22.3026521,11.5879453 C22.3026521,15.8238603 19.386629,20.5574509 13.6832464,21.7131548 L13.6757539,17.3722171 C17.0812986,16.2190517 18.331158,14.1944123 18.3311578,11.5879451 C18.3311574,8.16554692 15.6664205,5.03476549 11.7028048,5.20494205 C7.73918903,5.37511861 5.59244567,8.66930079 5.59244567,11.1491783 C5.59244567,12.9090077 6.11128139,14.1753512 6.93640437,15.3053215 L8.14052356,14.2949456 C8.98559348,13.5858477 9.6994861,13.9070448 9.73489556,15.0076413 L9.91284941,20.5388014 C9.94832683,21.6415103 9.09967118,22.3514475 8.02194403,22.1254594 L2.60571602,20.9897332 C1.5259204,20.7633114 1.34338662,19.9984207 2.18070755,19.295825 L3.74890556,17.9799506 Z",width:23,height:23},iconTablet:{path:"M45.322 90.706q0-1.86-1.302-3.224-1.364-1.364-3.224-1.364t-3.224 1.364-1.302 3.224q0 1.86 1.364 3.224 1.302 1.364 3.162 1.302 1.86.062 3.224-1.302t1.302-3.224zm27.218-11.346l0-68.014q0-.93-.682-1.612t-1.55-.682l-58.962 0q-.93 0-1.612.682t-.682 1.612l0 68.014q0 .93.682 1.612t1.612.62l58.962 0q.992-.062 1.612-.682t.62-1.55zm9.114-68.014l0 77.066q0 4.65-3.348 7.998t-7.998 3.348l-58.962 0q-4.65 0-7.998-3.348t-3.348-7.998l0-77.066q0-4.65 3.348-7.998t7.998-3.348l58.962 0q4.65 0 7.998 3.348t3.348 7.998z",width:81.852,height:100},iconTrash:{path:"M31.293 37.506q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.218 0q-.912-.057-1.482-.627t-.57-1.482l0-37.506q0-2.109 2.052-2.109l4.218 0zm18.753 2.109l0 37.506q0 .912-.57 1.482t-1.539.627l-4.161 0q-1.995 0-2.109-2.109l0-37.506q.057-.912.627-1.482t1.482-.627l4.161 0q.969.057 1.539.627t.57 1.482zm14.592-2.109q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.161 0q-.969-.057-1.539-.627t-.57-1.482l0-37.506q0-2.109 2.109-2.109l4.161 0zm10.431 49.248l0-61.731l-58.368 0l0 61.731q.057 2.679.969 3.819t1.083 1.14l54.207 0q.171 0 1.14-1.083t.969-3.876zm-43.776-70.11l29.184 0l-3.135-7.581q-.456-.57-1.14-.741l-20.634 0q-.627.114-1.083.741zm-31.293 2.109q0-1.995 2.109-2.109l20.121 0l4.56-10.83q.969-2.394 3.477-4.104 2.565-1.71 5.187-1.71l20.805 0q2.622 0 5.187 1.71t3.477 4.104l4.56 10.83l20.178 0q.912.057 1.482.627t.57 1.482l0 4.161q0 1.995-2.052 2.109l-6.27 0l0 61.731q0 5.415-3.078 9.348t-7.353 3.933l-54.207 0q-4.275 0-7.353-3.819t-3.078-9.177l0-62.016l-6.213 0q-.969 0-1.539-.57t-.57-1.539l0-4.161z",width:91.681,height:100},iconUndo:{path:"M10,6.6C10,7.2,9.8,8,9.3,9.1c0,0,0,0.1-0.1,0.1S9.2,9.3,9.2,9.4c0,0,0,0.1-0.1,0.1C9,9.6,9,9.6,8.9,9.6 c-0.1,0-0.1,0-0.1-0.1c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1s0-0.1,0-0.1c0-0.3,0-0.5,0-0.7c0-0.4,0-0.7-0.1-1C8.6,7.1,8.5,6.9,8.4,6.7S8.2,6.3,8,6.1C7.8,5.9,7.6,5.8,7.4,5.7S6.9,5.5,6.7,5.5S6.1,5.4,5.8,5.4c-0.3,0-0.6,0-1,0H3.6v1.4c0,0.1,0,0.2-0.1,0.3C3.4,7.1,3.3,7.1,3.2,7.1C3.1,7.1,3,7.1,3,7L0.1,4.1C0,4.1,0,4,0,3.9s0-0.2,0.1-0.3L3,0.8C3,0.7,3.1,0.7,3.2,0.7c0.1,0,0.2,0,0.3,0.1C3.5,0.9,3.6,0.9,3.6,1v1.4h1.2c2.6,0,4.3,0.7,4.9,2.2C9.9,5.2,10,5.8,10,6.6z",width:10,height:10},iconMinus:{path:"M8,13 L16,13 C16.5522847,13 17,12.5522847 17,12 C17,11.4477153 16.5522847,11 16,11 L8,11 C7.44771525,11 7,11.4477153 7,12 C7,12.5522847 7.44771525,13 8,13 Z",width:24,height:24}}},"2BsJ":function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("2B1R");r("+2oP");r("5DmW");r("07d7");r("Rm1S");r("UxlC");r("FZtP");r("3bBZ");function p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e,t){return o(e)||a(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}function o(e){if(Array.isArray(e))return e}var s=r("eAf/").point;var w=r("eAf/").vector;var _=r("F/us");var P=r("e2gc");var S=r("nL9U");var T=r("XwLL");var A=r("KmI1").processMath;var E=r("yfnS");function l(e,t){var r=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));var n=Math.atan2(e[1],e[0]);if(n<0){n+=2*Math.PI}if(!t){n=n*180/Math.PI}return[r,n]}function C(e,t){if(typeof e==="number"){e=[e,e]}t=t*Math.PI/180;return[e[0]*Math.cos(t),e[1]*Math.sin(t)]}var I={unscaledSvgPath:function e(t){if(t[0]===true){return""}return P.map(t,function(e,t){if(e===true){return"z"}return(t===0?"M":"L")+e[0]+" "+e[1]}).join("")},getDistance:function e(t,r){return s.distanceToPoint(t,r)},coordDiff:function e(r,n){return _.map(n,function(e,t){return n[t]-r[t]})},snapCoord:function e(t,r){return _.map(t,function(e,t){return T.roundToNearest(r[t],e)})},findAngle:function e(t,r,n){if(n===undefined){var i=t[0]-r[0];var a=t[1]-r[1];if(!i&&!a){return 0}return(180+Math.atan2(-a,-i)*180/Math.PI+360)%360}else{return I.findAngle(t,n)-I.findAngle(r,n)}},graphs:{}};var D=I.Graphie=function(){};_.extend(D.prototype,{cartToPolar:l,polar:C});var O={center:[-.5,-.5],above:[-.5,-1],"above right":[0,-1],right:[0,-.5],"below right":[0,0],below:[-.5,0],"below left":[-1,0],left:[-1,-.5],"above left":[-1,-1]};var F={"stroke-width":null};I.createGraphie=function(l){var c=40;var x=40;var g;var o;P(l).css("position","relative");var M=S(l);P(l).children("div").css("position","absolute");var k={"stroke-width":2,fill:"none"};var d=function e(t){if(typeof t==="number"){return e([t,t])}var r=t[0];var n=t[1];return[r*c,n*x]};var y=function e(t){if(typeof t==="number"){return e([t,t])}var r=t[0];var n=t[1];return[(r-g[0])*c,(o[1]-n)*x]};var e=function e(t){if(typeof t==="number"){return e([t,t])}var r=t[0];var n=t[1];return[r/c+g[0],o[1]-n/x]};var t=function e(t){if(typeof t==="number"){return e([t,t])}return[t[0]/c,t[1]/x]};var u=function e(t,r){var n=P(t);var i=n.data("labelDirection");var a=m(r,2),o=a[0],s=a[1];if(o===0&&s===0){o=1;s=1;console.warn("Label size was 0x0 in graphie.js; using 1x1 instead")}n.css("visibility","");if(typeof i==="number"){var l=Math.cos(i);var c=Math.sin(i);var u=Math.min(o/2/Math.abs(l),s/2/Math.abs(c));n.css({marginLeft:-o/2+l*u,marginTop:-s/2-c*u})}else{var h=O[i||"center"];n.css({marginLeft:Math.round(o*h[0]),marginTop:Math.round(s*h[1])})}};var b=function e(t,n){return P.map(t,function(e,t){if(e===true){return"z"}else{var r=n?e:y(e);return(t===0?"M":"L")+T.bound(r[0])+" "+T.bound(r[1])}}).join("")};var i=function e(r,n,i){var t=function e(t){return(r*t+n)*t+i};if(r===0){var a=_.map(g,function(e){return[e,t(e)]});return b(a)}var o=-n/(2*r);var s=Math.max(Math.abs(o-g[0]),Math.abs(o-g[1]));var l=o+s;var c=[o,t(o)];var u=[l,t(l)];var h=[c[0],c[1]-(u[1]-c[1])];var f=Math.abs(c[0]-u[0]);var p=[c[0]-f,u[1]];var d=[c[0]+f,u[1]];var v=_.map([p,h,d],y);var m=_.map(_.flatten(v),T.bound);return"M"+m[0]+","+m[1]+" Q"+m[2]+","+m[3]+" "+m[4]+","+m[5]};var a=function e(r,n,i,a){var s=Math.abs(Math.PI/(2*n));var l=function e(t){return r*Math.sin(n*t-i)+a};var c=function e(t){return r*n*Math.cos(i-n*t)};var t=function e(t,r){var n=t+s*r;var i=n+s;var a=[n,n*2/3+i*1/3,n*1/3+i*2/3,i];var o=[l(n),l(n)+c(n)*(i-n)/3,l(i)-c(i)*(i-n)/3,l(i)];return _.map(_.zip(a,o),y)};var o=g[1]-g[0];var u=Math.ceil(o/s)+1;var h=i/n;var f=h-g[0];h-=s*Math.ceil(f/s);var p=t(h,0);var d="M"+p[0][0]+","+p[0][1]+" C"+p[1][0]+","+p[1][1]+" "+p[2][0]+","+p[2][1]+" "+p[3][0]+","+p[3][1];for(var v=1;v<u;v++){p=t(h,v);d+=" C"+p[1][0]+","+p[1][1]+" "+p[2][0]+","+p[2][1]+" "+p[3][0]+","+p[3][1]}return d};I.svgPath=b;var s=function e(t){var i={scale:function e(t){if(typeof t==="number"){t=[t,t]}c=t[0];x=t[1];M.setSize((g[1]-g[0])*c,(o[1]-o[0])*x)},clipRect:function e(t){var r=t[0];var n=t[1];r[1]+=n[1];return{"clip-rect":y(r).concat(d(n)).join(" ")}},strokeWidth:function e(t){return{"stroke-width":parseFloat(t)}},rx:function e(t){return{rx:d([t,0])[0]}},ry:function e(t){return{ry:d([0,t])[1]}},r:function e(t){var r=d([t,t]);return{rx:r[0],ry:r[1]}}};var a={};P.each(t||{},function(e,t){var r=i[e];if(typeof r==="function"){P.extend(a,r(t))}else{var n=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();a[n]=t}});return a};var h=function e(t){var r=t.constructor.prototype;if(r===S.el){if(t.type==="path"&&typeof t.arrowheadsDrawn==="undefined"){var n=t.attr("stroke-width");var i=.6+.4*n;var a=t.getTotalLength();var o=M.set();var s=M.path(v.isMobile?"M-4,4 C-4,4 -0.25,0 -0.25,0 C-0.25,0 -4,-4 -4,-4":"M-3 4 C-2.75 2.5 0 0.25 0.75 0C0 -0.25 -2.75 -2.5 -3 -4");var l=t.getPointAtLength(a-.4);var c=t.getPointAtLength(a-.75*i);var u=Math.atan2(l.y-c.y,l.x-c.x)*180/Math.PI;var h=t.attr();delete h.path;var f=t.getSubpath(0,a-.75*i);f=M.path(f).attr(h);f.arrowheadsDrawn=true;t.remove();s.rotate(u,v.isMobile?1e-5:.75,0).scale(i,i,.75,0).translate(c.x,c.y).attr(h).attr({"stroke-linejoin":"round","stroke-linecap":"round"});s.arrowheadsDrawn=true;o.push(f);o.push(s);return o}}else if(r===S.st){for(var p=0,d=t.items.length;p<d;p++){e(t.items[p])}}return t};var f={circle:function e(t,r){return M.ellipse.apply(M,y(t).concat(d([r,r])))},rect:function e(t,r,n,i){var a=y([t,r+i]);var o=d([n,i]);var s=M.rect.apply(M,a.concat(o));if(v.isMobile){s.node.style.shapeRendering="crispEdges"}return s},ellipse:function e(t,r){return M.ellipse.apply(M,y(t).concat(d(r)))},fixedEllipse:function e(t,r,n,i){var a=y(t);var o=d(r);var s=2*o[0]*n+i;var l=2*o[1]*n+i;var c=a[0]-s/2;var u=a[1]-l/2;var h=document.createElement("div");P(h).css({position:"absolute",width:s+"px",height:l+"px",left:c+"px",top:u+"px"});var f=S(h,s,l);var p=f.ellipse(s/2,l/2,o[0],o[1]);return{wrapper:h,visibleShape:p}},arc:function e(t,r,n,i,a){n=(n%360+360)%360;i=(i%360+360)%360;var o=y(t);var s=d(r);var l=C(r,n);var c=C(r,i);var u=y([t[0]+l[0],t[1]+l[1]]);var h=y([t[0]+c[0],t[1]+c[1]]);var f=((i-n)%360+360)%360>180;return M.path("M"+u.join(" ")+"A"+s.join(" ")+" 0 "+(f?1:0)+" 0 "+h.join(" ")+(a?"L"+o.join(" ")+"z":""))},path:function e(t){var r=M.path(b(t));r.graphiePath=t;return r},fixedPath:function e(t,r,n){t=_.map(t,y);r=r?y(r):null;n=n||b;var i=_.min(_.pluck(t,0));var a=_.max(_.pluck(t,0));var o=_.min(_.pluck(t,1));var s=_.max(_.pluck(t,1));var l=[4,4];var c=[i,o];t=_.map(t,function(e){return w.add(w.subtract(e,c),w.scale(l,.5))});var u=a-i+l[0];var h=s-o+l[1];var f=c[0]-l[0]/2;var p=c[1]-l[1]/2;var d=document.createElement("div");P(d).css({position:"absolute",width:u+"px",height:h+"px",left:f+"px",top:p+"px",transformOrigin:r?u/2+r[0]+"px "+(h/2+r[1])+"px":null});var v=S(d,u,h);var m=v.path(n(t));return{wrapper:d,visibleShape:m}},scaledPath:function e(t){var r=M.path(b(t,true));r.graphiePath=t;return r},line:function e(t,r){var n=this.path([t,r]);if(v.isMobile){n.node.style.shapeRendering="crispEdges"}return n},parabola:function e(t,r,n){return M.path(i(t,r,n))},fixedLine:function e(t,r,n){var i=[n,n];t=y(t);r=y(r);var a=[Math.min(t[0],r[0]),Math.min(t[1],r[1])];t=w.add(w.subtract(t,a),w.scale(i,.5));r=w.add(w.subtract(r,a),w.scale(i,.5));var o=a[0]-i[0]/2;var s=a[1]-i[1]/2;var l=Math.abs(t[0]-r[0])+i[0];var c=Math.abs(t[1]-r[1])+i[1];var u=document.createElement("div");P(u).css({position:"absolute",width:l+"px",height:c+"px",left:o+"px",top:s+"px",transformOrigin:t[0]+"px "+t[1]+"px"});var h=S(u,l,c);var f="M"+t[0]+" "+t[1]+" "+"L"+r[0]+" "+r[1];var p=h.path(f);p.graphiePath=[t,r];return{wrapper:u,visibleShape:p}},sinusoid:function e(t,r,n,i){return M.path(a(t,r,n,i))},grid:function e(t,r){var n=k.step||[1,1];var i=M.set();var a=n[0]*Math.ceil(t[0]/n[0]);for(;a<=t[1];a+=n[0]){i.push(this.line([a,r[0]],[a,r[1]]))}var o=n[1]*Math.ceil(r[0]/n[1]);for(;o<=r[1];o+=n[1]){i.push(this.line([t[0],o],[t[1],o]))}return i},label:function e(t,r,n,i){i=typeof i==="undefined"||i;var a=P("<span>").addClass("graphie-label");var o=k["label-distance"];a.css(P.extend({},{position:"absolute",padding:(o!=null?o:7)+"px",color:"black"})).data("labelDirection",n).appendTo(l);a.setPosition=function(e){var t=y(e);a.css({left:t[0],top:t[1]})};a.setPosition(t);var s=a[0];a.processMath=function(e,t){A(s,e,t,function(){var e=s.scrollWidth;var t=s.scrollHeight;u(s,[e,t])})};a.processText=function(e){a.html(e);var t=s.scrollWidth;var r=s.scrollHeight;u(s,[t,r])};if(i){a.processMath(r,false)}else{a.processText(r)}return a},plotParametric:function e(r,t,n,i){i=i||function(e){return[e,0]};var a=function e(t){if(Math.abs(t[1])>5e5){return[t[0],Math.min(Math.max(t[1],-5e5),5e5)]}return t};var o=function e(t){return a(r(t))};var s=function e(t){return a(i(t))};if(!k.strokeLinejoin){k.strokeLinejoin="round"}if(!k.strokeLinecap){k.strokeLinecap="round"}var l=t[0];var c=t[1];var u=(c-l)/(k["plot-points"]||800);if(u===0){u=1}var h=M.set();var f=[];var p=I.coordDiff(o(l),s(l));var d=l;for(var v=l;v<=c;v+=u){var m=o(v);var g=s(v);var y=I.coordDiff(m,g);if(y[1]<0!==p[1]<0&&Math.abs(y[1]-p[1])>2*x||isNaN(y[1])){if(n){f.push(m);for(var b=v-u;b>=d;b-=u){f.push(s(b))}d=v}h.push(this.path(f));f=[];if(n){f.push(m)}}else{f.push(m)}p=y}if(n){for(var w=c-u;w>=d;w-=u){f.push(s(w))}}h.push(this.path(f));return h},plotPolar:function e(t,r){var n=r[0];var i=r[1];if(!k["plot-points"]){k["plot-points"]=2*(i-n)*c}return this.plotParametric(function(e){return C(t(e),e*180/Math.PI)},r)},plot:function e(t,r,n,i,a){var o=r[0];var s=r[1];if(!k["plot-points"]){k["plot-points"]=2*(s-o)*c}if(n){if(a){throw new Error("Can't shade area between functions with swapped axes.")}return this.plotParametric(function(e){return[t(e),e]},r,i)}else{if(a){if(i){return this.plotParametric(function(e){return[e,t(e)]},r,i,function(e){return[e,a(e)]})}else{throw new Error("fn2 should only be set when 'shade' is True.")}}return this.plotParametric(function(e){return[e,t(e)]},r,i)}},plotPiecewise:function e(i,a){var o=M.set();var s=this;_.times(i.length,function(e){var t=i[e];var r=a[e];var n=s.plotParametric(function(e){return[e,t(e)]},r);_.each(n,function(e){o.push(e)})});return o},plotEndpointCircles:function e(t){var r=M.set();var n=this;_.each(t,function(e,t){r.push(n.circle(e,.15))});return r},plotAsymptotes:function e(t,r){var n=r[0];var i=r[1];var a=(i-n)/(k["plot-points"]||800);var o=M.set();var s=t(n);for(var l=n;l<=i;l+=a){var c=t(l);if(c<0!==s<0&&Math.abs(c-s)>2*x){o.push(this.line([l,x],[l,-x]))}s=c}return o}};var v=new D;_.extend(v,{raphael:M,init:function e(t){var r=t.scale||[40,40];r=typeof r==="number"?[r,r]:r;c=r[0];x=r[1];if(t.range==null){throw new Error("range should be specified in graph init")}g=t.range[0];o=t.range[1];var n=(g[1]-g[0])*c;var i=(o[1]-o[0])*x;M.setSize(n,i);P(l).css({width:n,height:i});this.range=t.range;this.scale=r;this.dimensions=[n,i];this.xpixels=n;this.ypixels=i;this.isMobile=t.isMobile;return this},style:function e(t,r){var n=s(t);if(typeof r==="function"){var i=k;k=P.extend({},k,n);var a=r.call(v);k=i;return a}else{P.extend(k,n)}},scalePoint:y,scaleVector:d,unscalePoint:e,unscaleVector:t,svgPath:b,svgParabolaPath:i,svgSinusoidPath:a});P.each(f,function(a){v[a]=function(){var e=arguments[arguments.length-1];var t=k;var r;if(typeof e==="object"&&!_.isArray(e)){k=p({},k,s(e));var n=[].slice.call(arguments,0,arguments.length-1);r=f[a].apply(f,n)}else{k=P.extend({},k);r=f[a].apply(f,arguments)}var i=r.constructor.prototype;if(i===S.el||i===S.st){r.attr(k);if(k.arrows){r=h(r)}}else if(r instanceof P){r.css(p({},k,F))}k=t;return r}});v.graphInit=function(r){r=r||{};P.each(r,function(e,t){if(!e.match(/.*Opacity$/)&&e!=="range"&&typeof t==="number"){r[e]=[t,t]}if(e==="range"||e==="gridRange"){if(t.constructor===Array){if(t[0].constructor!==Array){r[e]=[[-t[0],t[0]],[-t[1],t[1]]]}}else if(typeof t==="number"){r[e]=[[-t,t],[-t,t]]}}});var l=r.range||[[-10,10],[-10,10]];var d=r.gridRange||r.range;var c=r.scale||[20,20];var e=r.grid!=null?r.grid:true;var t=r.gridOpacity||.1;var v=r.gridStep||[1,1];var n=r.axes!=null?r.axes:true;var m=r.axisArrows||"";var i=r.axisOpacity||1;var g=r.axisCenter||[Math.min(Math.max(l[0][0],0),l[0][1]),Math.min(Math.max(l[1][0],0),l[1][1])];var a=r.axisLabels!=null?r.axisLabels:false;var o=r.ticks!=null?r.ticks:true;var y=r.tickStep||[2,2];var u=r.tickLen||[5,5];var s=r.tickOpacity||1;var h=r.labels||r.labelStep||false;var b=r.labelStep||[1,1];var f=r.labelOpacity||1;var w=r.unityLabels||false;var p=r.labelFormat||function(e){return e};var x=r.xLabelFormat||p;var M=r.yLabelFormat||p;var k=r.smartLabelPositioning!=null?r.smartLabelPositioning:true;var S=[[l[0][0]-(l[0][0]>0?1:0),l[0][1]+(l[0][1]<0?1:0)],[l[1][0]-(l[1][0]>0?1:0),l[1][1]+(l[1][1]<0?1:0)]];if(!_.isArray(w)){w=[w,w]}if(k){var T=function e(t){return function(e){return(t(e)+"").replace(/-(\d)/g,"\\llap{-}$1")}};x=T(x);M=T(M)}this.init({range:S,scale:c,isMobile:r.isMobile});if(e){this.grid(d[0],d[1],{stroke:r.isMobile?E.GRAY_C:"#000000",opacity:r.isMobile?1:t,step:v,strokeWidth:r.isMobile?1:2})}if(n){if(m==="<->"||m===true){this.style({stroke:r.isMobile?E.GRAY_G:"#000000",opacity:r.isMobile?1:i,strokeWidth:r.isMobile?1:2,arrows:"->"},function(){if(l[1][0]<0&&l[1][1]>0){this.path([g,[d[0][0],g[1]]]);this.path([g,[d[0][1],g[1]]])}if(l[0][0]<0&&l[0][1]>0){this.path([g,[g[0],d[1][0]]]);this.path([g,[g[0],d[1][1]]])}})}else if(m==="->"||m===""){this.style({stroke:"#000000",opacity:i,strokeWidth:2,arrows:m},function(){this.path([[d[0][0],g[1]],[d[0][1],g[1]]]);this.path([[g[0],d[1][0]],[g[0],d[1][1]]])})}if(a&&a.length===2){this.label([d[0][1],g[1]],a[0],"right");this.label([g[0],d[1][1]],a[1],"above")}}if(o){var A=r.isMobile;this.style({stroke:r.isMobile?E.GRAY_G:"#000000",opacity:r.isMobile?1:s,strokeWidth:1},function(){var e=v[0]*y[0];var t=u[0]/c[1];var r=d[0][0];var n=d[0][1];if(l[1][0]<0&&l[1][1]>0){for(var i=e+g[0];i<=n;i+=e){if(i<n||!m){this.line([i,-t+g[1]],[i,A?0:t+g[1]])}}for(var a=-e+g[0];a>=r;a-=e){if(a>r||!m){this.line([a,-t+g[1]],[a,A?0:t+g[1]])}}}e=v[1]*y[1];t=u[1]/c[0];r=d[1][0];n=d[1][1];if(l[0][0]<0&&l[0][1]>0){for(var o=e+g[1];o<=n;o+=e){if(o<n||!m){this.line([-t+g[0],o],[A?0:t+g[0],o])}}for(var s=-e+g[1];s>=r;s-=e){if(s>r||!m){this.line([-t+g[0],s],[A?0:t+g[0],s])}}}})}if(h){this.style({stroke:r.isMobile?E.GRAY_G:"#000000",opacity:r.isMobile?1:f},function(){var e=v[0]*y[0]*b[0];var t=d[0][0];var r=d[0][1];var n=g[0]<0?"above":"below";var i=g[0]<0?"right":"left";var a=g[0]===0&&g[1]!==0;var o=g[0]!==0&&g[1]===0;var s=g[0]!==0||g[1]!==0;var l=w[0]||s;var c=w[1]||s;for(var u=(a?0:e)+g[0];u<=r;u+=e){if(u<r||!m){this.label([u,g[1]],x(u),n)}}for(var h=-e*(l?1:2)+g[0];h>=t;h-=e){if(h>t||!m){this.label([h,g[1]],x(h),n)}}e=v[1]*y[1]*b[1];t=d[1][0];r=d[1][1];for(var f=(o?0:e)+g[1];f<=r;f+=e){if(f<r||!m){this.label([g[0],f],M(f),i)}}for(var p=-e*(c?1:2)+g[1];p>=t;p-=e){if(p>t||!m){this.label([g[0],p],M(p),i)}}})}};return v};e.exports=I},"2OMh":function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("yXV3");r("4mDm");r("2B1R");r("+2oP");r("5DmW");r("07d7");r("TWNs");r("JfAA");r("Rm1S");r("UxlC");r("FZtP");r("3bBZ");var c=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var _=r("F/us");var h=r("wk+a");var a=r("FvPh");var o=r("uBl0");var s=r("LU9M");var i18n=r("HEOz");var l=function e(t,r,n){var i=t.length;var a=0;if(n){if(r.inline){return null}while(a<i&&t[a]===" "){a++}}if(!(a<i&&t[a]==="$")){return null}a++;var o=a;var s=0;while(a<i){var l=t[a];if(l==="\\"){a++}else if(s<=0&&l==="$"){var c=a+1;if(n){var u=/^(?: *\n){2,}/.exec(t.slice(c));c=u?c+u[0].length:null}if(c){return[t.substring(0,c),t.substring(o,a)]}return null}else if(l==="{"){s++}else if(l==="}"){s--}else if(l==="\n"&&t[a-1]==="\n"){return null}a++}return null};var f=function e(t,r){return l(t,r,false)};var p=function e(t,r){return l(t,r,true)};var d=new RegExp("^\\|\\| +(.*) +\\|\\| *\\n"+"("+h.defaultRules.nptable.match.regex.source.substring(1)+")");var v=h.blockRegex(/^(crwdns.*)\n\s*\n/);var m=_.extend({},h.defaultRules,{columns:{order:-2,match:h.blockRegex(/^([\s\S]*\n\n)={5,}\n\n([\s\S]*)/),parse:function e(t,r,n){return{col1:r(t[1],n),col2:r(t[2],n)}},react:function e(t,r,n){return c.createElement("div",{className:"perseus-two-columns",key:n.key},c.createElement("div",{className:"perseus-column"},c.createElement("div",{className:"perseus-column-content"},r(t.col1,n))),c.createElement("div",{className:"perseus-column"},c.createElement("div",{className:"sat-header-grafting-area"}),c.createElement("div",{className:"perseus-column-content"},c.createElement("div",{className:"sat-skill-subscore-grafting-area"}),r(t.col2,n),c.createElement("div",{className:"sat-grafting-area"}))))}},crowdinId:{order:-1,match:function e(t,r,n){if(r.isJipt){return v(t,r,n)}else{return null}},parse:function e(t,r,n){return{id:t[1]}},react:function e(t,r,n){return t.id}},titledTable:{order:h.defaultRules.nptable.order-.5,match:h.blockRegex(d),parse:function e(t,r,n){var i=h.parseInline(r,t[1],n);var a=_.rest(t,2);var o=h.defaultRules.nptable.parse(a,r,n);return{title:i,table:o}},react:function e(t,r,n){var i;if(!t.table){i="//invalid table//"}else{var a=h.defaultRules.table.react(t.table,r,n);var o=c.createElement("caption",{key:"caption",className:"perseus-table-title"},r(t.title,n));i=c.cloneElement(a,null,[o].concat(a.props.children))}return c.createElement("div",{className:"perseus-titled-table",key:n.key},i)}},widget:{order:h.defaultRules.link.order-.75,match:h.inlineRegex(o.rWidgetRule),parse:function e(t,r,n){return{id:t[1],widgetType:t[2]}},react:function e(t,r,n){return c.createElement("em",{key:n.key},i18n.doNotTranslate("[Widget: ",t.id,"]"))}},blockMath:{order:h.defaultRules.codeBlock.order+.5,match:p,parse:function e(t,r,n){return{content:t[1]}},react:function e(t,r,n){return c.createElement(a,{key:n.key},t.content)}},math:{order:h.defaultRules.link.order-.25,match:f,parse:function e(t,r,n){return{content:t[1]}},react:function e(t,r,n){return c.createElement(a,{key:n.key},t.content)}},unescapedDollar:{order:h.defaultRules.link.order-.24,match:h.inlineRegex(/^(?!\\)\$/),parse:function e(t,r,n){return{}},react:function e(t,r,n){return"$"}},fence:_.extend({},h.defaultRules.fence,{parse:function e(t,r,n){var i=h.defaultRules.fence.parse(t,r,n);if(i.lang==="alt"){return{type:"codeBlock",lang:"alt",content:r(i.content+"\n\n",n)}}else{return i}}}),blockQuote:u({},h.defaultRules.blockQuote,{match:h.blockRegex(/^ *>[^\n]+(\n( *>)?[^\n]+)*\n{2,}/)}),link:_.extend({},h.defaultRules.link,{react:function e(t,r,n){var i=h.defaultRules.link.react(t,r,n);var a=i.props.href;var o=null;var s=a?a.match(/https?:\/\/[^\/]*khanacademy.org|^\//):false;if(!s){o="noopener noreferrer"}var l=u({},i.props,{target:"_blank",href:a,rel:o});if(n.baseElements&&n.baseElements.Link){return n.baseElements.Link(l)}else{return c.cloneElement(i,l)}}}),codeBlock:_.extend({},h.defaultRules.codeBlock,{react:function e(t,r,n){if(t.lang==="alt"){return c.createElement("div",{key:n.key,className:"perseus-markdown-alt perseus-sr-only"},r(t.content,n))}else{return h.defaultRules.codeBlock.react(t,r,n)}}}),list:_.extend({},h.defaultRules.list,{match:function e(t,r,n){if(r.isJipt){return null}else{return h.defaultRules.list.match(t,r,n)}}}),lint:{order:1e3,match:function e(t){return null},parse:function e(t,r,n){return{}},react:function e(t,r,n){return c.createElement(s,{message:t.message,ruleName:t.ruleName,inline:g(t.content),blockHighlight:t.blockHighlight,insideTable:t.insideTable,severity:t.severity},r(t.content,n))}}});function g(e){return!!(e&&e.type&&y.hasOwnProperty(e.type))}var y={text:true,math:true,unescapedDollar:true,link:true,img:true,strong:true,u:true,em:true,del:true,code:true};var b=h.parserFor(m);var w=function e(t,r){var n=t+"\n\n";return b(n,_.extend({inline:false},r))};var x=function e(t,r){return b(t,_.extend({inline:true},r))};var M=function t(e,r){if(_.isArray(e)){_.each(e,function(e){return t(e,r)})}else if(_.isObject(e)){r(e);if(e.type==="table"){t(e.header,r);t(e.cells,r)}else if(e.type==="list"){t(e.items,r)}else if(e.type==="titledTable"){t(e.table,r)}else if(e.type==="columns"){t(e.col1,r);t(e.col2,r)}else if(_.isArray(e.content)){t(e.content,r)}}};var k=function e(t){if(_.isArray(t)){return _.flatten(_.map(t,e))}if(t.content&&_.isString(t.content)){if(t.type.toLowerCase().indexOf("code")!==-1){return["",t.content,""]}else{return[t.content.replace(/\s+/g," ")]}}var r=_.chain(t).values().flatten().filter(function(e){return e!=null&&_.has(e,"type")}).value();if(!r.length){return[]}else{var n=e(r);if(t.type==="paragraph"&&n.length){n[0]=n[0].replace(/^\s+/,"");var i=n.length-1;n[i]=n[i].replace(/\s+$/,"")}return n}};var S=function e(t){var r=w(t);var n=k(r).join("");return n.length};e.exports={characterCount:S,traverseContent:M,parse:w,parseInline:x,reactFor:h.reactFor,ruleOutput:h.ruleOutput(m,"react"),basicOutput:h.reactFor(h.ruleOutput(m,"react")),sanitizeUrl:h.sanitizeUrl}},"2qRe":function(e,t,r){"use strict";var _=r("F/us");var o=r("d773");var h=r("eAf/").point;var n={constrain:function e(){this.constrain()}};n.standard=[n.constrain];var i={draw:function e(){this.draw()}};i.standard=[i.draw];var a={basic:function e(t,r){var n=this.graphie;if(!this.state.visibleShape){var i=[this.pointSize()/n.scale[0],this.pointSize()/n.scale[1]];var a={maxScale:Math.max(this.highlightStyle().scale,this.normalStyle().scale),padding:10,shadow:t.shadow};this.state.visibleShape=new o(n,this.coord(),i,a);this.state.visibleShape.attr(_.omit(this.normalStyle(),"scale"));this.state.visibleShape.toFront();if(this.mouseTarget()){this.mouseTarget().toFront()}}if(t.normalStyle!==r.normalStyle&&!_.isEqual(t.normalStyle,r.normalStyle)){this.state.visibleShape.attr(this.normalStyle())}this.state.visibleShape.moveTo(this.coord());if(this.mouseTarget()){this.mouseTarget().moveTo(this.coord())}},highlight:function e(t,r){if(t.isHovering&&!r.isHovering){t.visibleShape.animate(this.highlightStyle(),50)}else if(!t.isHovering&&r.isHovering){t.visibleShape.animate(this.normalStyle(),50)}}};a.standard=[a.basic,a.highlight];var s={basic:function e(){if(this.state.visibleShape){this.state.visibleShape.remove();this.state.visibleShape=null}}};s.standard=s.basic;var l={fixed:function e(){return function(){return false}},snap:function e(t){return function(e){if(t===null){return true}t=t||this.graphie.snap;return h.roundTo(e,t)}},bound:function e(l,c,u){if(u===undefined){if(l===undefined){u=10}else{u=0}}return function(e,t,r){var n=this.graphie;l=l||n.range;if(c===undefined){c=n.snap}var i=n.unscalePoint([u,n.ypixels-u]);var a=n.unscalePoint([n.xpixels-u,u]);if(c){i=h.ceilTo(i,c);a=h.floorTo(a,c)}if(!!r&&!!r.onOutOfBounds){if(e[0]>a[0]||e[0]<i[0]||e[1]>a[1]||e[1]<i[1]){r.onSkipRemaining();r.onOutOfBounds()}return e}var o=Math.max(i[0],Math.min(a[0],e[0]));var s=Math.max(i[1],Math.min(a[1],e[1]));return[o,s]}}};l.standard=null;e.exports={add:n,modify:i,draw:a,remove:s,onMoveStart:{standard:null},constraints:l,onMove:{standard:null},onMoveEnd:{standard:null},onClick:{standard:null}}},"4vmB":function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("2B1R");r("+2oP");r("ToJy");r("07d7");r("JfAA");r("Rm1S");r("UxlC");r("FZtP");r("3bBZ");function u(e,t){return a(e)||i(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}function a(e){if(Array.isArray(e))return e}var _=r("F/us");var P=r("e2gc");r("KSpR");var s=r("nL9U");var E=r("2BsJ");var C=r("eAf/").vector;var S=r("eAf/").point;var m=r("eAf/").line;var l=r("d773");var c=r("T2HF");var h=r("f3EM");var I=r("XwLL");var D=r("yfnS");var o=r("p8fL"),f=o.getCanUse3dTransform;function p(e){return _.reduce(e,function(e,t){return e+t},0)}function d(e){var t=_.zip(e,e.slice(1).concat(e.slice(0,1)));var r=_.map(t,function(e){var t=e[0];var r=e[1];return(r[0]-t[0])*(r[1]+t[1])});return p(r)>0}function O(){var e=_.toArray(arguments);var t=_.zip.apply(_,e);return _.map(t,p)}function F(e){return _.map(e,function(e){return e*-1})}function k(e){var t=3.51470560176242*20;var r=.5687298702748785*20;var n=-.037587715462826674;return(t-r)*Math.exp(n*e)+r}function N(e,t){return[e*Math.cos(t),e*Math.sin(t)*-1]}function T(e,t){var r=t*Math.PI/180;return N(e,r)}var A=false;var v={bogusShape:{animate:function e(){},attr:function e(){},remove:function e(){}}};_.extend(E.Graphie.prototype,{addMouseLayer:function e(t){var r=this;t=_.extend({allowScratchpad:false,setDrawingAreaAvailable:function e(){}},t);var n=2;r.mouselayer=s(r.raphael.canvas.parentNode,r.xpixels,r.ypixels);P(r.mouselayer.canvas).css("z-index",n);if(t.onClick||t.onMouseDown||t.onMouseMove||t.onMouseOver||t.onMouseOut){var i=r.mouselayer.rect(0,0,r.xpixels,r.ypixels).attr({fill:"#000",opacity:0});var a=false;P(r.mouselayer.canvas).on("vmousedown",function(e){if(e.target===i[0]){if(t.onMouseDown){t.onMouseDown(r.getMouseCoord(e))}a=true;if(t.onMouseMove){P(document).bind("vmousemove.mouseLayer",function(e){if(a){e.preventDefault();t.onMouseMove(r.getMouseCoord(e))}})}P(document).bind("vmouseup.mouseLayer",function(e){P(document).unbind(".mouseLayer");if(a&&t.onClick){t.onClick(r.getMouseCoord(e))}a=false})}});if(t.onMouseOver){P(r.mouselayer.canvas).on("vmouseover",function(e){t.onMouseOver(r.getMouseCoord(e))})}if(t.onMouseOut){P(r.mouselayer.canvas).on("vmouseout",function(e){t.onMouseOut(r.getMouseCoord(e))})}}if(!t.allowScratchpad){t.setDrawingAreaAvailable(false)}r._mouselayerWrapper=document.createElement("div");P(r._mouselayerWrapper).css({position:"absolute",left:0,top:0,zIndex:n});r._visiblelayerWrapper=document.createElement("div");P(r._visiblelayerWrapper).css({position:"absolute",left:0,top:0});var o=r.raphael.canvas.parentNode;o.appendChild(r._visiblelayerWrapper);o.appendChild(r._mouselayerWrapper);r.addToMouseLayerWrapper=function(e){this._mouselayerWrapper.appendChild(e)};r.addToVisibleLayerWrapper=function(e){this._visiblelayerWrapper.appendChild(e)}},getMousePx:function e(t){var r=this;var n=t.pageX-P(r.raphael.canvas.parentNode).offset().left;var i=t.pageY-P(r.raphael.canvas.parentNode).offset().top;return[n,i]},getMouseCoord:function e(t){return this.unscalePoint(this.getMousePx(t))},labelAngle:function e(t){var r=this;_.defaults(t,{point1:[0,0],vertex:[0,0],point3:[0,0],label:null,numArcs:1,showRightAngleMarker:true,pushOut:0,clockwise:false,style:{}});var n=t.text===undefined?"":t.text;var i=t.vertex;var a=r.scalePoint(i);var o;var s;if(t.clockwise){o=t.point1;s=t.point3}else{o=t.point3;s=t.point1}var l=E.findAngle(o,i);var c=E.findAngle(s,i);var u=(c+360-l)%360;var h=(l+u/2)%360;var f=5*t.pushOut;var p=f+k(u);var d=[];if(Math.abs(u-90)<1e-9&&t.showRightAngleMarker){var v=O(a,T(p,l));var m=O(a,T(p,c));p*=Math.SQRT2;var g=O(a,T(p,h));_.each([v,m],function(e){d.push(r.scaledPath([e,g],t.style))})}else{_.times(t.numArcs,function(e){d.push(r.arc(i,r.unscaleVector(p),l,c,t.style));p+=3})}if(n){var y=n.match(/\$deg(\d)?/);if(y){var b=y[1]||1;n=n.replace(y[0],I.toFixedApprox(u,b)+"^{\\circ}")}var w=T(p+15,h);var x=O(a,w);var M=r.unscalePoint(x);if(t.label){t.label.setPosition(M);t.label.processMath(n,true)}else{r.label(M,n,"center",t.style)}}return d},labelSide:function e(t){var a=this;_.defaults(t,{point1:[0,0],point2:[0,0],label:null,text:"",numTicks:0,numArrows:0,clockwise:false,style:{}});var i;var r;if(t.clockwise){i=t.point1;r=t.point2}else{i=t.point2;r=t.point1}var n=[(i[0]+r[0])/2,(i[1]+r[1])/2];var o=a.scalePoint(n);var s=Math.atan2(r[1]-i[1],r[0]-i[0]);var l=s+Math.PI/2;var c=[];var u=0;if(t.numTicks){var h=t.numTicks;var f=5;var p=5;var d=_.extend({},t.style,{strokeWidth:2});_.times(h,function(e){var t=f*(e-(h-1)/2);var r=N(t,s);var n=N(p,l);var i=[O(o,r,n),O(o,r,F(n))];c.push(a.scaledPath(i,d))});u+=f*(h-1)+15}if(t.numArrows){var v=t.numArrows;var m=[i,r].sort(function(e,t){if(e[1]===t[1]){return e[0]-t[0]}else{return e[1]-t[1]}})[0];var g=a.scalePoint(m);var y=_.extend({},t.style,{arrows:"->",strokeWidth:2});var b=5;_.times(v,function(e){var t=u+b*e;var r=N(t,s);if(m!==i){r=F(r)}var n=O(o,r);c.push(a.scaledPath([g,n],y))})}var w=t.text;if(w){var x=w.match(/\$len(\d)?/);if(x){var M=E.getDistance(i,r);var k=x[1]||1;w=w.replace(x[0],I.toFixedApprox(M,k))}var S=20;var T=N(S,l);var A=O(o,T);var P=a.unscalePoint(A);if(t.label){t.label.setPosition(P);t.label.processMath(w,true)}else{a.label(P,w,"center",t.style)}}return c},labelVertex:function e(t){var r=this;_.defaults(t,{point1:null,vertex:[0,0],point3:null,label:null,text:"",clockwise:false,style:{}});if(!t.text){return}var n=t.vertex;var i=r.scalePoint(n);var a;var o;if(t.clockwise){a=t.point1;o=t.point3}else{a=t.point3;o=t.point1}var s=135;var l;if(a&&o){var c=E.findAngle(a,n);var u=E.findAngle(o,n);s=(u+360-c)%360;l=(c+s/2+180)%360}else if(a){var h=E.findAngle(n,a);l=h+90}else if(o){var f=E.findAngle(o,n);l=f+90}else{l=135}var p=10+k(360-s);var d=T(p,l);var v=O(i,d);var m=r.unscalePoint(v);if(t.label){t.label.setPosition(m);t.label.processMath(t.text,true)}else{r.label(m,t.text,"center",t.style)}},addMovablePoint:function e(t){var b=P.extend(true,{graph:this,coord:[0,0],snapX:0,snapY:0,pointSize:4,highlight:false,dragging:false,visible:true,bounded:true,constraints:{fixed:false,constrainX:false,constrainY:false,fixedAngle:{},fixedDistance:{}},lineStarts:[],lineEnds:[],polygonVertices:[],normalStyle:{},highlightStyle:{fill:D.INTERACTING,stroke:D.INTERACTING},labelStyle:{color:D.INTERACTIVE},vertexLabel:"",mouseTarget:null},t);var r=b.constraints.fixed?D.DYNAMIC:D.INTERACTIVE;b.normalStyle=_.extend({},{fill:r,stroke:r},t.normalStyle);if(t.coordX!==undefined){b.coord[0]=t.coordX}if(t.coordY!==undefined){b.coord[1]=t.coordY}var g=b.graph;var f=function e(t){if(b.visible&&b.bounded&&!b.constraints.fixed){t=g.constrainToBounds(t,10)}var r=t[0];var n=t[1];if(b.snapX!==0){r=Math.round(r/b.snapX)*b.snapX}if(b.snapY!==0){n=Math.round(n/b.snapY)*b.snapY}if(b.constraints.fixedDistance.snapPoints){var i=g.scalePoint(t);var a=i[0];var o=i[1];var s=2*Math.PI/b.constraints.fixedDistance.snapPoints;var l=b.constraints.fixedDistance.dist;var c=b.constraints.fixedDistance.point;var u=(c[0]-g.range[0][0])*g.scale[0];var h=(-c[1]+g.range[1][1])*g.scale[1];var f=a-u;var p=-o+h;var d=Math.atan(p/f);var v=f<0;if(v){d+=Math.PI}d=Math.round(d/s)*s;f=l*Math.cos(d);p=l*Math.sin(d);a=f+u;o=-p+h;r=I.roundTo(5,a/g.scale[0]+g.range[0][0]);n=I.roundTo(5,g.range[1][1]-o/g.scale[1])}var m=b.applyConstraint([r,n]);return m};b.applyConstraint=function(e,t,r){var n=e.slice();var i={};if(r){P.extend(i,{fixed:false,constrainX:false,constrainY:false,fixedAngle:{},fixedDistance:{}},t)}else{P.extend(i,this.constraints,t)}if(i.constrainX){n=[this.coord[0],e[1]]}else if(i.constrainY){n=[e[0],this.coord[1]]}else if(typeof i.fixedAngle.angle==="number"&&typeof i.fixedDistance.dist==="number"){var a=i.fixedAngle.vertex.coord||i.fixedAngle.vertex;var o=i.fixedAngle.ref.coord||i.fixedAngle.ref;var s=i.fixedDistance.point.coord||i.fixedDistance.point;var l=(i.fixedAngle.angle+E.findAngle(o,a))*Math.PI/180;var c=i.fixedDistance.dist;n[0]=c*Math.cos(l)+s[0];n[1]=c*Math.sin(l)+s[1]}else if(typeof i.fixedAngle.angle==="number"){var u=i.fixedAngle.vertex.coord||i.fixedAngle.vertex;var h=i.fixedAngle.ref.coord||i.fixedAngle.ref;var f=(i.fixedAngle.angle+E.findAngle(h,u))*Math.PI/180;var p=E.findAngle(e,u)*Math.PI/180;var d=E.getDistance(e,u);var v=d*Math.cos(f-p);v=v<1?1:v;n[0]=v*Math.cos(f)+u[0];n[1]=v*Math.sin(f)+u[1]}else if(typeof i.fixedDistance.dist==="number"){var m=i.fixedDistance.point.coord||i.fixedDistance.point;var g=E.findAngle(e,m);var y=i.fixedDistance.dist;g=g*Math.PI/180;n[0]=y*Math.cos(g)+m[0];n[1]=y*Math.sin(g)+m[1]}else if(i.fixed){n=b.coord}return n};b.coord=f(b.coord);var n=2;if(b.visible){g.style(b.normalStyle,function(){var e=[b.pointSize/g.scale[0],b.pointSize/g.scale[1]];var t={maxScale:n,padding:2};b.visibleShape=new l(g,b.coord,e,t);b.visibleShape.attr(_.omit(b.normalStyle,"scale"));b.visibleShape.toFront()})}b.normalStyle.scale=1;b.highlightStyle.scale=n;if(b.vertexLabel){b.labeledVertex=this.label([0,0],"","center",b.labelStyle)}b.drawLabel=function(){if(b.vertexLabel){b.graph.labelVertex({vertex:b.coord,label:b.labeledVertex,text:b.vertexLabel,style:b.labelStyle})}};b.drawLabel();b.grab=function(h){h=h||[0,0];P(document).bind("vmousemove.point vmouseup.point",function(e){e.preventDefault();b.dragging=true;A=true;var t=C.add(g.getMouseCoord(e),h);t=f(t);var r=t[0];var n=t[1];var i;var a;if(e.type==="vmousemove"){var o=true;if(_.isFunction(b.onMove)){var s=b.onMove(r,n);if(s===false){o=false}if(_.isArray(s)){r=s[0];n=s[1]}}i=(r-g.range[0][0])*g.scale[0];a=(-n+g.range[1][1])*g.scale[1];if(o){var l=g.unscalePoint([i,a]);b.visibleShape.moveTo(l);b.mouseTarget.moveTo(l);b.coord=[r,n];b.updateLineEnds();P(b).trigger("move")}b.drawLabel()}else if(e.type==="vmouseup"){P(document).unbind(".point");b.dragging=false;A=false;if(_.isFunction(b.onMoveEnd)){var c=b.onMoveEnd(r,n);if(_.isArray(c)){r=c[0];n=c[1];i=(r-g.range[0][0])*g.scale[0];a=(-n+g.range[1][1])*g.scale[1];var u=g.unscalePoint([i,a]);b.visibleShape.moveTo(u);b.mouseTarget.moveTo(u);b.coord=[r,n]}}if(!b.highlight){b.visibleShape.animate(b.normalStyle,50);if(b.onUnhighlight){b.onUnhighlight()}}}})};if(b.visible&&!b.constraints.fixed){if(!b.mouseTarget){var i=g.unscaleVector(16);var a={mouselayer:true,padding:0,disableMouseEventsOnWrapper:true};b.mouseTarget=new l(g,b.coord,i,a);b.mouseTarget.attr({fill:"#000",opacity:0})}var o=P(b.mouseTarget.getMouseTarget());o.css("cursor","move");o.bind("vmousedown vmouseover vmouseout",function(e){if(e.type==="vmouseover"){b.highlight=true;if(!A){b.visibleShape.animate(b.highlightStyle,50);if(b.onHighlight){b.onHighlight()}}}else if(e.type==="vmouseout"){b.highlight=false;if(!b.dragging&&!A){b.visibleShape.animate(b.normalStyle,50);if(b.onUnhighlight){b.onUnhighlight()}}}else if(e.type==="vmousedown"&&(e.which===1||e.which===0)){e.preventDefault();var t=b.coord;var r=g.getMouseCoord(e);var n=!("ontouchstart"in window);var i=n?[0,0]:C.subtract(t,r);b.grab(i)}})}b.moveTo=function(e,t,r){var n=E.getDistance(this.graph.scalePoint([e,t]),this.graph.scalePoint(this.coord));var i=n*5;var a=r&&function(e){b.coord=e;b.updateLineEnds()};this.visibleShape.animateTo([e,t],i,a);this.mouseTarget.animateTo([e,t],i,a);this.coord=[e,t];if(_.isFunction(this.onMove)){this.onMove(e,t)}};b.updateLineEnds=function(){P(this.lineStarts).each(function(){this.coordA=b.coord;this.transform()});P(this.lineEnds).each(function(){this.coordZ=b.coord;this.transform()});P(this.polygonVertices).each(function(){this.transform()})};b.setCoord=function(e){if(this.visible){this.visibleShape.moveTo(e);if(this.mouseTarget!=null){this.mouseTarget.moveTo(e)}}this.coord=e.slice()};b.setCoordConstrained=function(e){this.setCoord(f(e))};b.toBack=function(){if(this.visible){if(this.mouseTarget!=null){this.mouseTarget.toBack()}this.visibleShape.toBack()}};b.toFront=function(){if(this.visible){if(this.mouseTarget!=null){this.mouseTarget.toFront()}this.visibleShape.toFront()}};b.remove=function(){if(this.visibleShape){this.visibleShape.remove()}if(this.mouseTarget){this.mouseTarget.remove()}if(this.labeledVertex){this.labeledVertex.remove()}};return b},addMovableLineSegment:function e(t){var p=P.extend({graph:this,coordA:[0,0],coordZ:[1,1],snapX:0,snapY:0,fixed:false,ticks:0,normalStyle:{},highlightStyle:{stroke:D.INTERACTING,"stroke-width":6},labelStyle:{stroke:D.INTERACTIVE,color:D.INTERACTIVE},highlight:false,dragging:false,tick:[],extendLine:false,extendRay:false,constraints:{fixed:false,constrainX:false,constrainY:false},sideLabel:"",vertexLabels:[],numArrows:0,numTicks:0,movePointsWithLine:false},t);var r=p.fixed?D.DYNAMIC:D.INTERACTIVE;p.normalStyle=_.extend({},{"stroke-width":2,stroke:r},t.normalStyle);p.arrowStyle=_.extend({},p.normalStyle,{color:p.normalStyle.stroke});if(t.pointA!==undefined){p.coordA=t.pointA.coord;p.pointA.lineStarts.push(p)}else if(t.coordA!==undefined){p.coordA=t.coordA.slice()}if(t.pointZ!==undefined){p.coordZ=t.pointZ.coord;p.pointZ.lineEnds.push(p)}else if(t.coordA!==undefined){p.coordA=p.coordA.slice()}var d=p.graph;d.style(p.normalStyle);for(var n=0;n<p.ticks;++n){p.tick[n]=v.bogusShape}var i=E.unscaledSvgPath([[0,0],[1,0]]);for(var a=0;a<p.ticks;++a){var o=.5-(p.ticks-1+a*2)/d.scale[0];i+=E.unscaledSvgPath([[o,-7],[o,7]])}t={thickness:Math.max(p.normalStyle["stroke-width"],p.highlightStyle["stroke-width"])};p.visibleLine=new c(d,[0,0],[1,0],t);p.visibleLine.attr(p.normalStyle);if(!p.fixed){var s={thickness:30,mouselayer:true};p.mouseTarget=new c(d,[0,0],[1,0],s);p.mouseTarget.attr({fill:"#000",opacity:0})}p.transform=function(e){if(e){if(typeof this.pointA==="object"){this.coordA=this.pointA.coord}if(typeof this.pointZ==="object"){this.coordZ=this.pointZ.coord}}var t=function e(t){var r=t.graph.scalePoint(t.coordA);var n=t.graph.scalePoint(t.coordZ);return C.polarDegFromCart(C.subtract(n,r))[1]};var u=function e(t,r,n){t=p.graph;var i=t.range[0][1]-t.range[0][0];var a=t.range[1][1]-t.range[1][0];var o=i+a;var s=t.unscaleVector(C.cartFromPolarDeg([1,n]));var l=C.scale(C.normalize(s),o);var c=C.add(r,l);var u=C.polarDegFromCart(s)[1];var h=t.constrainToBoundsOnAngle(c,4,u*Math.PI/180);return h};var r=t(this);var n=this.coordA;var i=this.coordZ;if(this.extendLine){n=u(d,n,360-r);i=u(d,i,(540-r)%360)}else if(this.extendRay){i=u(d,n,360-r)}var a=[this.visibleLine];if(!this.fixed){a.push(this.mouseTarget)}_.each(a,function(e){e.moveTo(n,i)});var o=function e(i,t){var a=[.75,0];var r=[[-3,4],[-2.75,2.5],[0,.25],a,[0,-.25],[-2.75,-2.5],[-3,-4]];var o=1.4;r=_.map(r,function(e){var t=C.subtract(e,a);var r=C.scale(t,o);return C.add(a,r)});var n=function e(t){var r="M"+t[0][0]+" "+t[0][1];for(var n=1;n<t.length;n+=3){r+="C"+t[n][0]+" "+t[n][1]+" "+t[n+1][0]+" "+t[n+1][1]+" "+t[n+2][0]+" "+t[n+2][1]}return r};var s=_.map(r,i.unscalePoint);var l={center:i.unscalePoint(a),createPath:n};var c=new h(i,s,l);c.attr(_.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t));c.toCoordAtAngle=function(e,t){var r=i.scalePoint(u(i,e,t));var n=f();c.transform("translateX("+(r[0]+o*a[0])+"px) "+"translateY("+(r[1]+o*a[1])+"px) "+(n?"translateZ(0) ":"")+"rotate("+(360-I.bound(t))+"deg)")};return c};if(this._arrows==null){this._arrows=[];if(this.extendLine){this._arrows.push(o(d,this.normalStyle));this._arrows.push(o(d,this.normalStyle))}else if(this.extendRay){this._arrows.push(o(d,this.normalStyle))}}var s=[this.coordA,this.coordZ];var l=[360-r,(540-r)%360];_.each(this._arrows,function(e,t){e.toCoordAtAngle(s[t],l[t])});_.invoke(this.temp,"remove");this.temp=[];var c=this.coordA[0]<this.coordZ[0]||this.coordA[0]===this.coordZ[0]&&this.coordA[1]>this.coordZ[1];if(this.sideLabel){this.temp.push(this.graph.labelSide({point1:this.coordA,point2:this.coordZ,label:this.labeledSide,text:this.sideLabel,numArrows:this.numArrows,numTicks:this.numTicks,clockwise:c,style:this.labelStyle}))}if(this.vertexLabels.length){this.graph.labelVertex({vertex:this.coordA,point3:this.coordZ,label:this.labeledVertices[0],text:this.vertexLabels[0],clockwise:c,style:this.labelStyle});this.graph.labelVertex({point1:this.coordA,vertex:this.coordZ,label:this.labeledVertices[1],text:this.vertexLabels[1],clockwise:c,style:this.labelStyle})}this.temp=_.flatten(this.temp)};p.toBack=function(){if(!p.fixed){p.mouseTarget.toBack()}p.visibleLine.toBack()};p.toFront=function(){if(!p.fixed){p.mouseTarget.toFront()}p.visibleLine.toFront()};p.remove=function(){if(!p.fixed){p.mouseTarget.remove()}p.visibleLine.remove();if(p.labeledSide){p.labeledSide.remove()}if(p.labeledVertices){_.invoke(p.labeledVertices,"remove")}if(p._arrows){_.invoke(p._arrows,"remove")}if(p.temp.length){_.invoke(p.temp,"remove")}};p.hide=function(){p.visibleLine.hide();if(p.temp.length){_.invoke(p.temp,"hide")}if(p._arrows){_.invoke(p._arrows,"hide")}};p.show=function(){p.visibleLine.show();if(p.temp.length){_.invoke(p.temp,"show")}if(p._arrows){_.invoke(p._arrows,"show")}};if(p.sideLabel){p.labeledSide=this.label([0,0],"","center",p.labelStyle)}if(p.vertexLabels.length){p.labeledVertices=_.map(p.vertexLabels,function(e){return this.label([0,0],"","center",p.labelStyle)},this)}if(!p.fixed&&!p.constraints.fixed){var l=P(p.mouseTarget.getMouseTarget());l.css("cursor","move");l.bind("vmousedown vmouseover vmouseout",function(e){if(e.type==="vmouseover"){if(!A){p.highlight=true;p.visibleLine.animate(p.highlightStyle,50);p.arrowStyle=_.extend({},p.arrowStyle,{color:p.highlightStyle.stroke,stroke:p.highlightStyle.stroke});p.transform()}}else if(e.type==="vmouseout"){p.highlight=false;if(!p.dragging){p.visibleLine.animate(p.normalStyle,50);p.arrowStyle=_.extend({},p.arrowStyle,{color:p.normalStyle.stroke,stroke:p.normalStyle.stroke});p.transform()}}else if(e.type==="vmousedown"&&(e.which===1||e.which===0)){e.preventDefault();var t=(e.pageX-P(d.raphael.canvas.parentNode).offset().left)/d.scale[0]+d.range[0][0];var r=d.range[1][1]-(e.pageY-P(d.raphael.canvas.parentNode).offset().top)/d.scale[1];if(p.snapX>0){t=Math.round(t/p.snapX)*p.snapX}if(p.snapY>0){r=Math.round(r/p.snapY)*p.snapY}var s=[p.coordA[0]-t,p.coordA[1]-r];var l=[p.coordZ[0]-t,p.coordZ[1]-r];var c=-Math.min(d.scaleVector(s)[0],d.scaleVector(l)[0]);var u=Math.max(d.scaleVector(s)[0],d.scaleVector(l)[0]);var h=Math.max(d.scaleVector(s)[1],d.scaleVector(l)[1]);var f=-Math.min(d.scaleVector(s)[1],d.scaleVector(l)[1]);P(document).bind("vmousemove.lineSegment vmouseup.lineSegment",function(e){e.preventDefault();p.dragging=true;A=true;var t=e.pageX-P(d.raphael.canvas.parentNode).offset().left;var r=e.pageY-P(d.raphael.canvas.parentNode).offset().top;t=Math.max(c+10,Math.min(d.xpixels-10-u,t));r=Math.max(h+10,Math.min(d.ypixels-10-f,r));var n=t/d.scale[0]+d.range[0][0];var i=d.range[1][1]-r/d.scale[1];if(p.snapX>0){n=Math.round(n/p.snapX)*p.snapX}if(p.snapY>0){i=Math.round(i/p.snapY)*p.snapY}if(e.type==="vmousemove"){if(p.constraints.constrainX){n=p.coordA[0]-s[0]}if(p.constraints.constrainY){i=p.coordA[1]-s[1]}var a=n+s[0]-p.coordA[0];var o=i+s[1]-p.coordA[1];p.coordA=[n+s[0],i+s[1]];p.coordZ=[n+l[0],i+l[1]];p.transform();if(p.movePointsWithLine){if(typeof p.pointA==="object"){p.pointA.setCoord([p.pointA.coord[0]+a,p.pointA.coord[1]+o])}if(typeof p.pointZ==="object"){p.pointZ.setCoord([p.pointZ.coord[0]+a,p.pointZ.coord[1]+o])}}if(_.isFunction(p.onMove)){p.onMove(a,o)}}else if(e.type==="vmouseup"){P(document).unbind(".lineSegment");p.dragging=false;A=false;if(!p.highlight){p.visibleLine.animate(p.normalStyle,50);p.arrowStyle=_.extend({},p.arrowStyle,{color:p.normalStyle.stroke,stroke:p.normalStyle.stroke});p.transform()}if(_.isFunction(p.onMoveEnd)){p.onMoveEnd()}}P(p).trigger("move")})}})}if(p.pointA!==undefined){p.pointA.toFront()}if(p.pointZ!==undefined){p.pointZ.toFront()}p.transform();return p},addMovablePolygon:function e(t){var w=this;var x=P.extend({snapX:0,snapY:0,fixed:false,constrainToGraph:true,normalStyle:{},highlightStyle:{stroke:D.INTERACTING,"stroke-width":2,fill:D.INTERACTING,"fill-opacity":.05},pointHighlightStyle:{fill:D.INTERACTING,stroke:D.INTERACTING},labelStyle:{stroke:D.DYNAMIC,"stroke-width":1,color:D.DYNAMIC},angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],updateOnPointMove:true,closed:true},_.omit(t,"points"));var r=x.fixed?D.DYNAMIC:D.INTERACTIVE;x.normalStyle=_.extend({"stroke-width":2,"fill-opacity":0,fill:r,stroke:r},t.normalStyle);x.points=t.points;var M=function e(t){return!_.isArray(t)};x.update=function(){var r=x.points.length;x.coords=_.map(x.points,function(e,t){if(M(e)){return e.coord}else{return e}});x.left=_.min(_.pluck(x.coords,0));x.right=_.max(_.pluck(x.coords,0));x.top=_.max(_.pluck(x.coords,1));x.bottom=_.min(_.pluck(x.coords,1));var e=_.map(x.coords,function(e){return w.scalePoint(e)});if(x.closed){e.push(true)}else{e=e.concat(_.clone(e).reverse())}x.path=E.unscaledSvgPath(e);_.invoke(x.temp,"remove");x.temp=[];var n=d(x.coords);if(x.angleLabels.length||x.showRightAngleMarkers.length){_.each(x.labeledAngles,function(e,t){x.temp.push(w.labelAngle({point1:x.coords[(t-1+r)%r],vertex:x.coords[t],point3:x.coords[(t+1)%r],label:e,text:x.angleLabels[t],showRightAngleMarker:x.showRightAngleMarkers[t],numArcs:x.numArcs[t],clockwise:n,style:x.labelStyle}))})}if(x.sideLabels.length){_.each(x.labeledSides,function(e,t){x.temp.push(w.labelSide({point1:x.coords[t],point2:x.coords[(t+1)%r],label:e,text:x.sideLabels[t],numArrows:x.numArrows[t],numTicks:x.numTicks[t],clockwise:n,style:x.labelStyle}))})}if(x.vertexLabels.length){_.each(x.labeledVertices,function(e,t){w.labelVertex({point1:x.coords[(t-1+r)%r],vertex:x.coords[t],point3:x.coords[(t+1)%r],label:e,text:x.vertexLabels[t],clockwise:n,style:x.labelStyle})})}x.temp=_.flatten(x.temp)};x.transform=function(){x.update();x.visibleShape.attr({path:x.path});if(!x.fixed){x.mouseTarget.attr({path:x.path})}};x.remove=function(){x.visibleShape.remove();if(!x.fixed){x.mouseTarget.remove()}if(x.labeledAngles){_.invoke(x.labeledAngles,"remove")}if(x.labeledSides){_.invoke(x.labeledSides,"remove")}if(x.labeledVertices){_.invoke(x.labeledVertices,"remove")}if(x.temp.length){_.invoke(x.temp,"remove")}};x.toBack=function(){if(!x.fixed){x.mouseTarget.toBack()}x.visibleShape.toBack()};x.toFront=function(){if(!x.fixed){x.mouseTarget.toFront()}x.visibleShape.toFront()};if(x.updateOnPointMove){_.each(_.filter(x.points,M),function(e){e.polygonVertices.push(x)})}x.coords=new Array(x.points.length);if(x.angleLabels.length){var n=Math.max(x.angleLabels.length,x.showRightAngleMarkers.length);x.labeledAngles=_.times(n,function(){return this.label([0,0],"","center",x.labelStyle)},this)}if(x.sideLabels.length){x.labeledSides=_.map(x.sideLabels,function(e){return this.label([0,0],"","center",x.labelStyle)},this)}if(x.vertexLabels.length){x.labeledVertices=_.map(x.vertexLabels,function(e){return this.label([0,0],"","center",x.labelStyle)},this)}x.update();x.visibleShape=w.raphael.path(x.path);x.visibleShape.attr(x.normalStyle);if(!x.fixed){x.mouseTarget=w.mouselayer.path(x.path);x.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"});P(x.mouseTarget[0]).bind("vmousedown vmouseover vmouseout",function(e){if(e.type==="vmouseover"){if(!A||x.dragging){x.highlight=true;x.visibleShape.animate(x.highlightStyle,50);_.each(_.filter(x.points,M),function(e){e.visibleShape.animate(x.pointHighlightStyle,50)})}}else if(e.type==="vmouseout"){x.highlight=false;if(!x.dragging){x.visibleShape.animate(x.normalStyle,50);var t=_.filter(x.points,M);if(!_.any(_.pluck(t,"dragging"))){_.each(t,function(e){e.visibleShape.animate(e.normalStyle,50)})}}}else if(e.type==="vmousedown"&&(e.which===1||e.which===0)){e.preventDefault();_.each(_.filter(x.points,M),function(e){e.dragging=true});var h=(e.pageX-P(w.raphael.canvas.parentNode).offset().left)/w.scale[0]+w.range[0][0];var f=w.range[1][1]-(e.pageY-P(w.raphael.canvas.parentNode).offset().top)/w.scale[1];if(x.snapX>0){h=Math.round(h/x.snapX)*x.snapX}if(x.snapY>0){f=Math.round(f/x.snapY)*x.snapY}var p=h;var d=f;var v=x.coords.slice();var m=(h-x.left)*w.scale[0];var g=(x.right-h)*w.scale[0];var y=(x.top-f)*w.scale[1];var b=(f-x.bottom)*w.scale[1];P(document).bind("vmousemove.polygon vmouseup.polygon",function(e){e.preventDefault();x.dragging=true;A=true;var t=e.pageX-P(w.raphael.canvas.parentNode).offset().left;var r=e.pageY-P(w.raphael.canvas.parentNode).offset().top;if(x.constrainToGraph){t=Math.max(m+10,Math.min(w.xpixels-10-g,t));r=Math.max(y+10,Math.min(w.ypixels-10-b,r))}var n=t/w.scale[0]+w.range[0][0];var i=w.range[1][1]-r/w.scale[1];if(x.snapX>0){n=Math.round(n/x.snapX)*x.snapX}if(x.snapY>0){i=Math.round(i/x.snapY)*x.snapY}if(e.type==="vmousemove"){var a=n-h;var o=i-f;var s=true;if(_.isFunction(x.onMove)){var l=x.onMove(a,o);if(l===false){s=false}else if(_.isArray(l)){a=l[0];o=l[1];n=h+a;i=f+o}}var c=function e(t){return[v[t][0]+a,v[t][1]+o]};if(s){_.each(x.points,function(e,t){if(M(e)){e.setCoord(c(t))}else{x.points[t]=c(t)}});x.transform();P(x).trigger("move");p=n;d=i}}else if(e.type==="vmouseup"){P(document).unbind(".polygon");var u=_.filter(x.points,M);_.each(u,function(e){e.dragging=false});x.dragging=false;A=false;if(!x.highlight){x.visibleShape.animate(x.normalStyle,50);_.each(u,function(e){e.visibleShape.animate(e.normalStyle,50)})}if(_.isFunction(x.onMoveEnd)){x.onMoveEnd(p-h,d-f)}}})}})}_.invoke(_.filter(x.points,M),"toFront");return x},constrainToBounds:function e(t,r){var n=this.unscalePoint([r,this.ypixels-r]);var i=this.unscalePoint([this.xpixels-r,r]);var a=Math.max(n[0],Math.min(i[0],t[0]));var o=Math.max(n[1],Math.min(i[1],t[1]));return[a,o]},constrainToBoundsOnAngle:function e(t,r,n){var i=this.unscalePoint([r,this.ypixels-r]);var a=this.unscalePoint([this.xpixels-r,r]);var o=t.slice();if(o[0]<i[0]){o=[i[0],o[1]+(i[0]-o[0])*Math.tan(n)]}else if(o[0]>a[0]){o=[a[0],o[1]-(o[0]-a[0])*Math.tan(n)]}if(o[1]<i[1]){o=[o[0]+(i[1]-o[1])/Math.tan(n),i[1]]}else if(o[1]>a[1]){o=[o[0]-(o[1]-a[1])/Math.tan(n),a[1]]}return o},addMovableAngle:function e(t){return new b(this,t)},addCircleGraph:function e(t){var o=this;var s=this;var l=P.extend({center:[0,0],radius:2,snapX:.5,snapY:.5,snapRadius:.5,minRadius:1,centerConstraints:{},centerNormalStyle:{},centerHighlightStyle:{stroke:D.INTERACTING,fill:D.INTERACTING},circleNormalStyle:{stroke:D.INTERACTIVE,"fill-opacity":0},circleHighlightStyle:{stroke:D.INTERACTING,fill:D.INTERACTING,"fill-opacity":.05}},t);var r=l.centerConstraints.fixed?D.DYNAMIC:D.INTERACTIVE;var n=t?t.centerNormalStyle:null;l.centerNormalStyle=_.extend({},{fill:r,stroke:r},n);l.centerPoint=s.addMovablePoint({graph:s,coord:l.center,normalStyle:l.centerNormalStyle,snapX:l.snapX,snapY:l.snapY,constraints:l.centerConstraints});l.circ=s.circle(l.center,l.radius,l.circleNormalStyle);l.perim=s.mouselayer.circle(s.scalePoint(l.center)[0],s.scalePoint(l.center)[1],s.scaleVector(l.radius)[0]).attr({"stroke-width":20,opacity:.002});if(!l.centerConstraints.fixed){P(l.centerPoint.mouseTarget.getMouseTarget()).on("vmouseover vmouseout",function(e){if(l.centerPoint.highlight||l.centerPoint.dragging){l.circ.animate(l.circleHighlightStyle,50)}else{l.circ.animate(l.circleNormalStyle,50)}})}l.toFront=function(){l.circ.toFront();l.perim.toFront();l.centerPoint.visibleShape.toFront();if(!l.centerConstraints.fixed){l.centerPoint.mouseTarget.toFront()}};l.centerPoint.onMove=function(e,t){l.toFront();l.circ.attr({cx:s.scalePoint(e)[0],cy:s.scalePoint(t)[1]});l.perim.attr({cx:s.scalePoint(e)[0],cy:s.scalePoint(t)[1]});if(l.onMove){l.onMove(e,t)}};P(l.centerPoint).on("move",function(){l.center=this.coord;P(l).trigger("move")});l.setCenter=function(e,t){l.centerPoint.setCoord([e,t]);l.centerPoint.onMove(e,t);l.center=[e,t]};l.setRadius=function(e){l.radius=e;l.perim.attr({r:s.scaleVector(e)[0]});l.circ.attr({rx:s.scaleVector(e)[0],ry:s.scaleVector(e)[1]})};l.remove=function(){l.centerPoint.remove();l.circ.remove();l.perim.remove()};var c=[[Math.PI*-1,Math.PI*-.875,"ew-resize"],[Math.PI*-.875,Math.PI*-.625,"nesw-resize"],[Math.PI*-.625,Math.PI*-.375,"ns-resize"],[Math.PI*-.375,Math.PI*-.125,"nwse-resize"],[Math.PI*-.125,Math.PI*.125,"ew-resize"],[Math.PI*.125,Math.PI*.375,"nesw-resize"],[Math.PI*.375,Math.PI*.625,"ns-resize"],[Math.PI*.625,Math.PI*.875,"nwse-resize"],[Math.PI*.875,Math.PI*1,"ew-resize"]];P(l.perim.node).on("vmousemove",function(e){var t=o.getMouseCoord(e),r=u(t,2),n=r[0],i=r[1];n-=l.center[0];i-=l.center[1];var a=Math.atan2(i,n);c.forEach(function(e){var t=u(e,3),r=t[0],n=t[1],i=t[2];if(a>=r&&a<n){P(l.perim.node).css("cursor",i)}})});P(l.perim.node).css("cursor","nesw-resize");l.perim.node.addEventListener("touchstart",function(e){e.preventDefault()},{passive:false});P(l.perim.node).on("vmouseover vmouseout vmousedown",function(e){if(e.type==="vmouseover"){l.highlight=true;if(!A){l.circ.animate(l.circleHighlightStyle,50);l.centerPoint.visibleShape.animate(l.centerHighlightStyle,50)}}else if(e.type==="vmouseout"){l.highlight=false;if(!l.dragging&&!l.centerPoint.dragging){l.circ.animate(l.circleNormalStyle,50);l.centerPoint.visibleShape.animate(l.centerNormalStyle,50)}}else if(e.type==="vmousedown"&&(e.which===1||e.which===0)){e.preventDefault();l.toFront();var o=l.radius;P(document).on("vmousemove vmouseup",function(e){e.preventDefault();l.dragging=true;A=true;if(e.type==="vmousemove"){var t=s.constrainToBounds(s.getMouseCoord(e),10);var r=E.getDistance(l.centerPoint.coord,t);r=Math.max(l.minRadius,Math.round(r/l.snapRadius)*l.snapRadius);var n=l.radius;var i=true;if(l.onResize){var a=l.onResize(r,n);if(_.isNumber(a)){r=a}else if(a===false){i=false}}if(i){l.setRadius(r);P(l).trigger("move")}}else if(e.type==="vmouseup"){P(document).off("vmousemove vmouseup");l.dragging=false;A=false;if(l.onResizeEnd){l.onResizeEnd(l.radius,o)}}})}});return l},addRotateHandle:function(){var y=function e(s,l,c,t,r,u,n){var i=function e(t,r){var n=c+r;var i=C.cartFromPolarDeg([n,u+t]);var a=C.add(l,i);var o=s.scalePoint(a);return o[0]+","+o[1]};var a=s.scaleVector(c-t);var o=s.scaleVector(c+t);return s.raphael.path(" M"+i(r,-t)+" L"+i(r,-3*t)+" L"+i(2*r,0)+" L"+i(r,3*t)+" L"+i(r,t)+" A"+o[0]+","+o[1]+",0,0,1,"+i(-r,t)+" L"+i(-r,3*t)+" L"+i(-2*r,0)+" L"+i(-r,-3*t)+" L"+i(-r,-t)+" A"+a[0]+","+a[1]+",0,0,0,"+i(r,-t)+" Z").attr({stroke:null,fill:n?D.INTERACTING:D.INTERACTIVE})};return function(l){var a=this;var c=l.center;var e=l.radius;var o=l.lengthAngle||30;var s=l.hideArrow||false;var t=l.mouseTarget;var r=_.uniqueId("rotateHandle");if(_.isArray(c)){c={coord:c}}var n=a.addMovablePoint({coord:S.addVector(c.coord,C.cartFromPolarDeg(e,l.angleDeg||0)),constraints:{fixedDistance:{dist:e,point:c}},mouseTarget:t});c.toFront();var i=c.coord;var u=n.coord;var h=u;var f=false;var p=false;var d;var v=function e(t){if(s){return}var r=C.subtract(t,c.coord);var n=C.polarDegFromCart(r);var i=n[1];if(d){d.remove()}d=y(a,c.coord,l.radius,f||p?l.hoverWidth/2:l.width/2,o,i,f||p)};P(c).on("move."+r,function(){var e=C.subtract(c.coord,i);n.setCoord(C.add(n.coord,e));v(n.coord);i=c.coord;n.constraints.fixedDistance.point=c;u=n.coord});n.onMove=function(e,t){if(!f){h=u;f=true}var r=[e,t];if(l.onMove){var n=C.polarDegFromCart(C.subtract(u,c.coord));var i=C.polarDegFromCart(C.subtract(r,c.coord));var a=n[1];var o=i[1];var s=l.onMove(o,a);if(s!=null&&s!==true){if(s===false){s=a}r=C.add(c.coord,C.cartFromPolarDeg([n[0],s]))}}v(r);u=r;return r};n.onMoveEnd=function(){f=false;v(n.coord);if(l.onMoveEnd){var e=C.polarDegFromCart(C.subtract(h,c.coord));var t=C.polarDegFromCart(C.subtract(n.coord,c.coord));l.onMoveEnd(t[1],e[1])}};n.visibleShape.remove();if(!t){n.mouseTarget.attr({scale:2})}var m=P(n.mouseTarget.getMouseTarget());m.bind("vmouseover",function(e){p=true;v(n.coord)});m.bind("vmouseout",function(e){p=false;v(n.coord)});v(n.coord);var g=n.remove;n.remove=function(){g.call(n);if(d){d.remove()}P(c).off("move."+r)};n.update=function(){v(n.coord)};return n}}(),addReflectButton:function(){var v=function e(t,r,n,i,a,o,s){if(S.equal(n[0],n[1])){n=[n[0],S.addVector(n[0],[1,1])]}var l=C.normalize(C.subtract(n[1],n[0]));var c=C.scale(l,i/2);var u=C.scale(l,a);var h=C.rotateDeg(u,90);var f=C.rotateDeg(u,-90);var p=C.negate(c);var d=C.rotateDeg(c,90);var v=C.rotateDeg(c,-90);var m=S.addVectors(r,h);var g=S.addVectors(r,f);var y=S.addVectors(r,h,c,d);var b=S.addVectors(r,h,p,d);var w=S.addVectors(r,f,c,v);var x=S.addVectors(r,f,p,v);var M=t.path([m,y,b,true],o);var k=t.path([g,w,x,true],s);return{remove:function e(){M.remove();k.remove()}}};return function(n){var i=this;var a=n.line;var o=i.addMovablePoint({constraints:n.constraints,coord:m.midpoint([a.pointA.coord,a.pointZ.coord]),snapX:i.snap[0],snapY:i.snap[1],onMove:function e(t,r){return false},onMoveEnd:function e(t,r){if(n.onMoveEnd){n.onMoveEnd.call(this,t,r)}}});var t=false;var r=false;var s;var l=function e(){return t};var c=_.map([0,1],function(e){var t=e?n.highlightStyle:n.normalStyle;return _.map([0,1],function(e){return _.defaults({"fill-opacity":e},t)})});var u=function e(t){if(r){t=!t}return c[+l()][+t]};var h=function e(t,r){if(s){s.remove()}s=v(i,t,r,l()?n.size*1.5:n.size,l()?n.size*.125:.25,u(0),u(1))};var e=function e(t,r){t=t||a.pointA.coord;r=r||a.pointZ.coord;var n=m.midpoint([t,r]);o.setCoord(n);h(n,[t,r])};P(a).on("move",_.bind(e,o,null,null));var f=P(o.mouseTarget.getMouseTarget());f.on("vclick",function(){var e=n.onClick();if(e!==false){r=!r;h(o.coord,[a.pointA.coord,a.pointZ.coord])}});a.pointA.toFront();a.pointZ.toFront();o.visibleShape.remove();var p=i.scaleVector(n.size)[0]/20;o.mouseTarget.attr({scale:1.5*p});f.css("cursor","pointer");f.bind("vmouseover",function(e){t=true;h(o.coord,[a.pointA.coord,a.pointZ.coord])});f.bind("vmouseout",function(e){t=false;h(o.coord,[a.pointA.coord,a.pointZ.coord])});var d=o.remove;o.remove=function(){s.remove();d.call(o)};o.update=e;o.isFlipped=function(){return r};e();return o}}(),protractor:function e(t){return new g(this,t)},ruler:function e(t){return new y(this,t||{})},addPoints:O});function g(s,l){this.set=s.raphael.set();this.cx=l[0];this.cy=l[1];var c=this;var u=s.unscaleVector(180.5)[0];var e=s.scalePoint([this.cx-u,this.cy+u-s.unscaleVector(10.5)[1]]);var t=s.mouselayer.image("https://ka-perseus-graphie.s3.amazonaws.com/e9d032f2ab8b95979f674fbfa67056442ba1ff6a.png",e[0],e[1],360,180);this.set.push(t);t.node.addEventListener("touchstart",function(e){e.preventDefault()},{passive:false});var r=function e(t,r){var n=s.scaleVector(u);n[0]-=16;n[1]-=16;var i=s.scalePoint(l);var a=Math.sin((t+90)*Math.PI/180)*(n[0]+r)+i[0];var o=Math.cos((t+90)*Math.PI/180)*(n[1]+r)+i[1];return a+","+o};var n=s.raphael.path(" M"+r(180,6)+" L"+r(180,2)+" L"+r(183,10)+" L"+r(180,18)+" L"+r(180,14)+" A"+(s.scaleVector(u)[0]+10)+","+(s.scaleVector(u)[1]+10)+",0,0,1,"+r(170,14)+" L"+r(170,18)+" L"+r(167,10)+" L"+r(170,2)+" L"+r(170,6)+" A"+(s.scaleVector(u)[0]+10)+","+(s.scaleVector(u)[1]+10)+",0,0,0,"+r(180,6)+" Z").attr({stroke:null,fill:D.INTERACTIVE});this.set.push(n);this.centerPoint=s.addMovablePoint({coord:l,visible:false});this.rotateHandle=s.addMovablePoint({bounded:false,coord:[Math.sin(275*Math.PI/180)*u+this.cx,Math.cos(275*Math.PI/180)*u+this.cy],onMove:function e(t,r){var n=Math.atan2(c.centerPoint.coord[1]-r,c.centerPoint.coord[0]-t)*180/Math.PI;c.rotate(-n-5,true)}});this.rotateHandle.constraints.fixedDistance.dist=u;this.rotateHandle.constraints.fixedDistance.point=this.centerPoint;this.rotateHandle.visibleShape.remove();this.rotateHandle.mouseTarget.attr({scale:2});var i=false;var a=false;var o=function e(){return a||i};var h=this;var f=P(h.rotateHandle.mouseTarget.getMouseTarget());f.bind("vmousedown",function(e){i=true;f.css("cursor","-webkit-grabbing");f.css("cursor","grabbing");n.animate({scale:1.5,fill:D.INTERACTING},50);P(document).bind("vmouseup.rotateHandle",function(e){i=false;f.css("cursor","-webkit-grab");f.css("cursor","grab");if(!o()){n.animate({scale:1,fill:D.INTERACTIVE},50)}P(document).unbind("vmouseup.rotateHandle")})});f.bind("vmouseover",function(e){a=true;n.animate({scale:1.5,fill:D.INTERACTING},50)});f.bind("vmouseout",function(e){a=false;if(!o()){n.animate({scale:1,fill:D.INTERACTIVE},50)}});var p=P.map(this.set,function(e){return e.node});this.makeTranslatable=function e(){P(p).css("cursor","move");f.css("cursor","-webkit-grab");f.css("cursor","grab");P(p).bind("vmousedown",function(e){e.preventDefault();var a=e.pageX-P(s.raphael.canvas.parentNode).offset().left;var o=e.pageY-P(s.raphael.canvas.parentNode).offset().top;P(document).bind("vmousemove.protractor",function(e){var t=e.pageX-P(s.raphael.canvas.parentNode).offset().left;var r=e.pageY-P(s.raphael.canvas.parentNode).offset().top;t=Math.max(10,Math.min(s.xpixels-10,t));r=Math.max(10,Math.min(s.ypixels-10,r));var n=t-a;var i=r-o;P.each(c.set.items,function(){this.translate(n,i)});c.centerPoint.setCoord([c.centerPoint.coord[0]+n/s.scale[0],c.centerPoint.coord[1]-i/s.scale[1]]);c.rotateHandle.setCoord([c.rotateHandle.coord[0]+n/s.scale[0],c.rotateHandle.coord[1]-i/s.scale[1]]);a=t;o=r});P(document).one("vmouseup",function(e){P(document).unbind("vmousemove.protractor")})})};this.rotation=0;this.rotate=function(e,t){var r=s.scalePoint(this.centerPoint.coord);if(t){this.rotation=0}this.set.rotate(this.rotation+e,r[0],r[1]);this.rotation=this.rotation+e;return this};this.moveTo=function e(t,r){var n=s.scalePoint(c.centerPoint.coord);var i=s.scalePoint([t,r]);var a=E.getDistance(n,i)*2;P({x:n[0],y:n[1]}).animate({x:i[0],y:i[1]},{duration:a,step:function e(t,r){var n=0;var i=0;if(r.prop==="x"){n=t-s.scalePoint(c.centerPoint.coord)[0]}else if(r.prop==="y"){i=t-s.scalePoint(c.centerPoint.coord)[1]}P.each(c.set.items,function(){this.translate(n,i)});c.centerPoint.setCoord([c.centerPoint.coord[0]+n/s.scale[0],c.centerPoint.coord[1]-i/s.scale[1]]);c.rotateHandle.setCoord([c.rotateHandle.coord[0]+n/s.scale[0],c.rotateHandle.coord[1]-i/s.scale[1]])}})};this.rotateTo=function e(t){if(Math.abs(this.rotation-t)>180){this.rotation+=360}var r=Math.abs(this.rotation-t)*5;P({0:this.rotation}).animate({0:t},{duration:r,step:function e(t,r){c.rotate(t,true);c.rotateHandle.setCoord([Math.sin((t+275)*Math.PI/180)*u+c.centerPoint.coord[0],Math.cos((t+275)*Math.PI/180)*u+c.centerPoint.coord[1]])}})};this.remove=function(){this.set.remove()};this.makeTranslatable();return this}function y(h,c){_.defaults(c,{center:[0,0],pixelsPerUnit:40,ticksPerUnit:10,units:10,label:"",style:{fill:null,stroke:D.GRAY}});var u=_.extend({},c.style,{strokeWidth:1});var f=_.extend({},c.style,{strokeWidth:2});var e=c.units*c.pixelsPerUnit;var t=50;var r=h.unscalePoint(C.subtract(h.scalePoint(c.center),C.scale([e,-t],.5)));var p=c.pixelsPerUnit/h.scale[0];var d=t/h.scale[0];var n=C.add(r,[c.units*p,d]);var i=1;var a;if(c.ticksPerUnit===10){a={10:i,5:i*.55,1:i*.35}}else{var o=[1,.6,.45,.3];a={};for(var s=c.ticksPerUnit;s>=1;s/=2){a[s]=i*(o.shift()||.2)}}var l=_.keys(a).sort(function(e,t){return t-e});function v(e){for(var t=0;t<l.length;t++){var r=l[t];if(e%r===0){return a[r]}}}var m=r[0];var g=r[1];var y=n[0];var b=n[1];var w=c.units*c.ticksPerUnit+1;var x=h.raphael.set();var M=1/h.scale[0];x.push(h.line([m-M,g],[y+M,g],f));x.push(h.line([m-M,b],[y+M,b],f));_.times(w,function(e){var t=e/c.ticksPerUnit;var r=m+t*p;var n=v(e)*d;var i=e===0||e===w-1?f:u;x.push(h.line([r,g],[r,g+n],i));if(t%1===0){var a=h.scalePoint([r,b]);var o;var s;if(t===0){o=c.label;s={mm:13,cm:11,m:8,km:11,in:8,ft:8,yd:10,mi:10}[o]||3*o.toString().length}else{o=t;s=-3*(t.toString().length+1)}var l=h.raphael.text(a[0]+s,a[1]+10,o);l.attr({"font-family":"KaTeX_Main","font-size":"12px",color:"#444"});x.push(l)}});var k=h.mouselayer.path(E.svgPath([r,[m,b],n,[y,g],true]));k.attr({fill:"#000",opacity:0,stroke:"#000","stroke-width":2});x.push(k);k.node.addEventListener("touchstart",function(e){e.preventDefault()},{passive:false});var S=P.map(x,function(e){return e.node});P(S).css("cursor","move");P(S).bind("vmousedown",function(e){e.preventDefault();var a=e.pageX-P(h.raphael.canvas.parentNode).offset().left;var o=e.pageY-P(h.raphael.canvas.parentNode).offset().top;P(document).bind("vmousemove.ruler",function(e){var t=e.pageX-P(h.raphael.canvas.parentNode).offset().left;var r=e.pageY-P(h.raphael.canvas.parentNode).offset().top;t=Math.max(10,Math.min(h.xpixels-10,t));r=Math.max(10,Math.min(h.ypixels-10,r));var n=t-a;var i=r-o;x.translate(n,i);T.setCoord([T.coord[0]+n/h.scale[0],T.coord[1]-i/h.scale[1]]);A.setCoord([A.coord[0]+n/h.scale[0],A.coord[1]-i/h.scale[1]]);a=t;o=r});P(document).one("vmouseup",function(e){P(document).unbind("vmousemove.ruler")})});var T=h.addMovablePoint({coord:r,normalStyle:{fill:D.INTERACTIVE,"fill-opacity":0,stroke:D.INTERACTIVE},highlightStyle:{fill:D.INTERACTING,"fill-opacity":.1,stroke:D.INTERACTING},pointSize:6,onMove:function e(t,r){var n=A.coord[1]-r;var i=A.coord[0]-t;var a=Math.atan2(n,i)*180/Math.PI;var o=C.scale(C.add([t,r],A.coord),.5);var s=h.scalePoint(o);var l=C.scale(C.add(T.coord,A.coord),.5);var c=h.scalePoint(l);var u=C.subtract(s,c);x.rotate(-a,c[0],c[1]);x.translate(u[0],u[1])}});var A=h.addMovablePoint({coord:[y,g],normalStyle:{fill:D.INTERACTIVE,"fill-opacity":0,stroke:D.INTERACTIVE},highlightStyle:{fill:D.INTERACTING,"fill-opacity":.1,stroke:D.INTERACTING},pointSize:6,onMove:function e(t,r){var n=r-T.coord[1];var i=t-T.coord[0];var a=Math.atan2(n,i)*180/Math.PI;var o=C.scale(C.add([t,r],T.coord),.5);var s=h.scalePoint(o);var l=C.scale(C.add(T.coord,A.coord),.5);var c=h.scalePoint(l);var u=C.subtract(s,c);x.rotate(-a,c[0],c[1]);x.translate(u[0],u[1])}});T.constraints.fixedDistance.dist=e/h.scale[0];T.constraints.fixedDistance.point=A;A.constraints.fixedDistance.dist=e/h.scale[0];A.constraints.fixedDistance.point=T;this.remove=function(){x.remove();T.remove();A.remove()};return this}function b(t,e){this.graphie=t;_.extend(this,e);_.defaults(this,{normalStyle:{stroke:D.INTERACTIVE,"stroke-width":2,fill:D.INTERACTIVE},highlightStyle:{stroke:D.INTERACTING,"stroke-width":2,fill:D.INTERACTING},labelStyle:{stroke:D.DYNAMIC,"stroke-width":1,color:D.DYNAMIC},angleStyle:{stroke:D.DYNAMIC,"stroke-width":1,color:D.DYNAMIC},allowReflex:true});if(!this.points||this.points.length!==3){throw new Error("MovableAngle requires 3 points")}this.points=_.map(e.points,function(e){if(_.isArray(e)){return t.addMovablePoint({coord:e,visible:false,constraints:{fixed:true},normalStyle:this.normalStyle})}else{return e}},this);this.coords=_.pluck(this.points,"coord");if(this.reflex==null){if(this.allowReflex){this.reflex=this._getClockwiseAngle(this.coords)>180}else{this.reflex=false}}this.rays=_.map([0,2],function(e){return t.addMovableLineSegment({pointA:this.points[1],pointZ:this.points[e],fixed:true,extendRay:true})},this);this.temp=[];this.labeledAngle=t.label([0,0],"","center",this.labelStyle);if(!this.fixed){this.addMoveHandlers();this.addHighlightHandlers()}this.update()}_.extend(b.prototype,{points:[],snapDegrees:0,snapOffsetDeg:0,angleLabel:"",numArcs:1,pushOut:0,fixed:false,addMoveHandlers:function e(){var l=this.graphie;function c(e,t){var r=30;var n=E.getDistance(l.scalePoint(e),l.scalePoint(t));return n<r}var u=this.points;u[1].onMove=function(e,t){var r=u[1].coord;var i=[e,t];var a=O(i,F(r));var o=true;var s={};_.each([0,2],function(e){var t=u[e].coord;var r=O(t,a);var n=E.findAngle(i,r);n*=Math.PI/180;r=l.constrainToBoundsOnAngle(r,10,n);s[e]=r;if(c(i,r)){o=false}});if(o){_.each(s,function(e,t){u[t].setCoord(e)})}return o};var o=this.snapDegrees;var s=this.snapOffsetDeg;_.each([0,2],function(e){u[e].onMove=function(e,t){var r=[e,t];var n=u[1].coord;if(c(n,r)){return false}else if(o){var i=E.findAngle(r,n);i=Math.round((i-s)/o)*o+s;var a=E.getDistance(r,n);return O(n,l.polar(a,i))}else{return true}}});P(u).on("move",function(){this.update();P(this).trigger("move")}.bind(this))},addHighlightHandlers:function e(){var t=this.points[1];t.onHighlight=function(){_.each(this.points,function(e){e.visibleShape.animate(this.highlightStyle,50)},this);_.each(this.rays,function(e){e.visibleLine.animate(this.highlightStyle,50);e.arrowStyle=_.extend({},e.arrowStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})},this);this.angleStyle=_.extend({},this.angleStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke});this.update()}.bind(this);t.onUnhighlight=function(){_.each(this.points,function(e){e.visibleShape.animate(this.normalStyle,50)},this);_.each(this.rays,function(e){e.visibleLine.animate(e.normalStyle,50);e.arrowStyle=_.extend({},e.arrowStyle,{color:e.normalStyle.stroke,stroke:e.normalStyle.stroke})},this);this.angleStyle=_.extend({},this.angleStyle,{color:D.DYNAMIC,stroke:D.DYNAMIC});this.update()}.bind(this)},_getClockwiseAngle:function e(t){var r=E.findAngle(t[2],t[0],t[1]);var n=r+360%360;return n},isReflex:function e(){return this.reflex},isClockwise:function e(){var t=this._getClockwiseAngle(this.coords)>180;return t===this.reflex},getClockwiseCoords:function e(){if(this.isClockwise()){return _.clone(this.coords)}else{return _.clone(this.coords).reverse()}},update:function e(t){var r=this.coords;this.coords=_.pluck(this.points,"coord");_.invoke(this.points,"updateLineEnds");var n=this._getClockwiseAngle(r);var i=this._getClockwiseAngle(this.coords);var a=n>180;var o=i>180;if(this.allowReflex){if(t==null){t=a!==o&&Math.abs(i-n)<180}if(t){this.reflex=!this.reflex}}_.invoke(this.temp,"remove");this.temp=this.graphie.labelAngle({point1:this.coords[0],vertex:this.coords[1],point3:this.coords[2],label:this.labeledAngle,text:this.angleLabel,numArcs:this.numArcs,pushOut:this.pushOut,clockwise:this.reflex===o,style:this.angleStyle})},remove:function e(){_.invoke(this.rays,"remove");_.invoke(this.temp,"remove");this.labeledAngle.remove()}});e.exports=v},"6mNK":function(e,t,r){"use strict";r("ma9I");var l=r("e2gc");function n(){var e=document.createElement("bootstrap");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var r in t){if(e.style[r]!==undefined){return{end:t[r]}}}return false}l.fn.emulateTransitionEnd=function(e){var t=false;var r=this;l(this).one("bsTransitionEnd",function(){t=true});var n=function e(){if(!t){l(r).trigger(l.support.transition.end)}};setTimeout(n,e);return this};l(function(){l.support.transition=n();if(!l.support.transition){return}l.event.special.bsTransitionEnd={bindType:l.support.transition.end,delegateType:l.support.transition.end,handle:function e(t){if(l(t.target).is(this)){return t.handleObj.handler.apply(this,arguments)}}}});function i(e,t){var r=window.scrollX;var n=window.scrollY;var i=document.querySelector("meta[name=viewport]");if(i){i.setAttribute("content",e)}else{l("head").append('<meta name="viewport" content="'.concat(e,'">'))}document.body.style.opacity=.9999;setTimeout(function(){document.body.style.opacity=1;window.scrollTo(r,n);t&&setTimeout(t,0)},0)}function a(){}a.prototype._initialize=function(e){if(this._$document){return}this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null;this._$document=l(document);this._$window=l(window);this._$body=l(document.body);this._boundClick=l.proxy(this._clickHandler,this);this._enableMobilePinch=e};a.prototype.handleZoomClick=function(e,t){var r=this;this._initialize(t);var n=e.target;if(!n||n.tagName!=="IMG"){return}if(this._$body.hasClass("zoom-overlay-open")){return}if(e.metaKey||e.ctrlKey){return window.open(e.target.src,"_blank")}if(!t&&n.width>=window.innerWidth-o.getOffset()){return}this._activeZoomClose(true);if(t){i("width=device-width, initial-scale=1, minimum-scale=1",function(){return r._zoom(n)})}else{this._zoom(n)}if(!t){this._$window.on("scroll.zoom",l.proxy(this._scrollHandler,this));this._$document.on("keyup.zoom",l.proxy(this._keyHandler,this));this._$document.on("touchstart.zoom",l.proxy(this._touchStart,this))}document.addEventListener("click",this._boundClick,true);e.stopPropagation()};a.prototype._zoom=function(e){this._activeZoom=new o(e,this._enableMobilePinch);this._activeZoom.zoomImage()};a.prototype._activeZoomClose=function(e){var t=this;if(!this._activeZoom){return}if(e){this._activeZoom.dispose();this._disposeActiveZoom()}else{i("width=device-width, initial-scale=1, minimum-scale=1,\n            maximum-scale=1",function(){if(t._activeZoom){t._activeZoom.close();t._disposeActiveZoom()}})}};a.prototype._disposeActiveZoom=function(){this._$window.off(".zoom");this._$document.off(".zoom");document.removeEventListener("click",this._boundClick,true);this._activeZoom=null};a.prototype._scrollHandler=function(e){if(this._initialScrollPosition===null){this._initialScrollPosition=window.scrollY}var t=this._initialScrollPosition-window.scrollY;if(Math.abs(t)>=40){this._activeZoomClose()}};a.prototype._keyHandler=function(e){if(e.keyCode===27){this._activeZoomClose()}};a.prototype._clickHandler=function(e){e.stopPropagation();e.preventDefault();this._activeZoomClose()};a.prototype._touchStart=function(e){this._initialTouchPosition=e.originalEvent.touches[0].pageY;l(e.target).on("touchmove.zoom",l.proxy(this._touchMove,this))};a.prototype._touchMove=function(e){if(Math.abs(e.originalEvent.touches[0].pageY-this._initialTouchPosition)>10){this._activeZoomClose();l(e.target).off("touchmove.zoom")}};function o(e,t){this._fullHeight=this._fullWidth=this._overlay=null;this._targetImage=e;this._enableMobilePinch=t;this._$body=l(document.body)}o._OFFSET=80;o._MAX_WIDTH=2560;o._MAX_HEIGHT=4096;o.getOffset=function(e){return e?0:o._OFFSET};o.prototype.getOffset=function(){return o.getOffset(this._enableMobilePinch)};o.prototype.zoomImage=function(){var n=document.createElement("img");var i=l(n);n.onload=function(){this._fullHeight=Number(n.height);this._fullWidth=Number(n.width);var e=this._imageOffset=l(this._targetImage).offset();var t=this._left=e.left-l(window).scrollLeft();var r=this._top=e.top-l(window).scrollTop();i.css({left:t,top:r,width:this._targetImage.width,height:this._targetImage.height});this._zoomOriginal()}.bind(this);n.src=this._targetImage.src;this.$zoomedImage=i};o.prototype._zoomOriginal=function(){this.$zoomedImage.addClass("zoom-img").attr("data-action","zoom-out");l(this._targetImage).css("visibility","hidden");this._backdrop=document.createElement("div");this._backdrop.className="zoom-backdrop";document.body.appendChild(this._backdrop);this._overlay=document.createElement("div");this._overlay.className="zoom-overlay";document.body.appendChild(this._overlay);this._overlay.appendChild(this.$zoomedImage[0]);this._calculateZoom();this._triggerAnimation()};o.prototype._calculateZoom=function(){var e=this._fullWidth;var t=this._fullHeight;var r=window.innerHeight-this.getOffset();var n=window.innerWidth-this.getOffset();var i=e/this._targetImage.width;var a=e/t;var o=n/r;if(e<n&&t<r){this._imgScaleFactor=i}else if(a<o){this._imgScaleFactor=r/t*i}else{this._imgScaleFactor=n/e*i}};o.prototype._triggerAnimation=function(){var e=l(window).scrollTop()+window.innerHeight/2;var t=l(window).scrollLeft()+window.innerWidth/2;var r=this._imgScaleFactor;var n=this._imageOffset.top+this._targetImage.height/2;var i=this._imageOffset.left+this._targetImage.width/2;this._translateY=(e-n)/r;this._translateX=(t-i)/r;this._zoomedInTransformString="\n        scale(".concat(r,")\n        translate3d(").concat(this._translateX,"px, ").concat(this._translateY,"px, 0)\n    ");this.$zoomedImage.css({transform:this._zoomedInTransformString}).addClass("zoom-transition").one(l.support.transition.end,l.proxy(this._onZoomInFinish,this)).emulateTransitionEnd(300);this._$body.addClass("zoom-overlay-open")};o.prototype._onZoomInFinish=function(){var e=this._targetImage.height*this._imgScaleFactor;var t=this._targetImage.width*this._imgScaleFactor;var r=0;var n=0;var i=0;var a=0;var o=0;var s=0;if(t<window.innerWidth){r="50%";i=-t/2}else{o=(t-window.innerWidth)/2}if(e<window.innerHeight){n="50%";a=-e/2}else{s=(e-window.innerHeight)/2}this.$zoomedImage.css({height:e,left:r,marginLeft:i,marginTop:a,top:n,transform:"",width:t}).removeClass("zoom-transition");l(this._overlay).scrollLeft(o).scrollTop(s)};o.prototype.close=function(){var e=this;this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning");this.$zoomedImage.css({height:this._targetImage.height,left:this._left,marginLeft:0,marginTop:0,top:this._top,transform:this._zoomedInTransformString,width:this._targetImage.width}).removeClass("zoom-transition");l(this._overlay).scrollLeft(0).scrollTop(0);setTimeout(function(){e.$zoomedImage.css({transform:"scale(1)"}).addClass("zoom-transition").one(l.support.transition.end,l.proxy(e.dispose,e)).emulateTransitionEnd(300)},10)};o.prototype.dispose=function(){if(this.$zoomedImage&&this.$zoomedImage[0].parentNode){this.$zoomedImage.remove();this.$zoomedImage=null;this._overlay.parentNode.removeChild(this._overlay);this._backdrop.parentNode.removeChild(this._backdrop);this._$body.removeClass("zoom-overlay-transitioning")}l(this._targetImage).css("visibility","visible")};t.ZoomService=new a},"7BBF":function(e,t,r){"use strict";r("ma9I");r("yXV3");r("2B1R");r("Rm1S");r("UxlC");r("EnZy");r("SYor");var m=r("e2gc");var _=r("F/us");var i18n=r("HEOz");var l=r("rTmL");var g=r("XwLL");var n=Math.pow(2,-42);var y={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function e(u,h){h=_.extend({simplify:"required",ratio:false,forms:y.predicate.defaultForms},h);var t;if(!_.isArray(h.forms)){t=h.forms.split(/\s*,\s*/)}else{t=h.forms}if(h.inexact===undefined){h.maxError=0}h.maxError=+h.maxError+n;if(_.contains(t,"percent")){t=_.without(t,"percent");t.push("percent")}var d=function e(t){t=t.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"");var r=t.match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/);var n=t.match(/^([+-]?)\\frac\{([+-]?\d+)\}\{([+-]?\d+)\}$/);var i=parseInt(t,10);if(r||n){var a;var o;var s=true;if(r){a=parseFloat(r[1]);o=parseFloat(r[2])}else{a=parseFloat(n[2]);if(n[1]==="-"){if(a<0){s=false}a=-a}o=parseFloat(n[3])}s=s&&o>0&&(h.ratio||o!==1)&&g.getGCD(a,o)===1;return[{value:a/o,exact:s}]}else if(!isNaN(i)&&""+i===t){return[{value:i,exact:true}]}return[]};var v={integer:function e(t){var r=v.decimal(t);var n=v.decimal(t,1);if(r[0].value!=null&&r[0].value===n[0].value||r[1].value!=null&&r[1].value===n[1].value){return r}return[]},proper:function e(t){return m.map(d(t),function(e){if(Math.abs(e.value)<1){return[e]}else{return[]}})},improper:function e(t){return m.map(d(t),function(e){if(Math.abs(e.value)>=1){return[e]}else{return[]}})},pi:function e(r){var t;var n=[];r=r.replace(/\u2212/,"-");if(t=r.match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){n=[{value:parseFloat(t[1]+"1"),exact:true}]}else if(t=r.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){n=d(t[1])}else if(t=r.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){var i=parseFloat(t[1]+"1");var a=parseFloat(t[2]);var o=parseFloat(t[3]);var s=parseFloat(t[4]);var l=o<s&&g.getGCD(o,s)===1;n=[{value:i*(a+o/s),exact:l}]}else if(t=r.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i)){n=d(t[1]+"/"+t[3])}else if(t=r.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i)){n=d(t[1]+"1/"+t[3])}else if(r==="0"){n=[{value:0,exact:true}]}else if(t=r.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){n=v.decimal(t[1])}else{n=_.reduce(y.predicate.defaultForms.split(/\s*,\s*/),function(e,t){return e.concat(v[t](r))},[]);var c=false;var u=parseFloat(r);if(!isNaN(u)&&u!==parseInt(r)){var h=Math.PI/12;var f=h*Math.round(u/h);if(Math.abs(u-f)<.01){c=true}}else if(r.match(/\/\s*7/)){c=true}if(c){_.each(n,function(e){e.piApprox=true})}return n}var p=Math.PI;if(r.match(/\\?tau|t|\u03c4/)){p=Math.PI*2}if(r.match(/pau/)){p=Math.PI*1.5}m.each(n,function(e,t){t.value*=p});return n},coefficient:function e(t){var r=[];t=t.replace(/\u2212/,"-");if(t===""){r=[{value:1,exact:true}]}else if(t==="-"){r=[{value:-1,exact:true}]}return r},log:function e(t){var r;var n=[];t=t.replace(/\u2212/,"-");t=t.replace(/[ \(\)]/g,"");if(r=t.match(/^log\s*(\S+)\s*$/i)){n=v.decimal(r[1])}else if(t==="0"){n=[{value:0,exact:true}]}return n},percent:function e(t){t=m.trim(t);var r=false;if(t.indexOf("%")===t.length-1){t=m.trim(t.substring(0,t.length-1));r=true}var n=v.decimal(t);m.each(n,function(e,t){t.exact=r;t.value=t.value/100});return n},mixed:function e(t){var r=t.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/);if(r){var n=parseFloat(r[1]+"1");var i=parseFloat(r[2]);var a=parseFloat(r[3]);var o=parseFloat(r[4]);var s=a<o&&g.getGCD(a,o)===1;return[{value:n*(i+a/o),exact:s}]}return[]},decimal:function e(t,a){if(a==null){a=1e10}var r=function e(t){t=m.trim(t);var r=t.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/);var n=t.match(/^0[0,]*,/);if(r&&!n){var i=parseFloat(r[1].replace(/[, ]/g,""));if(h.inexact===undefined){i=Math.round(i*a)/a}return i}};var n=function e(t){t=t.replace(/([\.,])/g,function(_,e){return e==="."?",":"."});return r(t)};return[{value:r(t),exact:true},{value:n(t),exact:true}]}};return function(l){var e=h.fallback!=null?""+h.fallback:"";l=m.trim(l)||e;var c={empty:l==="",correct:false,message:null,guess:l};m.each(t,function(e,t){var r=v[t](l);for(var n=0,i=r.length;n<i;n++){var a=r[n].value;var o=r[n].exact;var s=r[n].piApprox;if(u(a,h.maxError)){if(o||h.simplify==="optional"){c.correct=true;c.message=h.message||null;c.empty=false}else if(t==="percent"){c.empty=true;c.message=i18n._("Your answer is almost correct, "+"but it is missing a "+"<code>\\%</code> at the end.")}else{if(h.simplify!=="enforced"){c.empty=true}c.message=i18n._("Your answer is almost correct, "+"but it needs to be simplified.")}return false}else if(s&&u(a,Math.abs(a*.001))){c.empty=true;c.message=i18n._("Your answer is close, but you may "+"have approximated pi. Enter your "+"answer as a multiple of pi, like "+"<code>12\\ \\text{pi}</code> or "+"<code>2/3\\ \\text{pi}</code>")}}});if(c.correct===false){var r=false;_.each(v,function(e){var t=_.any(e(l),function(e){return e.value!=null&&!_.isNaN(e.value)});if(t){r=true}});if(!r){c.empty=true;c.message=i18n._("We could not understand your "+"answer. Please check your answer for extra "+"text or symbols.");return c}}return c}}},number:{convertToPredicate:function e(t,r){var n=parseFloat(m.trim(t));return[function(e,t){return Math.abs(e-n)<t},m.extend({},r,{type:"predicate"})]},createValidatorFunctional:function e(t,r){var n;return(n=y.predicate).createValidatorFunctional.apply(n,y.number.convertToPredicate(t,r))}},expression:{parseSolution:function e(t,r){var n=l.parse(t,r);if(!n.parsed){throw new Error("The provided solution ("+t+") didn't parse.")}else if(r.simplified&&!n.expr.isSimplified()){throw new Error("The provided solution ("+t+") isn't fully expanded and simplified.")}else{n=n.expr}return n},createValidatorFunctional:function e(o,s){return function(e){var t={empty:false,correct:false,message:null,guess:e,ungraded:false};if(!e){t.empty=true;return t}var r=l.parse(e,s);if(!r.parsed){t.empty=true;return t}if(typeof o==="string"){o=y.expression.parseSolution(o,s)}var n=l.compare(r.expr,o,s);if(n.equal){t.correct=true}else if(n.wrongVariableNames||n.wrongVariableCase){t.ungraded=true;t.message=n.wrongVariableCase?i18n._("Your answer includes use of a variable with the wrong case."):i18n._("Your answer includes a wrong variable letter.");t.suppressAlmostThere=true}else if(n.message){t.message=n.message}else{var i=l.parse(e.replace(/[xX]/g,"*"),s);if(i.parsed){var a=l.compare(i.expr,o,s);if(a.equal){t.ungraded=true;t.message=i18n._("I'm a computer. I only understand "+"multiplication if you use an asterisk "+"(*) as the multiplication sign.")}else if(a.message){t.message=a.message+" Also, I'm a computer. I only understand "+"multiplication if you use an "+"asterisk (*) as the multiplication "+"sign."}}}return t}}}};e.exports=y},"7kT3":function(e,t,r){"use strict";r("TeQF");var n=r("uBl0");var i=n.nestedMap;var a=n.deepEq;var _=r("F/us");function o(e){_.extend(this,e)}var s=function e(){throw new Error("Abstract method! Must be implemented by Graphie Movable"+this.constructor.displayName)};_.extend(o.prototype,{movableProps:[],add:s,modify:s,remove:s,toFront:function e(){},componentDidMount:function e(){}});var l=function e(t,r){return _.extend({},t,{children:_.filter(_.flatten(r),_.identity)})};var c=function e(t){var r=function e(t){if(!(this instanceof e)){throw new Error("Use createElement or JSX with graphie movables")}this.props=l(t,t.children||[]);return this};t.displayName=t.displayName||_.uniqueId("GraphieClass");r.displayName=t.displayName;r.prototype=new o(t);r.prototype.constructor=r;return r};var u=function e(r){return c({displayName:r.name||_.uniqueId("GraphieSimpleClass"),movableProps:["children"],add:function e(t){this._elements=r(t,this.props);this._prevProps=this.props},modify:function e(t){if(!a(this.props,this._prevProps)){this.remove();this.add(t);this._prevProps=this.props;return"reordered"}},remove:function e(){i(this._elements,function(e){if(e){e.remove()}});this._elements=null;this._prevProps=null},toFront:function e(){i(this._elements,function(e){if(_.isFunction(e.toFront)){e.toFront()}})}})};e.exports={GraphieMovable:o,createClass:c,createSimpleClass:u}},APgo:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("FZtP");var l=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=r("17x9");var o=function e(t){var r=t.path,n=t.width,i=t.height,a=t.style,o=a===void 0?{}:a,s=t.title;return l.createElement("svg",{role:"img","aria-hidden":!s,style:c({verticalAlign:"middle"},o),width:"".concat(n/i,"em"),height:"1em",viewBox:"0 0 ".concat(n," ").concat(i)},!!s&&l.createElement("title",null,s),l.createElement("path",{d:r,fill:"currentColor"}))};o.propTypes={path:a.string.isRequired,height:a.number.isRequired,width:a.number.isRequired,style:a.object,title:a.string};e.exports=o},BGgb:function(e,t,r){"use strict";r("5DmW");r("NBAS");var o=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return u(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var d={PENDING:"pending",LOADING:"loading",LOADED:"loaded",FAILED:"failed"};var v=function(e){h(t,e);function t(e){var a;i(this,t);a=l(this,c(t).call(this,e));p(u(a),"createLoader",function(){a.destroyLoader();a.img=new Image;a.img.onload=a.handleLoad;a.img.onerror=a.handleError;a.img.src=a.props.src});p(u(a),"destroyLoader",function(){if(a.img){a.img.onload=null;a.img.onerror=null;a.img=null}});p(u(a),"handleLoad",function(e){a.destroyLoader();a.setState({status:d.LOADED});if(a.props.onLoad){a.props.onLoad(e)}});p(u(a),"handleError",function(e){a.destroyLoader();a.setState({status:d.FAILED});if(a.props.onError){a.props.onError(e)}});p(u(a),"renderImg",function(){var e=a.props,t=e.src,r=e.imgProps;var n={src:t};for(var i in r){if(r.hasOwnProperty(i)){n[i]=r[i]}}return o.createElement("img",n)});a.state={status:e.src?d.LOADING:d.PENDING};return a}s(t,[{key:"componentDidMount",value:function e(){if(this.state.status===d.LOADING){this.createLoader()}}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){if(this.props.src!==t.src){this.setState({status:t.src?d.LOADING:d.PENDING})}}},{key:"componentDidUpdate",value:function e(t,r){if(this.state.status===d.LOADING&&!this.img){this.createLoader()}if(r.status!==this.state.status){this.props.onUpdate(this.state.status)}}},{key:"componentWillUnmount",value:function e(){this.destroyLoader()}},{key:"render",value:function e(){switch(this.state.status){case d.LOADED:return this.renderImg();case d.FAILED:if(this.props.children){return this.props.children}break;default:if(this.props.preloader){return this.props.preloader()}}return null}}]);return t}(o.Component);e.exports=v},FVCV:function(e,t,r){"use strict";var _=r("F/us");var c=r("e2gc");var n=r("p8fL");var u=n.normalizeOptions;var h=n.assert;var f=r("eAf/").point;var p=["add","modify","draw","remove","onMoveStart","onMove","onMoveEnd","onClick"];var i={cursor:null};var a={added:false,isHovering:false,isMouseOver:false,isDragging:false,mouseTarget:null};var o=function e(t,r){_.extend(this,{graphie:t,state:{id:_.uniqueId("movable")}});this.modify(_.extend({},a,r))};n.createGettersFor(o,_.extend({},i,a));n.addMovableHelperMethodsTo(o);_.extend(o.prototype,{cloneState:function e(){return _.clone(this.state)},_createDefaultState:function e(){return _.extend({id:this.state.id,add:[],modify:[],draw:[],remove:[],onMoveStart:[],onMove:[],onMoveEnd:[],onClick:[]},i)},modify:function e(t){this.update(_.extend({},this._createDefaultState(),t))},grab:function e(t){h(f.is(t));var n=this;var i=n.graphie;var a=n.state;a.isHovering=true;a.isDragging=true;i.isDragging=true;var r=t;var o=r;n._fireEvent(a.onMoveStart,r,r);var s=function e(t){t.preventDefault();var r=i.getMouseCoord(t);n._fireEvent(a.onMove,r,o);n.draw();o=r};var l=function e(t){c(document).unbind("vmousemove",s);c(document).unbind("vmouseup",e);if(a.isHovering){n._fireEvent(a.onClick,o,r)}a.isHovering=n.state.isMouseOver;a.isDragging=false;i.isDragging=false;n._fireEvent(a.onMoveEnd,o,r);n.draw()};c(document).bind("vmousemove",s);c(document).bind("vmouseup",l)},update:function e(t){var r=this;var n=r.graphie;var i=r.cloneState();var a=_.extend(r.state,u(p,t));if(a.mouseTarget&&!i.mouseTarget){var o;if(a.mouseTarget.getMouseTarget){o=c(a.mouseTarget.getMouseTarget())}else{o=c(a.mouseTarget[0])}var s=!("ontouchstart"in window);if(s){o.on("vmouseover",function(){a.isMouseOver=true;if(!n.isDragging){a.isHovering=true}if(r.state.added){r.draw()}});o.on("vmouseout",function(){a.isMouseOver=false;if(!a.isDragging){a.isHovering=false}if(r.state.added){r.draw()}})}o[0].addEventListener("touchstart",function(e){e.preventDefault()},{passive:false});o.on("vmousedown",function(e){if(e.which!==0&&e.which!==1){return}e.preventDefault();var t=n.getMouseCoord(e);r.grab(t)})}if(a.mouseTarget&&a.cursor!==undefined){var l;if(a.mouseTarget.getMouseTarget){l=c(a.mouseTarget.getMouseTarget())}else{l=c(a.mouseTarget[0])}l.css("cursor",a.cursor||"")}if(!a.added){r._fireEvent(a.modify,r.cloneState(),{});a.added=true;r.prevState=r.cloneState()}r._fireEvent(a.modify,r.cloneState(),r.prevState)},remove:function e(){this.state.added=false;this._fireEvent(this.state.remove);if(this.state.mouseTarget){c(this.state.mouseTarget).off();this.state.mouseTarget.remove();this.state.mouseTarget=null}},toBack:function e(){if(this.state.mouseTarget){this.state.mouseTarget.toBack()}},toFront:function e(){if(this.state.mouseTarget){this.state.mouseTarget.toFront()}}});e.exports=o},Giaf:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");var n=i(r("q1tI"));function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return u(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var p=r("17x9");var v=r("i8i4");var _=r("F/us");var m=r("e2gc");var g=r("7kT3");var y=r("kPsx");var b=g.GraphieMovable;var w=r("uBl0").deepEq;var x=r("uBl0").nestedMap;var M=r("p8fL").assert;var k=r("NT9k");var S=k.createGraphie;var T=function(e){h(i,e);function i(){var e;var p;a(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}p=l(this,(e=c(i)).call.apply(e,[this].concat(r)));d(u(p),"getGraphie",function(){return p._graphie});d(u(p),"_range",function(){return _.map(p.props.range,function(e){if(e[0]>=e[1]){return[-10,10]}else{return e}})});d(u(p),"_box",function(){return _.map(p.props.box,function(e){return e>0?e:340})});d(u(p),"_scale",function(){var e=p._box();var n=p._range();return _.map(e,function(e,t){var r=n[t][1]-n[t][0];return e/r})});d(u(p),"_setupGraphie",function(){p._removeMovables();var e=v.findDOMNode(p.refs.graphieDiv);m(e).empty();var t=p._graphie=S(e);t.init({range:p._range(),scale:p._scale(),isMobile:p.props.isMobile});if(p.props.addMouseLayer){t.addMouseLayer({onClick:p.props.onClick,onMouseDown:p.props.onMouseDown,onMouseUp:p.props.onMouseUp,onMouseMove:p.props.onMouseMove,setDrawingAreaAvailable:p.props.setDrawingAreaAvailable})}t.snap=p.props.options.snapStep||[1,1];if(p.props.responsive){m(e).css({width:"100%",height:"100%"});t.raphael.setSize("100%","100%")}p.props.setup(t,_.extend({range:p._range(),scale:p._scale()},p.props.options))});d(u(p),"_removeMovables",function(){_.invoke(p._movables,"remove");p._movables={}});d(u(p),"_renderMovables",function(e,s){var l=s.graphie;var c=s.oldMovables;var u=s.newMovables;var h=function e(t){_.each(t.movableProps,function(e){t.props[e]=p._renderMovables(t.props[e],s)})};var f=false;return x(e,function(e){if(!e){s.nextKey++;return e}var t=new e.type(e.props);M(t instanceof b,"All children of a Graphie component must be Graphie "+"movables");var r=e.key;var n=r==null?"_no_id_"+s.nextKey:r;s.nextKey++;var i=e.ref;h(t);var a=c[n];if(!a){t.add(l);f=true;u[n]=t}else if(t.constructor===a.constructor){a.props=t.props;var o=a.modify(l);if(o==="reordered"){f=true}u[n]=a}else{if(r==null){if(typeof console!=="undefined"&&console.warn){console.warn("Replacing a <Graphie> child with a "+"child of a different type. Please add keys "+"to your <Graphie> children")}}a.remove();t.add(l);f=true;u[n]=t}if(f){u[n].toFront()}if(i){p.movables[i]=u[n]}return u[n]})});d(u(p),"_updateMovables",function(){var e=p._graphie;var t=p._movables;var r={};p._movables=r;p.movables={};p._renderMovables(p.props.children,{nextKey:1,graphie:e,oldMovables:t,newMovables:r});_.each(t,function(e,t){if(!r[t]){e.remove()}})});return p}s(i,[{key:"componentDidMount",value:function e(){this._setupGraphie();this._updateMovables()}},{key:"shouldComponentUpdate",value:function e(t){return!_.isEqual(this.props,t)}},{key:"componentDidUpdate",value:function e(t){if(this.props.setup!==t.setup&&window.console&&window.console.warn){window.console.warn("<Graphie> was given a new setup function. "+"This is a bad idea; please refactor your code to give "+"the same setup function reference to <Graphie> on "+"every render.")}if(!w(this.props.options,t.options)||!w(this.props.box,t.box)||!w(this.props.range,t.range)){this._setupGraphie()}this._updateMovables()}},{key:"render",value:function e(){return n.createElement("div",{className:"graphie-container"},n.createElement("div",{className:"graphie",ref:"graphieDiv"}))}}]);return i}(n.Component);d(T,"propTypes",{addMouseLayer:p.bool,box:p.arrayOf(p.number).isRequired,children:p.node,isMobile:p.bool,onClick:p.func,onMouseDown:p.func,onMouseMove:p.func,onMouseUp:p.func,options:p.shape({snapStep:p.arrayOf(p.number)}),range:p.arrayOf(p.arrayOf(p.number)),responsive:p.bool,setDrawingAreaAvailable:p.func,setup:p.func.isRequired});d(T,"defaultProps",{range:[[-10,10],[-10,10]],options:{},responsive:false,addMouseLayer:true});_.extend(T,g);_.extend(T,y);e.exports=T},KSpR:function(e,t,r){"use strict";r("ma9I");r("hByQ");r("EnZy");(function(f,e,t,p){if(typeof f==="undefined"){return}var s="virtualMouseBindings",c="virtualTouchID",r="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),d="clientX clientY pageX pageY screenX screenY".split(" "),n=f.event.mouseHooks?f.event.mouseHooks.props:[],v=f.event.props.concat(n),l={},i=0,o=0,u=0,a=false,h=[],m=false,g=false,y="addEventListener"in t,b=f(t),w=1,x=0;f.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function M(e){while(e&&typeof e.originalEvent!=="undefined"){e=e.originalEvent}return e}function k(e,t){var r=e.type,n,i,a,o,s,l,c,u,h;e=f.Event(e);e.type=t;n=e.originalEvent;i=f.event.props;if(r.search(/mouse/)>-1){i=v}if(n){for(c=i.length,o;c;){o=i[--c];e[o]=n[o]}}if(r.search(/mouse(down|up)|click/)>-1&&!e.which){e.which=1}if(r.search(/^touch/)!==-1){a=M(n);r=a.touches;s=a.changedTouches;l=r&&r.length?r[0]:s&&s.length?s[0]:p;if(l){for(u=0,h=d.length;u<h;u++){o=d[u];e[o]=l[o]}}}return e}function S(e){var t={},r,n;while(e){r=f.data(e,s);for(n in r){if(r[n]){t[n]=t.hasVirtualBinding=true}}e=e.parentNode}return t}function T(e,t){var r;while(e){r=f.data(e,s);if(r&&(!t||r[t])){return e}e=e.parentNode}return null}function A(){g=false}function P(){g=true}function E(){x=0;h.length=0;m=false;P()}function C(){A()}function I(){D();i=setTimeout(function(){i=0;E()},f.vmouse.resetTimerDuration)}function D(){if(i){clearTimeout(i);i=0}}function O(e,t,r){var n;if(r&&r[e]||!r&&T(t.target,e)){n=k(t,e);f(t.target).trigger(n)}return n}function F(e){var t=f.data(e.target,c);if(!m&&(!x||x!==t)){var r=O("v"+e.type,e);if(r){if(r.isDefaultPrevented()){e.preventDefault()}if(r.isPropagationStopped()){e.stopPropagation()}if(r.isImmediatePropagationStopped()){e.stopImmediatePropagation()}}}}function N(e){var t=M(e).touches,r,n;if(t&&t.length===1){r=e.target;n=S(r);if(n.hasVirtualBinding){x=w++;f.data(r,c,x);D();C();a=false;var i=M(e).touches[0];o=i.pageX;u=i.pageY;O("vmouseover",e,n);O("vmousedown",e,n)}}}function L(e){if(g){return}if(!a){O("vmousecancel",e,S(e.target))}a=true;I()}function R(e){if(g){return}var t=M(e).touches[0],r=i,n=f.vmouse.moveDistanceThreshold,i=i||Math.abs(t.pageX-o)>n||Math.abs(t.pageY-u)>n,a=S(e.target);if(i&&!r){O("vmousecancel",e,a)}O("vmousemove",e,a);I()}function q(e){if(g){return}P();var t=S(e.target),r;O("vmouseup",e,t);if(!a){var n=O("vclick",e,t);if(n&&n.isDefaultPrevented()){r=M(e).changedTouches[0];h.push({touchID:x,x:r.clientX,y:r.clientY});m=true}}O("vmouseout",e,t);a=false;I()}function B(e){var t=f.data(e,s),r;if(t){for(r in t){if(t[r]){return true}}}return false}function z(){}function G(a){var o=a.substr(1);return{setup:function e(t,r){if(!B(this)){f.data(this,s,{})}var n=f.data(this,s);n[a]=true;l[a]=(l[a]||0)+1;if(l[a]===1){b.bind(o,F)}f(this).bind(o,z);if(y){l["touchstart"]=(l["touchstart"]||0)+1;if(l["touchstart"]===1){b.bind("touchstart",N).bind("touchend",q).bind("touchmove",R).bind("scroll",L)}}},teardown:function e(t,r){--l[a];if(!l[a]){b.unbind(o,F)}if(y){--l["touchstart"];if(!l["touchstart"]){b.unbind("touchstart",N).unbind("touchmove",R).unbind("touchend",q).unbind("scroll",L)}}var n=f(this),i=f.data(this,s);if(i){i[a]=false}n.unbind(o,z);if(!B(this)){n.removeData(s)}}}}for(var j=0;j<r.length;j++){f.event.special[r[j]]=G(r[j])}if(y){t.addEventListener("click",function(e){var t=h.length,r=e.target,n,i,a,o,s,l;if(t){n=e.clientX;i=e.clientY;threshold=f.vmouse.clickDistanceThreshold;a=r;while(a){for(o=0;o<t;o++){s=h[o];l=0;if(a===r&&Math.abs(s.x-n)<threshold&&Math.abs(s.y-i)<threshold||f.data(a,c)===s.touchID){e.preventDefault();e.stopPropagation();return}}a=a.parentNode}}},true)}})(window.jQuery,window,document)},KmI1:function(e,t,r){"use strict";r("fbCW");r("UxlC");var f=r("yBUS");var p=r("Lp/H");var d=r("e2gc");r("IR3g");var v=r("XwLL");function m(e,t){var r=d(e).find("."+t);if(r.length===0){return d("<span>").addClass(t).appendTo(d(e))}else{return r}}function g(r,n){var i=0;(function e(){var t=r.scrollHeight;if(t>18||i>=10){n()}else{i++;setTimeout(e,100)}})()}e.exports={processMath:function e(t,r,n,i){var a=d(t);if(a.attr("data-math-formula")==null||n){var o=m(a,"katex-holder");var s=m(a,"mathjax-holder");var l=s.find("script[type='math/tex']")[0];if(r==null){if(a.attr("data-math-formula")){r=a.attr("data-math-formula")}else if(l){r=l.text||l.textContent}}r=r!=null?r+"":"";r=v.cleanMath(r);a.attr("data-math-formula",r);var c=(0,f.getKaTeX)();try{c.render(r,o[0],{colorIsTextColor:true});if(a.attr("data-math-type")==="mathjax"){var u=MathJax.Hub.getJaxFor(l);if(u){var h=u.SourceElement();if(h.previousSibling&&h.previousSibling.className){u.Remove()}}}a.attr("data-math-type","katex");if(i){g(t,i)}return}catch(e){(0,p.logKaTeXError)(r,e);if(e.__proto__!==c.ParseError.prototype){throw e}}a.attr("data-math-type","mathjax");if(!l){s.append("<script type='math/tex'>"+r.replace(/<\//g,"< /")+"<\/script>")}else{if("text"in l){l.text=r}else{l.textContent=r}}if(typeof MathJax!=="undefined"){MathJax.Hub.Queue(["Reprocess",MathJax.Hub,s[0]]);if(i){MathJax.Hub.Queue(function(){var e=MathJax.Callback(function(){});g(t,function(){i();e()});return e})}}}},cleanupMath:function e(t){var r=d(t);if(r.attr("data-math-formula")){if(typeof MathJax!=="undefined"){var n=MathJax.Hub.getJaxFor(r.find("script")[0]);if(n){var i=n.SourceElement();if(i.previousSibling&&i.previousSibling.className){n.Remove()}}}r.text(r.attr("data-math-formula"));r.attr("data-math-formula",null);r.attr("data-math-type",null)}return t},retrieveMathFormula:function e(t){return d(t).attr("data-math-formula")}}},LU9M:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");r("EnZy");var o=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return u(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var d=r("17x9");var v=r("i8i4");var m=r("mR6N"),g=m.StyleSheet,y=m.css;var b=r("UcaO");var w=r("APgo");var x=r("whzC");var M={path:"M6 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-9a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1z",height:12,width:12};var k=function(e){h(i,e);function i(){var e;var a;s(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}a=l(this,(e=c(i)).call.apply(e,[this].concat(r)));p(u(a),"state",{tooltipAbove:true});p(u(a),"getPosition",function(){var e=v.findDOMNode(u(a)).getBoundingClientRect();a.setState({tooltipAbove:e.top>100})});p(u(a),"renderLink",function(e){var t=a.state.tooltipAbove;var r;var n;var i;if(a.props.severity===1){r=S.indicatorError;n="Error";i=S.publishBlockingError}else if(a.props.severity===2){r=S.indicatorWarning;n="Warning";i=S.warning}else{r=S.indicatorGuideline;n="Recommendation";i=S.warning}return o.createElement("a",{href:x.safeLinkTo("https://khanacademy.org/r/linter-rules#".concat(a.props.ruleName)),target:"lint-help-window",className:y(e)},o.createElement("span",{className:y(S.indicator,r)},a.props.severity===1&&o.createElement(w,M)),o.createElement("div",{className:y(S.tooltip,t&&S.tooltipAbove)},a.props.message.split("\n\n").map(function(e,t){return o.createElement("p",{key:t,className:y(S.tooltipParagraph)},o.createElement("span",{className:y(i)},n,":"," "),e)}),o.createElement("div",{className:y(S.tail,t&&S.tailAbove)})))});return a}a(i,[{key:"componentDidMount",value:function e(){this._positionTimeout=window.setTimeout(this.getPosition)}},{key:"componentWillUnmount",value:function e(){window.clearTimeout(this._positionTimeout)}},{key:"render",value:function e(){var t=this.props,r=t.children,n=t.inline,i=t.blockHighlight,a=t.insideTable;if(a){if(n){return o.createElement("span",{"data-lint-inside-table":"true"},r)}else{return o.createElement("div",{"data-lint-inside-table":"true"},r)}}else{if(i){return o.createElement("span",{className:y(S.lintContainer,S.lintContainerBlock)},this.renderLink(S.radioWidgetHoverTarget),o.createElement("span",null,r))}else if(n){return o.createElement("span",{className:y(S.lintContainer)},this.renderLink(S.inlineHoverTarget),o.createElement("span",null,r))}else{return o.createElement("div",{className:y(S.lintContainer)},this.renderLink(S.hoverTarget),o.createElement("div",null,r))}}}}]);return i}(o.Component);p(k,"propTypes",{children:d.node,inline:d.bool,message:d.string.isRequired,ruleName:d.string.isRequired,insideTable:d.bool.isRequired,blockHighlight:d.bool,severity:d.number});var S=g.create({lintContainer:{position:"relative"},lintContainerBlock:{display:"block"},hoverTarget:{position:"absolute",top:0,right:-40,display:"block",width:24,height:24,":hover > span":{backgroundColor:b.warningColorHover},":hover div":{display:"block"},":hover ~ div":{outline:"1px solid "+b.warningColor},":hover ~ div div[data-lint-inside-table]":{outline:"1px solid "+b.warningColor},":hover ~ div span[data-lint-inside-table]":{backgroundColor:b.warningColor,color:b.white}},inlineHoverTarget:{float:"right",position:"relative",marginRight:-40,display:"block",width:24,height:24,":hover > span":{backgroundColor:b.warningColorHover},":hover div":{display:"block"},":hover ~ span":{backgroundColor:b.warningColor,color:b.white}},radioWidgetHoverTarget:{position:"absolute",left:-40,display:"block",width:24,height:24,minWidth:264,":hover > span":{backgroundColor:b.warningColorHover},":hover > div":{display:"block",padding:8,width:280},":hover > div > div":{left:8},":hover ~ span":{backgroundColor:b.warningColor,color:b.white}},indicator:{alignItems:"center",borderRadius:4,color:"white",display:"flex",fontSize:12,height:8,justifyContent:"center",margin:8,width:8},indicatorError:{backgroundColor:"#be2612",borderRadius:8,height:16,width:16},indicatorWarning:{backgroundColor:"#f86700"},indicatorGuideline:{backgroundColor:"#ffbe26"},tooltip:{position:"absolute",right:-12,display:"none",zIndex:"1000",color:b.white,backgroundColor:b.gray17,opacity:"0.9",fontFamily:b.baseFontFamily,fontSize:"12px",lineHeight:"15px",width:"320px",borderRadius:"4px"},tooltipAbove:{bottom:32},tail:{position:"absolute",top:-12,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"12px solid "+b.gray17},tailAbove:{bottom:-12,borderBottom:"none",borderTop:"12px solid "+b.gray17,top:"auto"},tooltipParagraph:{margin:12},warning:{color:b.warningColor,fontFamily:b.boldFontFamily},publishBlockingError:{color:b.publishBlockingErrorColor}});e.exports=k},NT9k:function(e,t,r){"use strict";var n=r("2BsJ");r("4vmB");e.exports=n},QVWj:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("4mDm");r("pDQq");r("5DmW");r("07d7");r("EnZy");r("FZtP");r("3bBZ");function s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var _=r("F/us");var l=r("eAf/").point;function o(e,t){return e+":"+t}function c(e){return e.split(":")[0]}var n={_fireEvent:function e(t,r,n){_.invoke(t,"call",this,r,n)},_applyConstraints:function e(t,n,i){var a=this;var o=false;return _.reduce(this.state.constraints,function(e,t){if(e===false){return false}if(o){return e}var r=t.call(a,e,n,s({onSkipRemaining:function e(){o=true}},i));if(r===false){return false}else if(l.is(r,2)){return r}else if(r===true||r==null){return e}else{throw new Error("Constraint returned invalid result: "+r)}},t,this)},draw:function e(){var t=this.cloneState();n._fireEvent.call(this,this.state.draw,t,this.prevState);this.prevState=t},listen:function e(t,r,n){this._listenerMap=this._listenerMap||{};var i=o(t,r);var a=this._listenerMap[i]=this._listenerMap[i]||this.state[t].length;this.state[t][a]=n},unlisten:function e(t,r){this._listenerMap=this._listenerMap||{};var n=o(t,r);var i=this._listenerMap[n];if(i!==undefined){this.state[t].splice(i,1);delete this._listenerMap[n];var a=_.keys(this._listenerMap);_.each(a,function(e){if(c(e)===t&&this._listenerMap[e]>i){this._listenerMap[e]--}},this)}}};e.exports=n},T2HF:function(e,t,r){"use strict";var _=r("F/us");var f=r("p8fL");var n=r("xc4a");var s=r("eAf/").point;var p=r("eAf/").vector;var d=r("XwLL");var l={thickness:2,mouselayer:false};var i=function e(t,r,n,i){i=_.extend({},l,i);var a=[t.range[0][0],0];var o=[t.range[0][1],0];_.extend(this,t.fixedLine(a,o,i.thickness));this.visibleShape.attr(i.normalStyle);_.extend(this,{graphie:t,initialPoint:t.scalePoint(a),initialLength:s.distanceToPoint(t.scalePoint(a),t.scalePoint(o))});if(i.mouselayer){this.wrapper.style.touchAction="none";this.graphie.addToMouseLayerWrapper(this.wrapper)}else{this.graphie.addToVisibleLayerWrapper(this.wrapper)}this.moveTo(r,n)};_.extend(i.prototype,n,{getMouseTarget:function e(){return this.wrapper},moveTo:function e(t,r){var n=this.graphie.scalePoint(t);var i=this.graphie.scalePoint(r);var a=p.polarDegFromCart(p.subtract(i,n));var o=a[0];var s=d.bound(a[1]);var l=p.subtract(n,this.initialPoint);var c=d.bound(o/this.initialLength);var u=f.getCanUse3dTransform();var h="translateX("+l[0]+"px) "+"translateY("+l[1]+"px) "+(u?" translateZ(0)":"")+"rotate("+s+"deg) "+"scaleX("+c+") scaleY(1)";this.transform(h)}});e.exports=i},Tqif:function(e,t,r){"use strict";r("ma9I");r("yXV3");var h=/\\+([ !#$%*,.:;\[\]\^_{|}]|[a-zA-Z]*)/g;var n=["blue","blueA","blueB","blueC","blueD","blueE","goldA","goldB","goldC","goldD","goldE","gray","grayA","grayB","grayC","grayD","grayE","grayF","grayG","grayH","grayI","green","greenA","greenB","greenC","greenD","greenE","kaBlue","kaGreen","maroonA","maroonB","maroonC","maroonD","maroonE","mintA","mintB","mintC","orange","pink","purple","purpleA","purpleB","purpleC","purpleD","purpleE","red","redA","redB","redC","redD","redE","tealA","tealB","tealC","tealD","tealE"];var i=[].concat(n,[" ","!","#","%","*",",",".",":",";","[","]","^","_","{","|","}","alpha","angle","approx","arccos","arcsin","arctan","arrow","bar","barwedge","begin","beta","bf","big","Big","bigg","Bigg","bigl","Bigl","bigr","Bigr","bigstar","bigtriangledown","bigtriangleup","binom","blacklozenge","boldsymbol","Box","boxdot","boxed","bullet","cancel","cap","cdot","cdots","checkmark","chi","circ","circledcirc","clubsuit","colon","color","cong","cos","cot","csc","cup","curvearrowright","dagger","dbinom","ddots","delta","Delta","det","dfrac","diamond","diamondsuit","displaystyle","div","dot","dots","downarrow","Downarrow","ell","end","enspace","epsilon","equiv","eta","fbox","flat","footnotesize","frac","frown","gamma","Gamma","gcf","ge","geq","gg","gt","hat","hbox","heartsuit","hline","hphantom","huge","Huge","iff","iiint","iint","implies","in","infty","int","intercal","it","kappa","kern","lambda","langle","large","Large","LARGE","lcm","ldots","le","left","leftarrow","leftrightarrow","Leftrightarrow","leftrightharpoons","leftroot","leq","lfloor","lg","lim","limits","llap","ln","log","longrightarrow","Longrightarrow","lozenge","lt","lvert","mathbb","mathbf","mathbin","mathcal","mathop","mathrm","mathsf","max","mbox","mid","mp","mu","nabla","ne","nearrow","neq","ngeq","ngtr","nleq","nless","normalsize","not","nu","nx","odot","oint","omega","Omega","operatorname","oplus","oslash","otimes","overbrace","overleftarrow","overleftrightarrow","overline","overrightarrow","overset","parallel","partial","perp","phantom","phi","Phi","pi","pm","prime","propto","psi","Psi","qquad","quad","raise","rangle","rfloor","rho","right","rightarrow","Rightarrow","rightleftharpoons","rvert","scriptsize","scriptstyle","searrow","sec","setminus","sharp","sigma","Sigma","sim","simeq","sin","small","space","sqrt","square","stackrel","star","substack","sum","swarrow","tan","tan","tau","text","textbf","textit","textrm","tfrac","therefore","theta","Theta","tilde","times","tiny","to","triangle","triangleleft","triangleright","underbrace","underline","underset","uparrow","uproot","varphi","vdots","vec","veebar","vert","vphantom","widehat","xi","xrightarrow","Begin","End","inte","lamba","textb"]);var a=i.reduce(function(e,t){e[t]=null;return e},{});var o={n:"\n",r:"\r",t:"\t","\\":"\\"};var f=function e(t){var r=0;while(r<t.length&&t[r]==="\\"){r++}if(r===0){return 2}else if(r%2===0){return 3}else{var n=t.substring(r);if(n==="$"){return r===1?4:1}else{return a.hasOwnProperty(n)?6:0}}};var p=function e(t){var r=0;var n="";while(r<t.length){var i=t[r];if(i==="\\"){r+=1;if(r===t.length){return null}var a=t[r];if(o.hasOwnProperty(a)){n+=o[a]}else{return null}}else{n+=i}r+=1}return n};var s=function e(t){if(!t||t.indexOf("\\")<0){return false}var r=0;var n=0;var i=false;var a=false;var o;h.lastIndex=0;while((o=h.exec(t))!==null){var s=o[0];var l=p(s);if(l===null){return false}var c=f(s);if(c===0){i=true}var u=f(l);if(u===0){a=true}r+=c;n+=u}if(i!==a){return i}return n>=r};var l=function e(t){if(s(t)){return p(t)}else{return t}};var c=function e(t,r){if(s(t)){return[p(t),p(r)]}else{return[t,r]}};e.exports={maybeUnescape:l,maybeUnescapeAccordingToSource:c,shouldUnescape:s}},UcaO:function(e,t,r){"use strict";e.exports={baseFontFamily:"'Proxima Nova',sans-serif",boldFontFamily:"'Proxima Nova Semibold',sans-serif",green:"#76A005",kaGreen:"#71B307",blue:"#1C758A",gray:"#AAAAAA",red:"#FFBABA",grayLight:"#AAAAAA",grayLighter:"#DDDDDD",learnstormBlue:"#4898FC",white:"#FFFFFF",gray98:"#FAFAFA",gray97:"#F6F7F7",gray95:"#F0F1F2",gray90:"#E3E5E6",gray85:"#D6D8DA",gray76:"#BABEC2",gray68:"#888D93",gray41:"#626569",gray25:"#3B3e40",gray17:"#21242c",black:"#000000",warning1:"#F86700",warning3:"#C75300",pureSmMin:"568px",pureMdMin:"768px",pureLgMin:"1024px",pureXlMin:"1280px",pureXsMax:"567px",pureSmMax:"767px",pureMdMax:"1023px",pureLgMax:"1279px",tableBackgroundAccent:"#F9F9F9",gtpBlue:"#4c00ff",gtpIncorrectColor:"#babec2",gtpCorrectColor:"#ffbe26",satBlue:"#0084CE",satSelectedBackgroundColor:"#E4F3F9",satActiveBackgroundColor:"#D0EDF4",satCorrectColor:"#009900",satCorrectBorderColor:"#00CC00",satCorrectBackgroundColor:"#E4F7E4",satIncorrectColor:"#990000",satIncorrectBorderColor:"#CC5252",satIncorrectBackgroundColor:"#F2EBEB",zIndexScratchPad:"1",zIndexAboveScratchpad:"2",zIndexInteractiveComponent:"3",zIndexCurrentlyDragging:"4",zIndexCalculator:"5",phoneMargin:16,negativePhoneMargin:-16,hintBorderWidth:4,baseUnitPx:16,interactiveSizes:{defaultBoxSize:400,defaultBoxSizeSmall:288},circleSize:24,radioMarginWidth:2,warningColor:"#f86700",warningColorHover:"#df5c00",warningColorActive:"#c75300",publishBlockingErrorColor:"#be2612"};e.exports.radioBorderColor=e.exports.gray76;e.exports.checkedColor=e.exports.kaGreen},"WCF/":function(e,t,r){"use strict";r("toAj");r("5DmW");var h=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}var f=r("TSYQ");var i=r("17x9");var a=r("fhzG");var o=r("UcaO"),p=o.negativePhoneMargin;var s=480;var l=a({displayName:"FixedToResponsive",propTypes:{width:i.number.isRequired,height:i.number.isRequired,className:i.string,constrainHeight:i.bool,allowFullBleed:i.bool},getDefaultProps:function e(){return{className:"",constrainHeight:false,allowFullBleed:false}},getInitialState:function e(){return{viewportHeight:null,viewportWidth:null}},componentDidMount:function e(){this._isMounted=true;if(window.innerHeight<s){setTimeout(this._cacheViewportSize,800)}else{this._cacheViewportSize()}},componentWillUnmount:function e(){this._isMounted=false},_cacheViewportSize:function e(){if(this._isMounted){this.setState({viewportHeight:Math.max(s,window.innerHeight),viewportWidth:window.innerWidth})}},render:function e(){var t=this.props.width/this.props.height;var r=h.createElement("div",{style:{paddingBottom:(1/t).toFixed(4)*100+"%"}});var n=this.props,i=n.width,a=n.height;if(this.props.constrainHeight&&this.state.viewportHeight){var o=2/3*this.state.viewportHeight;if(this.props.height>=o){a=o;i=o*t}}var s={maxWidth:i,maxHeight:a};var l=f("fixed-to-responsive",this.props.className);var c=h.createElement("div",{className:l,style:s},r,this.props.children);var u=this.props.allowFullBleed&&this.state.viewportWidth&&i>=this.state.viewportWidth;if(u){return h.createElement("div",{style:{marginLeft:p,marginRight:p}},c)}else{return c}}});e.exports=l},XwLL:function(e,t,r){"use strict";r("+2oP");r("toAj");r("Rm1S");r("UxlC");r("SYor");var _=r("F/us");var i=r("e2gc");var d=r("eAf/").number;var h={cleanMath:function e(t){return typeof t==="string"?t.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):t},bound:function e(t){if(t===0){return t}else if(t<0){return-h.bound(-t)}else{return Math.max(1e-6,Math.min(t,1e20))}},factorial:function e(t){if(t<=1){return t}else{return t*h.factorial(t-1)}},getGCD:function e(t,r){if(arguments.length>2){var n=[].slice.call(arguments,1);return h.getGCD(t,h.getGCD.apply(h,n))}else{var i;t=Math.abs(t);r=Math.abs(r);while(r){i=t%r;t=r;r=i}return t}},getLCM:function e(t,r){if(arguments.length>2){var n=[].slice.call(arguments,1);return h.getLCM(t,h.getLCM.apply(h,n))}else{return Math.abs(t*r)/h.getGCD(t,r)}},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function e(r){if(r<=1){return false}else if(r<101){return!!i.grep(h.primes,function(e,t){return Math.abs(e-r)<=.5}).length}else{if(r<=1||r>2&&r%2===0){return false}else{for(var t=3,n=Math.sqrt(r);t<=n;t+=2){if(r%t===0){return false}}}return true}},getPrimeFactorization:function e(t){if(t===1){return[]}else if(h.isPrime(t)){return[t]}var r=Math.sqrt(t);for(var n=2;n<=r;n++){if(t%n===0){return i.merge(h.getPrimeFactorization(n),h.getPrimeFactorization(t/n))}}},roundToNearest:function e(t,r){return Math.round(r/t)*t},roundTo:function e(t,r){var n=Math.pow(10,t).toFixed(5);return Math.round((r*n).toFixed(5))/n},toFixedApprox:function e(t,r){var n=t.toFixed(r);if(d.equal(+n,t)){return n}else{return"\\approx "+n}},roundToApprox:function e(t,r){var n=h.roundTo(r,t);if(d.equal(n,t)){return String(n)}else{return h.toFixedApprox(t,r)}},toFraction:function e(t,r){if(r==null){r=Math.pow(2,-46)}if(t<0||t>1){var n=t%1;n+=n<0?1:0;var i=h.toFraction(n,r);i[0]+=Math.round(t-n)*i[1];return i}else if(Math.abs(Math.round(Number(t))-t)<=r){return[Math.round(t),1]}else{var a=0;var o=1;var s=1;var l=1;var c=1;var u=2;while(true){if(Math.abs(Number(c/u)-t)<=r){return[c,u]}else if(c/u<t){a=c;o=u}else{s=c;l=u}c=a+s;u=o+l}}},getNumericFormat:function e(t){t=i.trim(t);t=t.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1");if(t.match(/^[+-]?\d+$/)){return"integer"}else if(t.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/)){return"mixed"}var r=t.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/);if(r){return parseFloat(r[1])>parseFloat(r[2])?"improper":"proper"}else if(t.replace(/[,. ]/g,"").match(/^\d+$/)){return"decimal"}else if(t.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)){return"pi"}else{return null}},toNumericString:function e(t,r){if(t==null){return""}else if(t===0){return"0"}if(r==="percent"){return t*100+"%"}if(r==="pi"){var n=d.toFraction(t/Math.PI);var i=Math.abs(n[0]);var a=n[1];if(d.isInteger(i)){var o=t<0?"-":"";var s="π";return o+(i===1?"":i)+s+(a===1?"":"/"+a)}}if(_(["proper","improper","mixed","fraction"]).contains(r)){var l=d.toFraction(t);var c=Math.abs(l[0]);var u=l[1];var h=t<0?"-":"";if(u===1){return h+c}else if(r==="mixed"){var f=c%u;var p=(c-f)/u;return h+(p?p+" ":"")+f+"/"+u}return h+c+"/"+u}return String(t)}};e.exports=h},bHYm:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("zKZe");r("5DmW");r("FZtP");function l(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=r("FVCV");var o=r("p6EO");var s=r("uN08");var c=r("+vEw");var u=r("yfnS");var h={MovablePoint:o,addMovablePoint:function e(t,r){var n=new a(t,{});return new o(t,n,r)},MovableLine:s,addMovableLine:function e(t,r){var n=new a(t,{});return new s(t,n,r)},MovablePolygon:c,addMovablePolygon:function e(t,r){var n=new a(t,{});return new c(t,n,r)},addMaybeMobileMovablePoint:function e(t,r){var n=t.props.apiOptions.isMobile;var i=n?{stroke:"#ffffff","stroke-width":3,fill:u.INTERACTIVE}:{stroke:u.INTERACTIVE,fill:u.INTERACTIVE};var a=Object.assign(i,r.normalStyle);var o=Object.assign(n?l({},i,{"stroke-width":0,scale:.75}):{},r.highlightStyle);var s=Object.assign({normalStyle:a,highlightStyle:o,shadow:n,tooltip:n&&t.props.showTooltips,showHairlines:t.showHairlines,hideHairlines:t.hideHairlines},n?{pointSize:7}:{});return h.addMovablePoint(t.graphie,Object.assign(r,s))}};e.exports=h},d773:function(e,t,r){"use strict";r("TeQF");var _=r("F/us");var n=r("xc4a");var l=r("p8fL");var c=r("eAf/").vector;var u={maxScale:1,mouselayer:false,shadow:false,disableMouseEventsOnWrapper:false};var i=function e(t,r,n,i){i=_.extend({},u,i);var a=t.fixedEllipse(r,n,i.maxScale,i.padding);_.extend(this,a,{graphie:t,initialPoint:r});if(i.mouselayer){this.wrapper.style.touchAction="none";this.graphie.addToMouseLayerWrapper(this.wrapper)}else{this.graphie.addToVisibleLayerWrapper(this.wrapper)}if(i.shadow){var o="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";var s=this.wrapper;s.style.webkitFilter=o;s.style.filter=o;this.moveTo=function(e){var t=c.subtract(this.graphie.scalePoint(e),this.graphie.scalePoint(this.initialPoint));var r=l.getCanUse3dTransform();var n="translateX("+Math.round(t[0])+"px) "+"translateY("+Math.round(t[1])+"px)"+(r?" translateZ(0)":"");this.transform(n)}}if(i.disableMouseEventsOnWrapper){this.wrapper.style.pointerEvents="none";this.visibleShape.node.style.pointerEvents="auto"}};_.extend(i.prototype,n);e.exports=i},e1hl:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("+2oP");var _=r("F/us");var h=r("eAf/").point;var f=r("eAf/").vector;function n(e){return _.reduce(e,function(e,t){return e+t},0)}function l(e){var t=_.zip(e,e.slice(1).concat(e.slice(0,1)));var r=_.map(t,function(e){var t=e[0];var r=e[1];return(r[0]-t[0])*(r[1]+t[1])});return n(r)>0}var i={constrain:function e(){this.constrain()},pointsToFront:function e(t){_.invoke(t.points,"toFront")}};i.standard=[i.constrain,i.pointsToFront];var a={draw:function e(){this.draw()}};a.standard=[a.draw];var o={basic:function e(t,r){var n=this.graphie;var i=this.path(t);if(!this.state.visibleShape){this.state.visibleShape=n.raphael.path(i);this.state.visibleShape.attr(this.normalStyle())}if(t.normalStyle!==r.normalStyle&&!_.isEqual(t.normalStyle,r.normalStyle)){this.state.visibleShape.attr(this.normalStyle())}this.state.visibleShape.attr({path:i});if(this.mouseTarget()){this.mouseTarget().attr({path:i})}},labels:function e(r,t){var n=this.graphie;var i=this;var a=_.invoke(r.points,"coord");var o=l(a);var s=a.length;if(i.state._labelCache!=null){_.invoke(i.state._labelCache,"remove")}i.state._labelCache=[];if(r.angleLabels.length||r.showRightAngleMarkers.length){if(i.state._labeledAngles==null){i.state._labeledAngles=_.times(Math.max(r.angleLabels.length,r.showRightAngleMarkers.length),function(){return n.label([0,0],"","center",r.labelStyle)})}_.each(i.state._labeledAngles,function(e,t){i.state._labelCache.push(n.labelAngle({point1:a[(t-1+s)%s],vertex:a[t],point3:a[(t+1)%s],label:e,text:r.angleLabels[t],showRightAngleMarker:r.showRightAngleMarkers[t],numArcs:r.numArcs[t],clockwise:o,style:r.labelStyle}))})}if(r.sideLabels.length){if(i.state._labeledSides==null){i.state._labeledSides=_.map(r.sideLabels,function(e){return n.label([0,0],"","center",r.labelStyle)})}_.each(i.state._labeledSides,function(e,t){i.state._labelCache.push(n.labelSide({point1:a[t],point2:a[(t+1)%s],label:e,text:r.sideLabels[t],numArrows:r.numArrows[t],numTicks:r.numTicks[t],clockwise:o,style:r.labelStyle}))})}if(r.vertexLabels.length){if(i.state._labeledVertices==null){i.state._labeledVertices=_.map(r.vertexLabels,function(e){return n.label([0,0],"","center",r.labelStyle)})}_.each(i.state._labeledVertices,function(e,t){i.state._labelCache.push(n.labelVertex({point1:a[(t-1+s)%s],vertex:a[t],point3:a[(t+1)%s],label:e,text:r.vertexLabels[t],clockwise:o,style:r.labelStyle}))})}i.state._labelCache=_.flatten(i.state._labelCache)},highlight:function e(t,r){if(t.isHovering&&!r.isHovering){t.visibleShape.animate(this.highlightStyle(),50)}else if(!t.isHovering&&r.isHovering){t.visibleShape.animate(this.normalStyle(),50)}}};o.standard=[o.basic,o.labels,o.highlight];var s={basic:function e(){if(this.state.visibleShape){this.state.visibleShape.remove()}},labels:function e(){var e=[this.state._labeledSides,this.state._labeledVertices,this.state._labeledAngles,this.state._labelCache];_.each(e,function(e){if(e!=null&&e.length){_.invoke(e,"remove")}})}};s.standard=[s.basic,s.labels];var c={fixed:function e(){return function(){return false}},snap:function e(t){return function(e){if(t===null){return true}t=t||this.graphie.snap;return h.roundTo(e,t)}},bound:function e(t,c,u){if(u===undefined){if(t===undefined){u=10}else{u=0}}return function(e,t){var r=this.graphie;var n=f.subtract(e,t);var i=i||r.range;if(c===undefined){c=r.snap}var a=r.unscalePoint([u,r.ypixels-u]);var o=r.unscalePoint([r.xpixels-u,u]);if(c){a=h.ceilTo(a,c);o=h.floorTo(o,c)}var s=_.map(this.coords(),function(e,t){var r=f.subtract(o,e);var n=f.subtract(a,e);return[n,r]});var l=_.reduce(s,function(e,t){var r=t[0];var n=t[1];var i=Math.max(r[0],Math.min(n[0],e[0]));var a=Math.max(r[1],Math.min(n[1],e[1]));return[i,a]},n);return f.add(t,l)}}};c.standard=null;var u={updatePoints:function e(t,r){var n=f.subtract(t,r);_.each(this.state.points,function(e){e.setCoord(f.add(e.coord(),n))})}};u.standard=null;e.exports={add:i,modify:a,draw:o,remove:s,onMoveStart:{standard:null},constraints:c,onMove:u,onMoveEnd:{standard:null},onClick:{standard:null}}},f3EM:function(e,t,r){"use strict";var _=r("F/us");var n=r("xc4a");var i={center:null,createPath:null,mouselayer:false};var a=function e(t,r,n){n=_.extend({},i,n);_.extend(this,t.fixedPath(r,n.center,n.createPath));_.extend(this,{graphie:t,initialPoint:t.scalePoint(_.head(r))});if(n.mouselayer){this.wrapper.style.touchAction="none";this.graphie.addToMouseLayerWrapper(this.wrapper)}else{this.graphie.addToVisibleLayerWrapper(this.wrapper)}};_.extend(a.prototype,n);e.exports=a},kPsx:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("zKZe");r("5DmW");r("Rm1S");r("FZtP");var i=n(r("XDp7"));function n(e){return e&&e.__esModule?e:{default:e}}function o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){a(t,e,r[e])})}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var u=r("e2gc");var _=r("F/us");var s=r("7kT3");var l=r("bHYm");var c=r("yfnS");var h=r("Tqif"),f=h.maybeUnescape;var p=s.createClass({displayName:"MovablePoint",movableProps:["children"],_getProps:function e(){if(this.props.isMobile){var t=this.props.isMobile;var r=t?{stroke:"#ffffff","stroke-width":3,fill:c.INTERACTIVE}:{stroke:c.INTERACTIVE,fill:c.INTERACTIVE};var n=t?Object.assign(r,this.props.mobileStyleOverride||{}):Object.assign(r,this.props.normalStyle);var i=t?o({},r,{"stroke-width":0,scale:.75}):this.props.highlightStyle;var a=Object.assign({normalStyle:n,highlightStyle:i,shadow:t,tooltip:t&&this.props.showTooltips},t?{pointSize:7}:{});return Object.assign(this.props,a)}else{return this.props}},add:function e(t){this.point=l.addMovablePoint(t,this._getProps())},modify:function e(){this.point.modify(this._getProps())},remove:function e(){this.point.remove()},toFront:function e(){this.point.toFront()},grab:function e(t){this.point.grab(t)}});_.extend(p,l.MovablePoint);var d=s.createClass({displayName:"MovableLine",movableProps:["children"],add:function e(t){var r=_.pluck(this.props.children,"point");var n=_.extend({},this.props,{points:r});this.line=l.addMovableLine(t,n)},modify:function e(){var t=_.pluck(this.props.children,"point");var r=_.extend({},this.props,{points:t});this.line.modify(r)},remove:function e(){this.line.remove()},toFront:function e(){this.line.toFront()}});_.extend(d,l.MovableLine);var v=[];if(i.default.useJIPT){i.default.domInsertChecks.push(function(e,t,r){var n=u(t).data("jipt-label-movables-index");if(t&&typeof n!=="undefined"){var i=v[n],a=i.label,o=i.useMath;a.text("");e=f(e);if(o==="undefined"||o){var s=/^\$(.*)\$$/;var l=e.match(s);var c=l?l[1]:"\\color{red}{\\text{Invalid Math}}";a.processMath(c,true)}else{a.processText(e)}return false}return e})}var m=s.createSimpleClass(function(e,t){var r=t.coord;if(t.unscaled){r=e.unscalePoint(r)}var n=null;if(i.default.useJIPT){n=e.label(r,t.text,t.direction,false,t.style);u(n).data("jipt-label-movables-index",v.length);v.push({label:n,useMath:t.tex})}else{n=e.label(r,t.text,t.direction,t.tex,t.style)}return n});var g=s.createClass({displayName:"Line",movableProps:["children"],add:function e(t){var r=this.props;this.graphie=t;this.line=this.graphie.line(r.start,r.end,r.style)},modify:function e(){var t=this.props;var r=this.graphie.svgPath([t.start,t.end]);this.line.attr(_.extend({},t.style,{path:r}))},remove:function e(){this.line.remove()},toFront:function e(){this.line.toFront()}});var y=s.createClass({displayName:"Parabola",movableProps:["children"],add:function e(t){var r=this.props;this.graphie=t;this.parabola=this.graphie.parabola(r.a,r.b,r.c,r.style)},modify:function e(){var t=this.props;var r=this.graphie.svgParabolaPath(t.a,t.b,t.c);this.parabola.attr(_.extend({},t.style,{path:r}))},remove:function e(){this.parabola.remove()},toFront:function e(){this.parabola.toFront()}});var b=s.createClass({displayName:"Sinusoid",movableProps:["children"],add:function e(t){var r=this.props;this.graphie=t;this.sinusoid=this.graphie.sinusoid(r.a,r.b,r.c,r.d,r.style)},modify:function e(){var t=this.props;var r=this.graphie.svgSinusoidPath(t.a,t.b,t.c,t.d);this.sinusoid.attr(_.extend({},t.style,{path:r}))},remove:function e(){this.sinusoid.remove()},toFront:function e(){this.sinusoid.toFront()}});var w=s.createSimpleClass(function(e,t){return e.plot(t.fn,t.range,t.style)});var x=s.createSimpleClass(function(e,t){return e.plotParametric(t.fn,t.range,t.style)});var M=s.createSimpleClass(function(e,t){return e.ellipse(t.coord,e.unscaleVector([4,4]),{fill:t.color||c.BLACK,stroke:t.color||c.BLACK})});var k=s.createClass({displayName:"Path",movableProps:["children"],add:function e(t){var r=this.props;this.graphie=t;this.path=this.graphie.path(r.coords,r.style)},modify:function e(){var t=this.props;var r=this.graphie.svgPath(t.coords);this.path.attr({path:r})},remove:function e(){this.path.remove()},toFront:function e(){this.path.toFront()}});var S=s.createSimpleClass(function(e,t){var r=t.center;var n=t.radius;if(t.unscaled){r=e.unscalePoint(r);n=e.unscaleVector(n)}return e.arc(r,n,t.startAngle,t.endAngle,t.sector,t.style)});var T=s.createSimpleClass(function(e,t){return e.circle(t.center,t.radius,t.style)});var A=s.createSimpleClass(function(e,t){return e.rect(t.x,t.y,t.width,t.height,t.style)});e.exports={Arc:S,Circle:T,Label:m,Line:g,MovableLine:d,MovablePoint:p,Parabola:y,Path:k,Plot:w,PlotParametric:x,Point:M,Sinusoid:b,Rect:A}},p6EO:function(e,t,r){"use strict";r("ma9I");r("TeQF");r("4mDm");r("zKZe");r("5DmW");r("07d7");r("3bBZ");var f=i(r("q1tI"));var p=n(r("UyDz"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return d.apply(this,arguments)}var _=r("F/us");var a=r("2qRe");var v=r("d773");var o=r("p8fL");var s=r("vNny");var m=o.assert;var g=o.normalizeOptions;var y=r("eAf/").point;var b=r("eAf/").vector;var w=r("yfnS");var l=r("KmI1").processMath;var c=r("/4Qb"),x=c.iconTrash;var M=r("APgo");var k=_.keys(a);var u={coord:[0,0],pointSize:4,static:false,cursor:"move",normalStyle:null,highlightStyle:null,shadow:false,tooltip:false};var h={added:false,hasMoved:false,visibleShape:null,outOfBounds:false,mouseTarget:null,touchOffset:null};var S=[];var T=function e(t,r,n){_.extend(this,{graphie:t,movable:r,state:{id:_.uniqueId("movablePoint")}});this.modify(_.extend({},h,n))};_.extend(T,a);o.createGettersFor(T,_.extend({},u,h));o.addMovableHelperMethodsTo(T);_.extend(T.prototype,{cloneState:function e(){return _.extend(this.movable.cloneState(),this.state)},_createDefaultState:function e(){return _.extend({id:this.state.id},g(k,s.pluck(a,"standard")),u)},modify:function e(t){this.update(_.extend(this._createDefaultState(),t))},_showTooltip:function e(t){var r=this;if(!this._tooltip){this._tooltip=document.createElement("div");this._tooltip.className="tooltip-content";this.state.visibleShape.wrapper.className="tooltip";this.state.visibleShape.wrapper.appendChild(this._tooltip);S.push(function(){if(r.state.added){r._hideTooltip()}})}if(this._tooltip.firstChild){this._tooltip.removeChild(this._tooltip.firstChild)}this.state.visibleShape.wrapper.className="tooltip visible";this._tooltip.appendChild(document.createElement("span"));if(typeof t==="string"){l(this._tooltip.firstChild,t,false)}else if(typeof t==="function"){t(this._tooltip.firstChild)}else{this._tooltip.firstChild.appendChild(t)}},_hideTooltip:function e(){if(this._tooltip){this.state.visibleShape.wrapper.className="tooltip"}},update:function e(t){var s=this;var l=this;var r=l.graphie;var c=_.extend(l.state,g(k,t));m(y.is(c.coord));var n=c.static?w.DYNAMIC:w.INTERACTIVE;c.normalStyle=_.extend({fill:n,stroke:n,scale:1},c.normalStyle);c.highlightStyle=_.extend({fill:w.INTERACTING,stroke:w.INTERACTING,scale:2},c.highlightStyle);if(!c.static){if(!c.mouseTarget){var i=l.state.coord;var a=r.unscaleVector(24);var o={mouselayer:true,padding:0};c.mouseTarget=new v(r,i,a,o);c.mouseTarget.attr({fill:"#000",opacity:0})}}var u=function e(){s._showTooltip(function(e){(0,p.default)(f.createElement("span",{style:{fontSize:"2em"}},f.createElement(M,d({},x,{style:{position:"static",color:w.INTERACTIVE,marginLeft:9,marginRight:9}}))),e)})};var h=c.coord;l.movable.modify(_.extend({},c,{add:null,modify:null,draw:l.draw.bind(l),remove:null,onMoveStart:function e(t){c.hasMoved=false;h=c.coord;if(c.touchOffset==null){var r=!("ontouchstart"in window);c.touchOffset=r?[0,0]:b.subtract(h,t)}var n=c.visibleShape.wrapper;if(c.shadow){var i="none";n.style.webkitFilter=i;n.style.filter=i}if(c.showHairlines){c.showHairlines(c.coord)}S.forEach(function(e){return e()});if(c.tooltip){if(c.xOnlyTooltip){s._showTooltip("".concat(c.coord[0]))}else{s._showTooltip("(".concat(c.coord[0],", ").concat(c.coord[1],")"))}if(c.shadow){var a=n.getElementsByClassName("tooltip-content")[0];var o="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";a.style.webkitFilter=o;a.style.filter=o}}l._fireEvent(c.onMoveStart,h,h);l.draw()},onMove:function e(t,r){var n=b.add(t,c.touchOffset);l.moveTo(n);if(c.showHairlines){if(!s.state.outOfBounds){c.showHairlines(c.coord)}else{c.hideHairlines()}}if(c.tooltip){if(!s.state.outOfBounds){if(c.xOnlyTooltip){s._showTooltip("".concat(c.coord[0]))}else{s._showTooltip("(".concat(c.coord[0],", ").concat(c.coord[1],")"))}}}if(c.onRemove&&s.state.outOfBounds){u()}},onMoveEnd:function e(){if(l.isHovering()&&!c.hasMoved){l._fireEvent(c.onClick,c.coord,h)}var t=c.visibleShape.wrapper;if(c.shadow){var r="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";t.style.webkitFilter=r;t.style.filter=r}if(c.hideHairlines){c.hideHairlines()}if(c.hasMoved){s._hideTooltip()}else if(c.onRemove){u();var n=t.getElementsByClassName("tooltip-content")[0];n.style.webkitFilter="none";n.style.filter="none";s._tooltip.firstChild.addEventListener("touchstart",function(e){e.stopPropagation()},true);s._tooltip.firstChild.addEventListener("touchend",function(e){c.onRemove();e.stopPropagation()},true)}else if(c.tooltip){s._hideTooltip()}if(c.outOfBounds){c.onRemove()}l._fireEvent(c.onMoveEnd,c.coord,h);c.hasMoved=false;c.touchOffset=null;l.draw()}}));if(!c.added){l.prevState={};l._fireEvent(c.add,l.cloneState(),l.prevState);c.added=true;l.prevState=l.cloneState()}l._fireEvent(c.modify,l.cloneState(),l.prevState)},remove:function e(){this.state.added=false;this._fireEvent(this.state.remove);if(this.movable){this.movable.remove()}this.state.mouseTarget=null},constrain:function e(){var t=this._applyConstraints(this.coord(),this.coord());if(y.is(t)){this.setCoord(t)}return t!==false},setCoord:function e(t){m(y.is(t,2));this.state.coord=_.clone(t);this.draw()},setCoordConstrained:function e(t){m(y.is(t,2));var r=this._applyConstraints(t,this.coord());if(r!==false){this.state.coord=_.clone(r);this.draw()}},moveTo:function e(t){var r=this;var n=this.state;this.state.outOfBounds=false;var i=this._applyConstraints(t,n.coord,n.onRemove?{onOutOfBounds:function e(){r.state.outOfBounds=true}}:{});if(i===false){return}else if(y.is(i)){t=i}if(!y.equal(t,n.coord)){var a=n.coord;n.coord=t;n.hasMoved=true;this._fireEvent(n.onMove,n.coord,a);this.draw()}},normalStyle:function e(){return _.clone(this.state.normalStyle)},highlightStyle:function e(){return _.clone(this.state.highlightStyle)},toBack:function e(){this.movable.toBack();if(this.state.visibleShape){this.state.visibleShape.toBack()}},toFront:function e(){if(this.state.visibleShape){this.state.visibleShape.toFront()}this.movable.toFront()},isHovering:function e(){return this.movable.isHovering()},isDragging:function e(){return this.movable.isDragging()},mouseTarget:function e(){return this.movable.mouseTarget()},grab:function e(t){this.state.touchOffset=[0,0];this.movable.grab(t);this.moveTo(t)}});e.exports=T},p8fL:function(e,t,r){"use strict";r("TeQF");r("4mDm");r("07d7");r("3bBZ");var _=r("F/us");var n=r("QVWj");var i=null;function a(){var t=document.createElement("div");var e=["transform","msTransform","MozTransform","WebkitTransform","OTransform"];var r=null;_.each(e,function(e){if(typeof t.style[e]!=="undefined"){r=e}});return r}var o=null;function s(){var e=document.createElement("div");var t=l.getPrefixedTransform();e.style[t]="translateZ(0px)";return!!e.style[t]}var l={assert:function e(t,r){if(!t){throw new Error("Assertion Error"+(r?": "+r:""))}},createGettersFor:function e(t,r){_.each(_.keys(r),function(e){if(t.prototype[e]===undefined){t.prototype[e]=function(){return this.state[e]}}})},addMovableHelperMethodsTo:function e(r){_.each(n,function(e,t){if(r.prototype[t]===undefined){r.prototype[t]=e}})},arrayify:function e(t){if(t==null){return[]}else if(_.isArray(t)){return _.filter(_.flatten(t),_.identity)}else{return[t]}},normalizeOptions:function e(t,n){var i=_.clone(n);_.each(t,function(e){var t=n[e];if(t!==undefined){var r=l.arrayify(t);i[e]=r}});return i},getPrefixedTransform:function e(){i=i||a();return i},getCanUse3dTransform:function e(){if(o==null){o=s()}return o}};e.exports=l},rTmL:function(e,t,r){
/*! KAS | https://github.com/Khan/KAS */
var _,n={};if(true&&e.exports){_=r("F/us");e.exports=n}else{_=window._;window.KAS=n}(function(e){var t=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,7],r=[1,17],n=[1,13],i=[1,14],a=[1,15],o=[1,32],s=[1,22],l=[1,23],c=[1,24],u=[1,25],h=[1,26],f=[1,33],p=[1,27],d=[1,28],v=[1,29],m=[1,30],g=[1,20],y=[1,36],b=[1,37],w=[5,6,8,10,33,35,41,43,45],x=[1,39],M=[1,40],k=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],S=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],T=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46];var A={trace:function e(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function e(t,r,n,i,a,o,s){var l=o.length-1;switch(a){case 1:return new i.Eq(o[l-3],o[l-2],o[l-1]);break;case 2:return o[l-1];break;case 3:return new i.Add([]);break;case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=o[l];break;case 5:this.$=i.Add.createOrAppend(o[l-2],o[l]);break;case 6:this.$=i.Add.createOrAppend(o[l-2],i.Mul.handleNegative(o[l],"subtract"));break;case 8:this.$=i.Mul.fold(i.Mul.createOrAppend(o[l-1],o[l]));break;case 9:this.$=i.Mul.fold(i.Mul.createOrAppend(o[l-2],o[l]));break;case 10:this.$=i.Mul.fold(i.Mul.handleDivide(o[l-2],o[l]));break;case 12:this.$=i.Mul.handleNegative(o[l]);break;case 14:case 17:this.$=[t];break;case 16:this.$=o[l-2].concat(o[l]);break;case 18:this.$=i.Log.natural();break;case 19:this.$=i.Log.common();break;case 21:this.$=i.Trig.create(o[l-1],o[l]);break;case 22:this.$=i.Log.create(o[l-1],o[l]);break;case 24:this.$=new i.Pow(o[l-2],o[l]);break;case 26:case 34:this.$=t;break;case 27:this.$=new i.Var(o[l-2],o[l]);break;case 28:this.$=new i.Var(o[l]);break;case 29:this.$=new i.Const(t.toLowerCase());break;case 30:this.$=i.Int.create(Number(t));break;case 31:this.$=i.Float.create(Number(t));break;case 32:this.$=o[l-1].completeParse();break;case 33:this.$=o[l-1].completeParse().addHint("parens");break;case 35:case 36:this.$=i.Pow.sqrt(o[l-1]);break;case 37:this.$=new i.Pow.nthroot(o[l-1],o[l-4]);break;case 38:case 39:case 40:this.$=new i.Abs(o[l-1]);break;case 41:this.$=new i.Func(o[l-3],o[l-1]);break;case 44:this.$=i.Mul.handleDivide(o[l-4],o[l-1]);break}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},e([5,6],[2,4],{8:y,10:b}),e(w,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:x,14:M,16:r,19:n,21:i,22:a,28:o,29:s,30:l,31:c,32:u,34:h,37:f,39:p,42:d,44:m,46:g}),e(k,[2,11]),{10:t,11:8,13:41,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},e(k,[2,13]),{10:t,11:8,13:42,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{10:t,11:8,13:43,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},e(k,[2,23]),e(S,[2,15],{18:[1,44]}),e(S,[2,17]),e(S,[2,18]),e(S,[2,19],{23:[1,45]}),e(k,[2,25],{18:[1,46]}),e([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),e(T,[2,42]),e(T,[2,43]),{32:[1,47]},e(T,[2,28],{23:[1,48]}),e(T,[2,29]),e(T,[2,30]),e(T,[2,31]),{7:49,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:50,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:56,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{34:[1,57]},e([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{1:[2,2]},{9:59,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{9:60,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},e(k,[2,8]),{10:t,11:8,13:61,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{10:t,11:8,13:62,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},e(k,[2,12]),e(k,[2,21]),e(k,[2,22]),{10:t,11:8,13:63,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{24:64,27:21,28:o,29:s,30:l,31:c,32:u,34:h},{10:t,11:8,13:65,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:66,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{24:67,27:21,28:o,29:s,30:l,31:c,32:u,34:h},{8:y,10:b,33:[1,68]},{8:y,10:b,35:[1,69]},{7:70,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:71,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:72,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:73,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{8:y,10:b,43:[1,74]},{8:y,10:b,45:[1,75]},{7:76,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{6:[1,77]},e(w,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:x,14:M,16:r,19:n,21:i,22:a,28:o,29:s,30:l,31:c,32:u,34:h,37:f,39:p,42:d,44:m,46:g}),e(w,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:x,14:M,16:r,19:n,21:i,22:a,28:o,29:s,30:l,31:c,32:u,34:h,37:f,39:p,42:d,44:m,46:g}),e(k,[2,9]),e(k,[2,10]),e(S,[2,16]),e(S,[2,20]),e(k,[2,24]),{8:y,10:b,33:[1,78]},e(T,[2,27]),e(T,[2,32]),e(T,[2,33]),{8:y,10:b,35:[1,79]},{8:y,10:b,33:[1,80]},{8:y,10:b,41:[1,81]},{8:y,10:b,35:[1,82]},e(T,[2,39]),e(T,[2,40]),{8:y,10:b,35:[1,83]},{1:[2,1]},{32:[1,84]},e(T,[2,35]),e(T,[2,36]),{32:[1,85]},e(T,[2,38]),e(T,[2,41]),{7:86,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:87,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{8:y,10:b,33:[1,88]},{8:y,10:b,33:[1,89]},e(T,[2,44]),e(T,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function e(t,r){if(r.recoverable){this.trace(t)}else{throw new Error(t)}},parse:function e(t){var r=this,n=[0],i=[],a=[null],o=[],s=this.table,l="",c=0,u=0,h=0,f=2,p=1;var d=o.slice.call(arguments,1);var v=Object.create(this.lexer);var m={yy:{}};for(var g in this.yy){if(Object.prototype.hasOwnProperty.call(this.yy,g)){m.yy[g]=this.yy[g]}}v.setInput(t,m.yy);m.yy.lexer=v;m.yy.parser=this;if(typeof v.yylloc=="undefined"){v.yylloc={}}var y=v.yylloc;o.push(y);var b=v.options&&v.options.ranges;if(typeof m.yy.parseError==="function"){this.parseError=m.yy.parseError}else{this.parseError=Object.getPrototypeOf(this).parseError}function w(e){n.length=n.length-2*e;a.length=a.length-e;o.length=o.length-e}function x(){var e;e=v.lex()||p;if(typeof e!=="number"){e=r.symbols_[e]||e}return e}var M,k,S,T,A,P,E={},C,I,D,O;while(true){S=n[n.length-1];if(this.defaultActions[S]){T=this.defaultActions[S]}else{if(M===null||typeof M=="undefined"){M=x()}T=s[S]&&s[S][M]}if(typeof T==="undefined"||!T.length||!T[0]){var F="";O=[];for(C in s[S]){if(this.terminals_[C]&&C>f){O.push("'"+this.terminals_[C]+"'")}}if(v.showPosition){F="Parse error on line "+(c+1)+":\n"+v.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[M]||M)+"'"}else{F="Parse error on line "+(c+1)+": Unexpected "+(M==p?"end of input":"'"+(this.terminals_[M]||M)+"'")}this.parseError(F,{text:v.match,token:this.terminals_[M]||M,line:v.yylineno,loc:y,expected:O})}if(T[0]instanceof Array&&T.length>1){throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+M)}switch(T[0]){case 1:n.push(M);a.push(v.yytext);o.push(v.yylloc);n.push(T[1]);M=null;if(!k){u=v.yyleng;l=v.yytext;c=v.yylineno;y=v.yylloc;if(h>0){h--}}else{M=k;k=null}break;case 2:I=this.productions_[T[1]][1];E.$=a[a.length-I];E._$={first_line:o[o.length-(I||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(I||1)].first_column,last_column:o[o.length-1].last_column};if(b){E._$.range=[o[o.length-(I||1)].range[0],o[o.length-1].range[1]]}P=this.performAction.apply(E,[l,u,c,m.yy,T[1],a,o].concat(d));if(typeof P!=="undefined"){return P}if(I){n=n.slice(0,-1*I*2);a=a.slice(0,-1*I);o=o.slice(0,-1*I)}n.push(this.productions_[T[1]][0]);a.push(E.$);o.push(E._$);D=s[n[n.length-2]][n[n.length-1]];n.push(D);break;case 3:return true}}return true}};var P=function(){var e={EOF:1,parseError:function e(t,r){if(this.yy.parser){this.yy.parser.parseError(t,r)}else{throw new Error(t)}},setInput:function(e,t){this.yy=t||this.yy||{};this._input=e;this._more=this._backtrack=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var e=this._input[0];this.yytext+=e;this.yyleng++;this.offset++;this.match+=e;this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);if(t){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return e},unput:function(e){var t=e.length;var r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-t);this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(r.length-1){this.yylineno-=r.length-1}var i=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t};if(this.options.ranges){this.yylloc.range=[i[0],i[0]+this.yyleng-t]}this.yyleng=this.yytext.length;return this},more:function(){this._more=true;return this},reject:function(){if(this.options.backtrack_lexer){this._backtrack=true}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;if(e.length<20){e+=this._input.substr(0,20-e.length)}return(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput();var t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer){i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};if(this.options.ranges){i.yylloc.range=this.yylloc.range.slice(0)}}n=e[0].match(/(?:\r\n?|\n).*/g);if(n){this.yylineno+=n.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length};this.yytext+=e[0];this.match+=e[0];this.matches=e;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._backtrack=false;this._input=this._input.slice(e[0].length);this.matched+=e[0];r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(r){return r}else if(this._backtrack){for(var a in i){this[a]=i[a]}return false}return false},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var e,t,r,n;if(!this._more){this.yytext="";this.match=""}var i=this._currentRules();for(var a=0;a<i.length;a++){r=this._input.match(this.rules[i[a]]);if(r&&(!t||r[0].length>t[0].length)){t=r;n=a;if(this.options.backtrack_lexer){e=this.test_match(r,i[a]);if(e!==false){return e}else if(this._backtrack){t=false;continue}else{return false}}else if(!this.options.flex){break}}}if(t){e=this.test_match(t,i[n]);if(e!==false){return e}return false}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function e(){var t=this.next();if(t){return t}else{return this.lex()}},begin:function e(t){this.conditionStack.push(t)},popState:function e(){var t=this.conditionStack.length-1;if(t>0){return this.conditionStack.pop()}else{return this.conditionStack[0]}},_currentRules:function e(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}else{return this.conditions["INITIAL"].rules}},topState:function e(t){t=this.conditionStack.length-1-Math.abs(t||0);if(t>=0){return this.conditionStack[t]}else{return"INITIAL"}},pushState:function e(t){this.begin(t)},stateStackSize:function e(){return this.conditionStack.length},options:{flex:true},performAction:function e(t,r,n,i){var a=i;switch(n){case 0:break;case 1:break;case 2:break;case 3:return"INT";break;case 4:return"FLOAT";break;case 5:return"^";break;case 6:return"*";break;case 7:return"*";break;case 8:return"*";break;case 9:return"*";break;case 10:return"/";break;case 11:return"/";break;case 12:return"-";break;case 13:return"-";break;case 14:return"+";break;case 15:return"^";break;case 16:return"(";break;case 17:return")";break;case 18:return"(";break;case 19:return")";break;case 20:return"[";break;case 21:return"]";break;case 22:return"{";break;case 23:return"}";break;case 24:return"{";break;case 25:return"}";break;case 26:return"_";break;case 27:return"|";break;case 28:return"LEFT|";break;case 29:return"RIGHT|";break;case 30:return"!";break;case 31:return"SIGN";break;case 32:r.yytext="<=";return"SIGN";break;case 33:r.yytext=">=";return"SIGN";break;case 34:r.yytext="<=";return"SIGN";break;case 35:r.yytext=">=";return"SIGN";break;case 36:r.yytext="<>";return"SIGN";break;case 37:r.yytext="<>";return"SIGN";break;case 38:r.yytext="<>";return"SIGN";break;case 39:r.yytext="<>";return"SIGN";break;case 40:r.yytext="<=";return"SIGN";break;case 41:r.yytext=">=";return"SIGN";break;case 42:return"FRAC";break;case 43:return"FRAC";break;case 44:return"sqrt";break;case 45:return"abs";break;case 46:return"ln";break;case 47:return"log";break;case 48:return"TRIG";break;case 49:return"TRIG";break;case 50:return"TRIG";break;case 51:return"TRIG";break;case 52:r.yytext="sin";return"TRIG";break;case 53:r.yytext="cos";return"TRIG";break;case 54:r.yytext="tan";return"TRIG";break;case 55:r.yytext="csc";return"TRIG";break;case 56:r.yytext="sec";return"TRIG";break;case 57:r.yytext="cot";return"TRIG";break;case 58:r.yytext="arcsin";return"TRIG";break;case 59:r.yytext="arccos";return"TRIG";break;case 60:r.yytext="arctan";return"TRIG";break;case 61:r.yytext="arccsc";return"TRIG";break;case 62:r.yytext="arcsec";return"TRIG";break;case 63:r.yytext="arccot";return"TRIG";break;case 64:return"TRIGINV";break;case 65:return"TRIGINV";break;case 66:r.yytext="sinh";return"TRIG";break;case 67:r.yytext="cosh";return"TRIG";break;case 68:r.yytext="tanh";return"TRIG";break;case 69:r.yytext="csch";return"TRIG";break;case 70:r.yytext="sech";return"TRIG";break;case 71:r.yytext="tanh";return"TRIG";break;case 72:return"CONST";break;case 73:r.yytext="pi";return"CONST";break;case 74:r.yytext="pi";return"CONST";break;case 75:return"VAR";break;case 76:r.yytext="theta";return"VAR";break;case 77:r.yytext="theta";return"VAR";break;case 78:return"VAR";break;case 79:r.yytext="phi";return"VAR";break;case 80:r.yytext="phi";return"VAR";break;case 81:return t.symbolLexer(r.yytext);break;case 82:return"EOF";break;case 83:return"INVALID";break;case 84:console.log(r.yytext);break}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|·)/,/^(?:\\times|×)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|÷)/,/^(?:-)/,/^(?:−)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:≠)/,/^(?:≤)/,/^(?:≥)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:π)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:θ)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:φ)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:true}}};return e}();A.lexer=P;function E(){this.yy={}}E.prototype=A;A.Parser=E;return new E}();e.parser=t})(n);(function(e){var t=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,11],r=[1,9],n=[8,17],i=[6,11],a=[6,11,13,17];var o={trace:function e(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function e(t,r,n,i,a,o,s){var l=o.length-1;switch(a){case 1:return{type:"unitMagnitude",magnitude:o[l-2],unit:o[l-1]};break;case 2:return{type:"unitStandalone",unit:o[l-1]};break;case 3:this.$=o[l-2]+"e"+o[l];break;case 4:case 13:case 14:case 15:case 17:this.$=o[l];break;case 5:this.$={num:o[l-2],denom:o[l]};break;case 6:this.$={num:o[l],denom:null};break;case 7:this.$=[o[l-2]].concat(o[l]);break;case 8:this.$=[o[l-1]].concat(o[l]);break;case 9:this.$=[o[l]];break;case 10:this.$={name:o[l-2],pow:o[l]};break;case 11:this.$={name:o[l],pow:1};break;case 12:this.$=t;break;case 16:this.$="-"+o[l];break}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:t,18:[1,6],19:r},{1:[3]},{5:12,10:5,12:8,14:10,17:t},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},e(n,[2,13]),e(n,[2,14]),e(i,[2,9],{12:8,14:10,10:17,13:[1,16],17:t}),e([6,8,11,13,17],[2,15]),e(a,[2,11],{15:[1,18]}),e([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:t},{10:24,12:8,14:10,17:t},e(i,[2,8]),{16:25,19:r},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},e(i,[2,7]),e(a,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function e(t,r){if(r.recoverable){this.trace(t)}else{throw new Error(t)}},parse:function e(t){var r=this,n=[0],i=[],a=[null],o=[],s=this.table,l="",c=0,u=0,h=0,f=2,p=1;var d=o.slice.call(arguments,1);var v=Object.create(this.lexer);var m={yy:{}};for(var g in this.yy){if(Object.prototype.hasOwnProperty.call(this.yy,g)){m.yy[g]=this.yy[g]}}v.setInput(t,m.yy);m.yy.lexer=v;m.yy.parser=this;if(typeof v.yylloc=="undefined"){v.yylloc={}}var y=v.yylloc;o.push(y);var b=v.options&&v.options.ranges;if(typeof m.yy.parseError==="function"){this.parseError=m.yy.parseError}else{this.parseError=Object.getPrototypeOf(this).parseError}function w(e){n.length=n.length-2*e;a.length=a.length-e;o.length=o.length-e}function x(){var e;e=v.lex()||p;if(typeof e!=="number"){e=r.symbols_[e]||e}return e}var M,k,S,T,A,P,E={},C,I,D,O;while(true){S=n[n.length-1];if(this.defaultActions[S]){T=this.defaultActions[S]}else{if(M===null||typeof M=="undefined"){M=x()}T=s[S]&&s[S][M]}if(typeof T==="undefined"||!T.length||!T[0]){var F="";O=[];for(C in s[S]){if(this.terminals_[C]&&C>f){O.push("'"+this.terminals_[C]+"'")}}if(v.showPosition){F="Parse error on line "+(c+1)+":\n"+v.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[M]||M)+"'"}else{F="Parse error on line "+(c+1)+": Unexpected "+(M==p?"end of input":"'"+(this.terminals_[M]||M)+"'")}this.parseError(F,{text:v.match,token:this.terminals_[M]||M,line:v.yylineno,loc:y,expected:O})}if(T[0]instanceof Array&&T.length>1){throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+M)}switch(T[0]){case 1:n.push(M);a.push(v.yytext);o.push(v.yylloc);n.push(T[1]);M=null;if(!k){u=v.yyleng;l=v.yytext;c=v.yylineno;y=v.yylloc;if(h>0){h--}}else{M=k;k=null}break;case 2:I=this.productions_[T[1]][1];E.$=a[a.length-I];E._$={first_line:o[o.length-(I||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(I||1)].first_column,last_column:o[o.length-1].last_column};if(b){E._$.range=[o[o.length-(I||1)].range[0],o[o.length-1].range[1]]}P=this.performAction.apply(E,[l,u,c,m.yy,T[1],a,o].concat(d));if(typeof P!=="undefined"){return P}if(I){n=n.slice(0,-1*I*2);a=a.slice(0,-1*I);o=o.slice(0,-1*I)}n.push(this.productions_[T[1]][0]);a.push(E.$);o.push(E._$);D=s[n[n.length-2]][n[n.length-1]];n.push(D);break;case 3:return true}}return true}};var s=function(){var e={EOF:1,parseError:function e(t,r){if(this.yy.parser){this.yy.parser.parseError(t,r)}else{throw new Error(t)}},setInput:function(e,t){this.yy=t||this.yy||{};this._input=e;this._more=this._backtrack=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var e=this._input[0];this.yytext+=e;this.yyleng++;this.offset++;this.match+=e;this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);if(t){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return e},unput:function(e){var t=e.length;var r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-t);this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(r.length-1){this.yylineno-=r.length-1}var i=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t};if(this.options.ranges){this.yylloc.range=[i[0],i[0]+this.yyleng-t]}this.yyleng=this.yytext.length;return this},more:function(){this._more=true;return this},reject:function(){if(this.options.backtrack_lexer){this._backtrack=true}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;if(e.length<20){e+=this._input.substr(0,20-e.length)}return(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput();var t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer){i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};if(this.options.ranges){i.yylloc.range=this.yylloc.range.slice(0)}}n=e[0].match(/(?:\r\n?|\n).*/g);if(n){this.yylineno+=n.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length};this.yytext+=e[0];this.match+=e[0];this.matches=e;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._backtrack=false;this._input=this._input.slice(e[0].length);this.matched+=e[0];r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(r){return r}else if(this._backtrack){for(var a in i){this[a]=i[a]}return false}return false},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var e,t,r,n;if(!this._more){this.yytext="";this.match=""}var i=this._currentRules();for(var a=0;a<i.length;a++){r=this._input.match(this.rules[i[a]]);if(r&&(!t||r[0].length>t[0].length)){t=r;n=a;if(this.options.backtrack_lexer){e=this.test_match(r,i[a]);if(e!==false){return e}else if(this._backtrack){t=false;continue}else{return false}}else if(!this.options.flex){break}}}if(t){e=this.test_match(t,i[n]);if(e!==false){return e}return false}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function e(){var t=this.next();if(t){return t}else{return this.lex()}},begin:function e(t){this.conditionStack.push(t)},popState:function e(){var t=this.conditionStack.length-1;if(t>0){return this.conditionStack.pop()}else{return this.conditionStack[0]}},_currentRules:function e(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}else{return this.conditions["INITIAL"].rules}},topState:function e(t){t=this.conditionStack.length-1-Math.abs(t||0);if(t>=0){return this.conditionStack[t]}else{return"INITIAL"}},pushState:function e(t){this.begin(t)},stateStackSize:function e(){return this.conditionStack.length},options:{},performAction:function e(t,r,n,i){var a=i;switch(n){case 0:return 11;break;case 1:return"(";break;case 2:return")";break;case 3:return 8;break;case 4:return 15;break;case 5:return 13;break;case 6:return 18;break;case 7:return 19;break;case 8:return 20;break;case 9:return 17;break;case 10:return 17;break;case 11:return 17;break;case 12:break;case 13:return 6;break}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:true}}};return e}();o.lexer=s;function l(){this.yy={}}l.prototype=o;o.Parser=l;return new l}();e.unitParser=t})(n);(function(l){var e=function(){throw new Error("Abstract method - must override for expr: "+this.print())};var r=function(e){throw new Error(e)};var v=function(e){return e!==e};var m=function(e,t){var r=t-e;return Math.random()*r+e};var g=12;var y=9;function a(){}_.extend(a.prototype,{func:e,args:e,construct:function(e){var t=new this.func;this.func.apply(t,e);return t},recurse:function(t){var r=Array.prototype.slice.call(arguments,1);var e=_.map(this.args(),function(e){return _.isString(e)?e:e[t].apply(e,r)});return this.construct(e)},eval:e,codegen:e,compile:function(){var t=this.codegen();try{return new Function("vars","return "+t+";")}catch(e){throw new Error("Function did not compile: "+t)}},print:e,tex:e,asTex:function(e){e=e||{};_.defaults(e,{display:true,dynamic:true,times:false});var t=this.tex();if(e.display){t="\\displaystyle "+t}if(e.dynamic){t=t.replace(/\(/g,"\\left(");t=t.replace(/\)/g,"\\right)")}if(e.times){t=t.replace(/\\cdot/g,"\\times")}return t},name:function(){if(this.func.name){return this.func.name}else{return this.func.toString().match(/^function\s*([^\s(]+)/)[1]}},repr:function(){return this.name()+"("+_.map(this.args(),function(e){return _.isString(e)?e:e.repr()}).join(",")+")"},strip:function(){return this.recurse("strip")},normalize:function(){return this.recurse("normalize")},expand:function(){return this.recurse("expand")},factor:function(e){return this.recurse("factor",e)},collect:function(e){return this.recurse("collect",e)},equals:function(e){return this.normalize().print()===e.normalize().print()},simplify:function(e){e=_.extend({once:false},e);var t=this.factor(e);var r=t.collect(e);if(t.equals(r)){r=this.collect(e)}var n=r.expand(e);var i=n.collect(e);if(n.equals(i)){i=r.collect(e)}var a=i;if(e.once||this.equals(a)){return a}else{return a.simplify(e)}},isSimplified:function(){return this.equals(this.simplify())},exprArgs:function(){return _.filter(this.args(),function(e){return e instanceof a})},getVars:function(e){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getVars",e))).sort()},getConsts:function(){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getConsts"))).sort()},getUnits:function(){return _.flatten(_.invoke(this.exprArgs(),"getUnits"))},is:function(e){return this instanceof e},has:function(t){if(this instanceof t){return true}return _.any(this.exprArgs(),function(e){return e.has(t)})},raiseToThe:function(e){return new x(this,e)},isSubtract:function(){return false},isDivide:function(){return false},isRoot:function(){return false},needsExplicitMul:function(){return this.args()[0].needsExplicitMul()},sameVars:function(e){var t=this.getVars();var r=e.getVars();var n=function(e,t){return!_.difference(e,t).length};var i=function(e){return _.uniq(_.invoke(e,"toLowerCase")).sort()};var a=n(t,r);var o=n(i(t),i(r));return{equal:a,equalIgnoringCase:o}},compare:function(e){if(e instanceof M){return false}var t=_.union(this.getVars(true),e.getVars(true));var n=function(e,t){if(Math.abs(e)<1||Math.abs(t)<1){return Math.abs(e-t)}else{return Math.abs(1-e/t)}};var r=function(e,t){var r=n(e,t);return e===t||v(e)&&v(t)||r<Math.pow(10,-y)};if(!t.length&&!this.has(P)&&!e.has(P)){return r(this.eval(),e.eval())}var i=this.collect();var a=e.collect();var o=this.getUnits();var s=e.getUnits();if(!_.isEqual(o,s)){return false}for(var l=0;l<g;l++){var c={};var u=Math.pow(10,1+Math.floor(3*l/g));var h=l%2===0;_.each(t,function(e){c[e]=h?m(-u,u):_.random(-u,u)});var f;if(i.has(k)||a.has(k)||i.has(P)||a.has(P)){var p=i.partialEval(c);var d=a.partialEval(c);f=p.simplify().equals(d.simplify())}else{var p=i.eval(c);var d=a.eval(c);f=r(p,d)}if(!f){return false}}return true},partialEval:function(e){if(this instanceof P){return this}else if(!this.has(k)){return new f(this.eval(e).toFixed(y)).collect()}else if(this instanceof k){return new k(this.symbol,this.arg.partialEval(e))}else{return this.recurse("partialEval",e)}},sameForm:function(e){return this.strip().equals(e.strip())},findGCD:function(e){return this.equals(e)?e:S.One},getDenominator:function(){return S.One},asMul:function(){return new w(S.One,this)},isPositive:e,isNegative:function(){return false},asPositiveFactor:function(){return this.isPositive()?this:S.One},addHint:function(e){if(!e){return this}var t=this.construct(this.args());t.hints=_.clone(this.hints);t.hints[e]=true;return t},hints:{parens:false},asExpr:function(){return this},completeParse:function(){return this.recurse("completeParse")},abs:e,negate:function(){return new w(S.Neg,this)}});function n(){}n.prototype=new a;_.extend(n.prototype,{args:function(){return this.terms},normalize:function(){var e=_.sortBy(_.invoke(this.terms,"normalize"),function(e){return e.print()});return new this.func(e)},expand:function(){return this.recurse("expand").flatten()},partition:function(){var e=_.groupBy(this.terms,function(e){return e instanceof S});var t=e[true]||[];var r=e[false]||[];return[new this.func(t),new this.func(r)]},flatten:function(){var t=this;var e=_.reject(this.terms,function(e){return e.equals(t.identity)});if(e.length===0){return t.identity}if(e.length===1){return e[0]}var r=_.groupBy(e,function(e){return e instanceof t.func});var n=r[true]||[];var i=r[false]||[];var a=i.concat(_.flatten(_.pluck(n,"terms"),true));return new t.func(a)},identity:undefined,reduce:e,isPositive:function(){var e=_.invoke(this.terms,"collect");return _.all(_.invoke(e,"isPositive"))},replace:function(e,t){var r;if(e instanceof a){r=_.indexOf(this.terms,e)}else{r=e}var n=[];if(_.isArray(t)){n=t}else if(t){n=[t]}var i=this.terms.slice(0,r).concat(n).concat(this.terms.slice(r+1));return new this.func(i)},remove:function(e){return this.replace(e)},getDenominator:function(){return new w(_.invoke(this.terms,"getDenominator")).flatten()}});function b(){if(arguments.length===1){this.terms=arguments[0]}else{this.terms=_.toArray(arguments)}}b.prototype=new n;_.extend(b.prototype,{func:b,eval:function(r,n){return _.reduce(this.terms,function(e,t){return e+t.eval(r,n)},0)},codegen:function(){return _.map(this.terms,function(e){return"("+e.codegen()+")"}).join(" + ")||"0"},print:function(){return _.invoke(this.terms,"print").join("+")},tex:function(){var t="";_.each(this.terms,function(e){if(!t||e.isSubtract()){t+=e.tex()}else{t+="+"+e.tex()}});return t},collect:function(i){var e=_.invoke(this.terms,"collect",i);var r=[];_.each(e,function(e){if(e instanceof w){var t=e.partition();r.push([t[1].flatten(),t[0].reduce(i)])}else if(e instanceof S){r.push([S.One,e])}else{r.push([e,S.One])}});var t=_.groupBy(r,function(e){return e[0].normalize().print()});var n=_.compact(_.map(t,function(e){var t=e[0][0];var r=new b(_.zip.apply(_,e)[1]);var n=r.reduce(i);return new w(n,t).collect(i)}));return new b(n).flatten()},factor:function(e){e=_.extend({keepNegative:false},e);var t=_.invoke(this.terms,"collect");var r;if(t[0]instanceof w){r=t[0].terms}else{r=[t[0]]}_.each(_.rest(this.terms),function(t){r=_.map(r,function(e){return t.findGCD(e)})});if(!e.keepNegative&&this.isNegative()){r.push(S.Neg)}r=new w(r).flatten().collect();var n=_.map(t,function(e){return w.handleDivide(e,r).simplify()});n=new b(n).flatten();return w.createOrAppend(r,n).flatten()},reduce:function(r){return _.reduce(this.terms,function(e,t){return e.add(t,r)},this.identity)},needsExplicitMul:function(){return false},isNegative:function(){var e=_.invoke(this.terms,"collect");return _.all(_.invoke(e,"isNegative"))},negate:function(){return new b(_.invoke(this.terms,"negate"))}});function w(){if(arguments.length===1){this.terms=arguments[0]}else{this.terms=_.toArray(arguments)}}w.prototype=new n;_.extend(w.prototype,{func:w,eval:function(r,n){return _.reduce(this.terms,function(e,t){return e*t.eval(r,n)},1)},codegen:function(){return _.map(this.terms,function(e){return"("+e.codegen()+")"}).join(" * ")||"0"},print:function(){return _.map(this.terms,function(e){return e instanceof b?"("+e.print()+")":e.print()}).join("*")},getUnits:function(){var e=_(this.terms).chain().map(function(e){return e.getUnits()}).flatten().value();e.sort(function(e,t){return e.unit<t.unit});return e},tex:function(){var t=" \\cdot ";var e=_.groupBy(this.terms,function(e){if(e.isDivide()){return"inverse"}else if(e instanceof S){return"number"}else{return"other"}});var i=e.inverse||[];var r=e.number||[];var n=e.other||[];var a="";var o;for(var s=0;s<r.length;s++){var l=r[s]instanceof T&&!(r[s]instanceof A);if(l&&n.length>0&&i.length>0){var c=r.slice();c.splice(s,1);var u=c.concat(i).concat(n);return r[s].tex()+new w(u).tex()}}r=_.compact(_.map(r,function(e){var t=e instanceof T&&!(e instanceof A);var r=!e.hints.fraction||i.length>0;if(t&&r){i.push(new x(new A(e.d),S.Div));var n=new A(e.n);n.hints=e.hints;return _.any(e.hints)?n:null}else{return e}}));if(r.length===0&&n.length===1){o=n[0].tex()}else{var h="";_.each(r,function(e){if(e.hints.subtract&&e.hints.entered){a+="-";h+=(h?t:"")+e.abs().tex()}else if(e instanceof A&&e.n===-1&&(e.hints.negate||e.hints.subtract)){a+="-"}else{h+=(h?t:"")+e.tex()}});_.each(n,function(e){if(e.needsExplicitMul()){h+=(h?t:"")+e.tex()}else if(e instanceof b){h+="("+e.tex()+")"}else{h+=e.tex()}});o=h?h:"1"}if(!i.length){return a+o}else{var f=new w(_.invoke(i,"asDivide")).flatten().tex();return a+"\\frac{"+o+"}{"+f+"}"}},strip:function(){var e=_.map(this.terms,function(e){return e instanceof S?e.abs():e.strip()});return new w(e).flatten()},expand:function(){var t=function(e){return e instanceof b};var r=function(e){return e instanceof x&&e.exp.isNegative()};var e=function(e){return r(e)&&t(e.base)};var n=this.recurse("expand").flatten();var i=_.any(n.terms,t);var a=_.any(n.terms,e);if(!(i||a)){return n}var o=_.groupBy(n.terms,r);var s=o[false]||[];var l=o[true]||[];if(i){var c=_.groupBy(s,t);var u=c[true]||[];var h=c[false]||[];var f=_.reduce(u,function(e,r){return _.reduce(e,function(e,t){return e.concat(_.map(r.terms,function(e){return t.concat(e)}))},[])},[[]]);var p=_.map(f,function(e){return new w(h.concat(e)).flatten()});s=[new b(p)]}if(a){var d=new w(_.invoke(l,"getDenominator")).flatten();l=[new x(d.expand(),S.Div)]}return new w(s.concat(l)).flatten()},factor:function(e){var t=this.recurse("factor",e).flatten();if(!(t instanceof w)){return t}var r=_.groupBy(t.terms,function(e){return e instanceof T});var n=_.reduce(r[true],function(e,t){return{n:e.n*t.n,d:e.d*t.d}},{n:1,d:1});if(n.d===1){n=new A(n.n)}else{n=new T(n.n,n.d)}return new w((r[false]||[]).concat(n)).flatten()},collect:function(i){var e=this.recurse("collect",i).partition();var t=e[0].reduce(i);if(t.eval()===0){return S.Zero}var r=e[1].flatten();if(!(r instanceof w)){return new w(t,r).flatten()}r=r.terms;var n=[];_.each(r,function(e){if(e instanceof x){n.push([e.base,e.exp])}else{n.push([e,S.One])}});var a=_.groupBy(n,function(e){return e[0].normalize().print()});var o=_.compact(_.map(a,function(e){var t=e[0][0];var r=new b(_.zip.apply(_,e)[1]);var n=r.collect(i);if(n instanceof S&&n.eval()===0){return null}else{return[t,n]}}));var n=_.groupBy(o,function(e){if(e[0]instanceof d&&e[0].isBasic()){return"trig"}else if(e[0]instanceof p){return"log"}else{return"expr"}});var s=n.trig||[];var l=n.log||[];var c=n.expr||[];if(s.length>1){var u=_.groupBy(s,function(e){return e[0].arg.normalize().print()});s=[];_.each(u,function(e){var r=e[0][0].arg;var t={sin:S.Zero,cos:S.Zero};_.each(e,function(e){t[e[0].type]=e[1]});if(w.handleNegative(t.sin).collect(i).equals(t.cos)){if(t.cos.isNegative()){t={tan:t.sin}}else{t={cot:t.cos}}}_.each(t,function(e,t){s.push([new d(t,r),e])})})}if(l.length>1){var h=_.groupBy(l,function(e){return e[0].base.normalize().print()});l=[];_.each(h,function(e){if(e.length===2&&w.handleNegative(e[0][1]).collect(i).equals(e[1][1])){if(e[0][1].isNegative()){l.push([new p(e[0][0].power,e[1][0].power),e[1][1]])}else{l.push([new p(e[1][0].power,e[0][0].power),e[0][1]])}}else{l=l.concat(e)}})}n=s.concat(l).concat(c);var f=_.map(n,function(e){return new x(e[0],e[1]).collect(i)});return new w([t].concat(f)).flatten()},isSubtract:function(){return _.any(this.terms,function(e){return e instanceof S&&e.hints.subtract})},factorIn:function(e){var t=this.partition();var r=t[0].terms;var n=r.length&&_.all(r,function(e){return e.n>0});if(n){var i=r[0].negate();i.hints=r[0].hints;return this.replace(r[0],i.addHint(e))}else{return new w([S.negativeOne(e)].concat(this.terms))}},factorOut:function(){var n=false;var e=_.compact(_.map(this.terms,function(e,t,r){if(!n&&e instanceof S&&e.hints.divide){n=true;return e.n!==-1?e.negate():null}else{return e}}));if(e.length===1){return e[0]}else{return new w(e)}},reduce:function(r){return _.reduce(this.terms,function(e,t){return e.mul(t,r)},this.identity)},findGCD:function(e){return new w(_.invoke(this.terms,"findGCD",e)).flatten()},asMul:function(){return this},asPositiveFactor:function(){if(this.isPositive()){return this}else{var e=_.invoke(this.collect().terms,"asPositiveFactor");return new w(e).flatten()}},isNegative:function(){return _.any(_.invoke(this.collect().terms,"isNegative"))},fold:function(){return w.fold(this)},negate:function(){var e=function(e){return e instanceof S};if(_.any(this.terms,e)){var t=_.find(this.terms,e);return this.replace(t,t.negate())}else{return new w([S.Neg].concat(this.terms))}}});_.each([b,w],function(r){_.extend(r,{createOrAppend:function(e,t){if(e instanceof r){return new r(e.terms.concat(t))}else{return new r(e,t)}}})});_.extend(w,{handleNegative:function(e,t){if(e instanceof S&&e.n>0){var r=e.negate();r.hints=e.hints;return r.addHint(t)}else if(e instanceof w){return e.factorIn(t)}else{return new w(S.negativeOne(t),e)}},handleDivide:function(e,t){if(t instanceof w){var r=w.handleDivide(e,t.terms[0]);var n=new w(_.rest(t.terms)).flatten();return w.handleDivide(r,n)}var i=function(e){return e instanceof A};var a=function(e){return e instanceof T};if(i(t)&&e instanceof w&&_.any(e.terms,i)){var o=e.terms.slice().reverse();var s=_.find(o,a);if(!i(s)){return new w(e.terms.concat([new T(1,t.n).addHint("fraction")]))}var l=new T(s.n,t.n);l.hints=s.hints;if(s===o[0]){l=l.addHint("fraction")}var c;if(s.n<0&&t.n<0){l.d=-l.d;return e.replace(s,[S.Neg,l])}else{return e.replace(s,l)}}var u=function(e,t){if(t instanceof A){if(e instanceof A){if(e.n<0&&t.n<0){return[S.Neg,new T(e.n,-t.n).addHint("fraction")]}else{return[new T(e.n,t.n).addHint("fraction")]}}else{var r=new T(1,t.eval());if(t.eval()<0){return[e,r.addHint("negate")]}else{return[e,r]}}}else{var n;if(t instanceof d&&t.exp){var i=t.exp;t.exp=undefined;t=new x(t,i)}if(t instanceof x){n=new x(t.base,w.handleNegative(t.exp,"divide"))}else{n=new x(t,S.Div)}if(e instanceof A&&e.n===1){return[n]}else{return[e,n]}}};if(e instanceof w){var h=u(_.last(e.terms),t);return new w(_.initial(e.terms).concat(h))}else{var h=u(e,t);return new w(h).flatten()}},fold:function(e){if(e instanceof w){var t=_.find(_.initial(e.terms),function(e){return(e instanceof d||e instanceof p)&&e.hints.open});var r=_.indexOf(e.terms,t);if(t){var n=_.last(e.terms);if(t.hints.parens||n.hints.parens||n.has(d)||n.has(p)){t.hints.open=false}else{var i;if(t instanceof d){i=d.create([t.type,t.exp],w.createOrAppend(t.arg,n).fold())}else{i=p.create(t.base,w.createOrAppend(t.power,n).fold())}if(r===0){return i}else{return new w(e.terms.slice(0,r).concat(i)).fold()}}}var a=e.partition();var o=a[0].terms;var s=function(e){return e.n>0};var l=function(e){return e.n===-1&&e.hints.negate};var c=function(e){return s(e)||l(e)};if(o.length>1&&_.some(o,l)&&_.some(o,s)&&_.every(o,c)){var u=_.indexOf(e.terms,_.find(e.terms,l));var h=_.indexOf(e.terms,_.find(e.terms,s));if(u<h){return e.replace(h,e.terms[h].negate()).remove(u)}}}return e}});function x(e,t){this.base=e;this.exp=t}x.prototype=new a;_.extend(x.prototype,{func:x,args:function(){return[this.base,this.exp]},eval:function(e,t){var r=this.base.eval(e,t);var n=this.exp.eval(e,t);if(r<0){var i=this.exp.simplify();if(i instanceof f){var a=i.n;var o=(a-a.toFixed()).toString().length-2;var s=Math.pow(10,o);var l=new T(a*s,s);i=l.simplify()}if(i instanceof T){var c=Math.abs(i.d)%2===1;if(c){var u=Math.abs(i.n)%2===1;var h=u?-1:1;return h*Math.pow(-1*r,n)}}}return Math.pow(r,n)},getUnits:function(){return this.base.getUnits().map(function(e){return{unit:e.unit,pow:e.pow*this.exp.n}}.bind(this))},codegen:function(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"},print:function(){var e=this.base.print();if(this.base instanceof n||this.base instanceof x){e="("+e+")"}return e+"^("+this.exp.print()+")"},tex:function(){if(this.isDivide()){return"\\frac{1}{"+this.asDivide().tex()+"}"}else if(this.isRoot()){if(this.exp.n!==1){r("Node marked with hint 'root' does not have exponent "+"of form 1/x.")}if(this.exp.d===2){return"\\sqrt{"+this.base.tex()+"}"}else{return"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}"}}else if(this.base instanceof d&&!this.base.isInverse()&&this.exp instanceof S&&this.exp.isSimple()&&this.exp.eval()>=0){var e=this.base.tex({split:true});return e[0]+"^{"+this.exp.tex()+"}"+e[1]}else{var t=this.base.tex();if(this.base instanceof n||this.base instanceof x||this.base instanceof S&&!this.base.isSimple()){t="("+t+")"}else if(this.base instanceof d||this.base instanceof p){t="["+t+"]"}return t+"^{"+this.exp.tex()+"}"}},needsExplicitMul:function(){return this.isRoot()?false:this.base.needsExplicitMul()},expand:function(){var t=this.recurse("expand");if(t.base instanceof w){var e=_.map(t.base.terms,function(e){return new x(e,t.exp)});return new w(e).expand()}else if(t.base instanceof b&&t.exp instanceof A&&t.exp.abs().eval()>1){var r=t.exp.eval()>0;var n=t.exp.abs().eval();var i=function(e){return r?e:new x(e,S.Div)};var a={1:t.base};for(var o=2;o<=n;o*=2){var s=new w(a[o/2],a[o/2]);a[o]=s.expand().collect()}if(_.has(a,n)){return i(a[n])}var l=_.map(n.toString(2).split(""),function(e,t,r){return Number(e)*Math.pow(2,r.length-t-1)});l=_.without(l,0);var s=new w(_.pick(a,l)).expand().collect();return i(s)}else if(t.exp instanceof b){var e=_.map(t.exp.terms,function(e){return new x(t.base,e).expand()});return new w(e).expand()}else{return t}},factor:function(){var t=this.recurse("factor");if(t.base instanceof w){var e=_.map(t.base.terms,function(e){if(e instanceof A&&t.exp.equals(S.Div)){return new T(1,e.n)}else{return new x(e,t.exp)}});return new w(e)}else{return t}},collect:function(e){if(this.base instanceof x){var t=this.base.base;var r=w.createOrAppend(this.base.exp,this.exp);return new x(t,r).collect(e)}var n=this.recurse("collect",e);var i=function(e){return e instanceof p&&e.base.equals(n.base)};if(n.exp instanceof S&&n.exp.eval()===0){return S.One}else if(n.exp instanceof S&&n.exp.eval()===1){return n.base}else if(i(n.exp)){return n.exp.power}else if(n.exp instanceof w&&_.any(n.exp.terms,i)){var a=_.find(n.exp.terms,i);var t=a.power;var r=n.exp.remove(a).flatten();return new x(t,r).collect(e)}else if(n.base instanceof S&&n.exp instanceof S){if(e&&e.preciseFloats){var r=n.exp.asRational();var o=n.base.getDecimalPlaces();var s=new x(n.base,new T(1,r.d));var l=s.collect().getDecimalPlaces();if(l>o){var c=new x(n.base,new A(r.n)).collect();return new x(c,new T(1,r.d))}}return n.base.raiseToThe(n.exp,e)}else{return n}},isDivide:function(){var e=function(e){return e instanceof S&&e.hints.divide};return e(this.exp)||this.exp instanceof w&&_.any(this.exp.terms,e)},asDivide:function(){if(this.exp instanceof S){if(this.exp.eval()===-1){return this.base}else{var e=this.exp.negate();e.hints=_.clone(this.exp.hints);e.hints.divide=false;return new x(this.base,e)}}else if(this.exp instanceof w){return new x(this.base,this.exp.factorOut())}else{r("called asDivide() on an Expr that wasn't a Num or Mul")}},isRoot:function(){return this.exp instanceof T&&this.exp.hints.root},isSquaredTrig:function(){return this.base instanceof d&&!this.base.isInverse()&&this.exp instanceof S&&this.exp.eval()===2},getDenominator:function(){if(this.exp instanceof S&&this.exp.eval()===-1){return w.createOrAppend(this.base,this.base.getDenominator()).flatten()}else if(this.exp.isNegative()){var e=new x(this.base,w.handleNegative(this.exp).collect());return w.createOrAppend(e,e.collect().getDenominator()).flatten()}else if(this.base instanceof S){return new x(this.base.getDenominator(),this.exp).collect()}else{return S.One}},findGCD:function(e){var t,r;if(e instanceof x){t=e.base;r=e.exp}else{t=e;r=S.One}if(this.base.equals(t)){if(this.exp.equals(r)){return this}else if(this.exp instanceof S&&r instanceof S){return new x(this.base,S.min(this.exp,r)).collect()}else if(this.exp instanceof S||r instanceof S){return S.One}var n=this.exp.asMul().partition();var i=r.asMul().partition();if(n[1].equals(i[1])){var a=S.min(n[0].reduce(),i[0].reduce());var o=new w(a,n[1].flatten()).flatten();return new x(t,o).collect()}}return S.One},isPositive:function(){if(this.base.isPositive()){return true}var e=this.exp.simplify();return e instanceof A&&e.eval()%2===0},asPositiveFactor:function(){if(this.isPositive()){return this}else{var e=this.exp.simplify();if(e instanceof A){var t=e.eval();if(t>2){return new x(this.base,new A(t-1))}else if(t<-2){return new x(this.base,new A(t+1))}}return S.One}}});_.extend(x,{sqrt:function(e){return new x(e,S.Sqrt)},nthroot:function(e,t){var r=w.fold(w.handleDivide(new A(1),t));return new x(e,r.addHint("root"))}});function p(e,t){this.base=e;this.power=t}p.prototype=new a;_.extend(p.prototype,{func:p,args:function(){return[this.base,this.power]},eval:function(e,t){return Math.log(this.power.eval(e,t))/Math.log(this.base.eval(e,t))},codegen:function(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"},print:function(){var e="("+this.power.print()+")";if(this.isNatural()){return"ln"+e}else{return"log_("+this.base.print()+") "+e}},tex:function(){var e="("+this.power.tex()+")";if(this.isNatural()){return"\\ln"+e}else{return"\\log_{"+this.base.tex()+"}"+e}},collect:function(e){var t=this.recurse("collect",e);if(t.power instanceof S&&t.power.eval()===1){return S.Zero}else if(t.base.equals(t.power)){return S.One}else if(t.power instanceof x&&t.power.base.equals(t.base)){return t.power.exp}else{return t}},expand:function(){var t=this.recurse("expand");if(t.power instanceof w){var e=_.map(t.power.terms,function(e){return new p(t.base,e).expand()});return new b(e)}else if(t.power instanceof x){return new w(t.power.exp,new p(t.base,t.power.base).expand()).flatten()}else if(!t.isNatural()){return w.handleDivide(new p(s.e,t.power),new p(s.e,t.base))}else{return t}},hints:_.extend(p.prototype.hints,{open:false}),isPositive:function(){var e=this.collect();if(e.base instanceof S&&e.power instanceof S){return this.eval()>0}else{return false}},needsExplicitMul:function(){return false},isNatural:function(){return this.base.equals(s.e)}});_.extend(p,{natural:function(){return s.e},common:function(){return S.Ten},create:function(e,t){var r=new p(e,t);if(!t.hints.parens){r=r.addHint("open")}return r}});function d(e,t){this.type=e;this.arg=t}d.prototype=new a;_.extend(d.prototype,{func:d,args:function(){return[this.type,this.arg]},functions:{sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:function(){return this}},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:function(){return this}},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:function(){return w.handleDivide(d.sin(this.arg),d.cos(this.arg))}},csc:{eval:function(e){return 1/Math.sin(e)},codegen:"(1/Math.sin(",tex:"\\csc",expand:function(){return w.handleDivide(S.One,d.sin(this.arg))}},sec:{eval:function(e){return 1/Math.cos(e)},codegen:"(1/Math.cos(",tex:"\\sec",expand:function(){return w.handleDivide(S.One,d.cos(this.arg))}},cot:{eval:function(e){return 1/Math.tan(e)},codegen:"(1/Math.tan(",tex:"\\cot",expand:function(){return w.handleDivide(d.cos(this.arg),d.sin(this.arg))}},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:function(e){return Math.asin(1/e)},codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:function(e){return Math.acos(1/e)},codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:function(e){return Math.atan(1/e)},codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:function(e){return(Math.exp(e)-Math.exp(-e))/2},codegen:function(e){return"((Math.exp("+e+") - Math.exp(-("+e+"))) / 2)"},tex:"\\sinh",expand:function(){return this}},cosh:{eval:function(e){return(Math.exp(e)+Math.exp(-e))/2},codegen:function(e){return"((Math.exp("+e+") + Math.exp(-("+e+"))) / 2)"},tex:"\\cosh",expand:function(){return this}},tanh:{eval:function(e){return(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))},codegen:function(e){return"("+"(Math.exp("+e+") - Math.exp(-("+e+")))"+" / "+"(Math.exp("+e+") + Math.exp(-("+e+")))"+")"},tex:"\\tanh",expand:function(){return w.handleDivide(d.sinh(this.arg),d.cosh(this.arg))}},csch:{eval:function(e){return 2/(Math.exp(e)-Math.exp(-e))},codegen:function(e){return"(2 / (Math.exp("+e+") - Math.exp(-("+e+"))))"},tex:"\\csch",expand:function(){return w.handleDivide(S.One,d.sinh(this.arg))}},sech:{eval:function(e){return 2/(Math.exp(e)+Math.exp(-e))},codegen:function(e){return"(2 / (Math.exp("+e+") + Math.exp(-("+e+"))))"},tex:"\\sech",expand:function(){return w.handleDivide(S.One,d.cosh(this.arg))}},coth:{eval:function(e){return(Math.exp(e)+Math.exp(-e))/(Math.exp(e)-Math.exp(-e))},codegen:function(e){return"("+"(Math.exp("+e+") + Math.exp(-("+e+")))"+" / "+"(Math.exp("+e+") - Math.exp(-("+e+")))"+")"},tex:"\\coth",expand:function(){return w.handleDivide(d.cosh(this.arg),d.sinh(this.arg))}}},isEven:function(){return _.contains(["cos","sec"],this.type)},isInverse:function(){return this.type.indexOf("arc")===0},isBasic:function(){return _.contains(["sin","cos"],this.type)},eval:function(e,t){var r=this.functions[this.type].eval;var n=this.arg.eval(e,t);return r(n)},codegen:function(){var e=this.functions[this.type].codegen;if(typeof e==="function"){return e(this.arg.codegen())}else if(typeof e==="string"){return e+this.arg.codegen()+"))"}else{throw new Error("codegen not implemented for "+this.type)}},print:function(){return this.type+"("+this.arg.print()+")"},tex:function(e){var t=this.functions[this.type].tex;var r="("+this.arg.tex()+")";return e&&e.split?[t,r]:t+r},hints:_.extend(d.prototype.hints,{open:false}),isPositive:function(){var e=this.collect();if(e.arg instanceof S){return this.eval()>0}else{return false}},completeParse:function(){if(this.exp){var e=new x(this,this.exp);this.exp=undefined;return e}else{return this}},needsExplicitMul:function(){return false},expand:function(){var e=this.recurse("expand");if(!e.isInverse()){var t=e.functions[e.type].expand;return _.bind(t,e)()}else{return e}},collect:function(e){var t=this.recurse("collect",e);if(!t.isInverse()&&t.arg.isNegative()){var r;if(t.arg instanceof S){r=t.arg.abs()}else{r=w.handleDivide(t.arg,S.Neg).collect(e)}if(t.isEven()){return new d(t.type,r)}else{return new w(S.Neg,new d(t.type,r))}}else{return t}}});_.extend(d,{create:function(e,t){var r=e[0];var n=e[1];if(n&&n.equals(S.Neg)){r="arc"+r;n=undefined}var i=new d(r,t);if(!t.hints.parens){i=i.addHint("open")}if(n){i.exp=n}return i},sin:function(e){return new d("sin",e)},cos:function(e){return new d("cos",e)},sinh:function(e){return new d("sinh",e)},cosh:function(e){return new d("cosh",e)}});function i(e){this.arg=e}i.prototype=new a;_.extend(i.prototype,{func:i,args:function(){return[this.arg]},eval:function(e,t){return Math.abs(this.arg.eval(e,t))},codegen:function(){return"Math.abs("+this.arg.codegen()+")"},print:function(){return"abs("+this.arg.print()+")"},tex:function(){return"\\left|"+this.arg.tex()+"\\right|"},collect:function(e){var t=this.recurse("collect",e);if(t.arg.isPositive()){return t.arg}else if(t.arg instanceof S){return t.arg.abs()}else if(t.arg instanceof w){var r=_.groupBy(t.arg.terms,function(e){if(e.isPositive()){return"positive"}else if(e instanceof S){return"number"}else{return"other"}});var n=r.positive.concat(_.invoke(r.number,"abs"));if(r.other.length){n.push(new i(new w(r.other).flatten()))}return new w(n).flatten()}else{return t}},expand:function(){var e=this.recurse("expand");if(e.arg instanceof w){var t=_.map(e.arg.terms,function(e){return new i(e)});return new w(t)}else{return e}},isPositive:function(){return true}});function M(e,t,r){this.left=e;this.type=t;this.right=r}M.prototype=new a;_.extend(M.prototype,{func:M,args:function(){return[this.left,this.type,this.right]},needsExplicitMul:function(){return false},print:function(){return this.left.print()+this.type+this.right.print()},signs:{"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},tex:function(){return this.left.tex()+this.signs[this.type]+this.right.tex()},normalize:function(){var e=this.recurse("normalize");if(_.contains([">",">="],e.type)){return new M(e.right,e.type.replace(">","<"),e.left)}else{return e}},asExpr:function(e){var t=function(e){return e instanceof S&&e.isSimple()&&e.eval()===0};var r=[];if(this.left instanceof b){r=_.clone(this.left.terms)}else if(!t(this.left)){r=[this.left]}if(this.right instanceof b){r=r.concat(this.right.negate().terms)}else if(!t(this.right)){r.push(this.right.negate())}var n=!this.isEquality();r=_.invoke(r,"collect",{preciseFloats:true});for(var i=0;i<r.length;i++){var a=r[i].getDenominator();if(n&&!a.isPositive()){a=a.asPositiveFactor()}if(!a.equals(S.One)){r=_.map(r,function(e){return w.createOrAppend(e,a).simplify({once:true,preciseFloats:true})})}}var o=new b(r).flatten();return e?o:this.divideThrough(o)},divideThrough:function(e){var t=!this.isEquality();var r=e.simplify({once:true});var n=r.factor({keepNegative:t});if(!(n instanceof w)){return e}var i=n.terms;var a=function(e){return e instanceof b};var o=function(e){return!!e.getVars().length};var s=function(e){return e.equals(S.One)};var l=_.groupBy(i,a);var c=l[true]||[];var u=l[false]||[];if(c.length&&this.isEquality()){return new w(c).flatten()}var h=u;if(!c.length){h=_.reject(h,o)}if(t){h=_.invoke(h,"asPositiveFactor")}h=_.reject(h,s);h=_.map(h,function(e){return new x(e,S.Div)});var f=new w(i.concat(h)).collect();if(f.equals(n)){return r}else{return f}},isEquality:function(){return _.contains(["=","<>"],this.type)},compare:function(e){if(!(e instanceof M)){return false}var t=this.normalize();var r=e.normalize();if(t.type!==r.type){return false}var n=t.divideThrough(t.asExpr(true).collect());var i=r.divideThrough(r.asExpr(true).collect());if(t.isEquality()){return n.compare(i)||n.compare(w.handleNegative(i))}else{return n.compare(i)}},sameForm:function(e){var t=this.normalize();var r=e.normalize();var n=t.left.sameForm(r.left)&&t.right.sameForm(r.right);if(t.isEquality()){return n||t.left.sameForm(r.right)&&t.right.sameForm(r.left)}else{return n}},isSimplified:function(){var e=this.asExpr(true);var t=this.divideThrough(e).simplify();return e.equals(t)&&this.left.isSimplified()&&this.right.isSimplified()}});_.extend(M.prototype,{solveLinearEquationForVariable:function(t){var e=this.asExpr();if(!e.is(b)||e.terms.length!==2){throw new Error("Can only handle linear equations of the form "+"a + bx (= 0)")}var r=function(e){return e.has(o)&&_.contains(e.getVars(),t.symbol)};var n,i;if(r(e.terms[0])){n=w.handleNegative(e.terms[1]);i=w.handleDivide(e.terms[0],t)}else{n=w.handleNegative(e.terms[0]);i=w.handleDivide(e.terms[1],t)}return w.handleDivide(n,i).simplify()}});function t(){}t.prototype=new a;_.extend(t.prototype,{needsExplicitMul:function(){return false},findGCD:function(e){if(e instanceof t||e instanceof S){return this.equals(e)?this:S.One}else{return e.findGCD(this)}}});function k(e,t){this.symbol=e;this.arg=t}k.prototype=new t;_.extend(k.prototype,{func:k,args:function(){return[this.symbol,this.arg]},print:function(){return this.symbol+"("+this.arg.print()+")"},tex:function(){return this.symbol+"("+this.arg.tex()+")"},eval:function(e,t){var r=this.arg;var n=e[this.symbol];var i=_.extend(_.clone(e),{x:r.eval(e,t)});var a=l.parse(n,t);if(a.parsed){return a.expr.eval(i,t)}return a},codegen:function(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"},getUnits:function(){return this.arg.getUnits()},getVars:function(e){if(e){return this.arg.getVars()}else{return _.union(this.arg.getVars(),[this.symbol]).sort()}},getConsts:function(){return this.arg.getConsts()}});function o(e,t){this.symbol=e;this.subscript=t}o.prototype=new t;_.extend(o.prototype,{func:o,args:function(){return[this.symbol,this.subscript]},exprArgs:function(){return[]},recurse:function(){return this},print:function(){var e="";if(this.subscript){e="_("+this.subscript.print()+")"}return this.symbol+e},prettyPrint:function(){var e=this.subscript;if(e&&(e instanceof S||e instanceof t)){return this.symbol+"_"+e.print()}else{return this.print()}},tex:function(){var e="";if(this.subscript){e="_{"+this.subscript.tex()+"}"}var t=this.symbol.length>1?"\\":"";return t+this.symbol+e},repr:function(){return"Var("+this.print()+")"},eval:function(e,t){return e[this.prettyPrint()]},codegen:function(){return'vars["'+this.prettyPrint()+'"]'},getVars:function(){return[this.prettyPrint()]},isPositive:function(){return false}});function s(e){this.symbol=e}s.prototype=new t;_.extend(s.prototype,{func:s,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(e,t){if(this.symbol==="pi"){return Math.PI}else if(this.symbol==="e"){return Math.E}},codegen:function(){if(this.symbol==="pi"){return"Math.PI"}else if(this.symbol==="e"){return"Math.E"}},print:function(){return this.symbol},tex:function(){if(this.symbol==="pi"){return"\\pi "}else if(this.symbol==="e"){return"e"}},isPositive:function(){return this.eval()>0},abs:function(){if(this.eval()>0){return this}else{return w.handleNegative(this)}},getConsts:function(){return[this.print()]}});s.e=new s("e");s.pi=new s("pi");function S(){}S.prototype=new a;_.extend(S.prototype,{repr:function(){return this.print()},strip:function(){return this.abs()},recurse:function(){return this},codegen:function(){return this.print()},add:e,mul:e,negate:e,isSubtract:function(){return this.hints.subtract},abs:e,needsExplicitMul:function(){return true},findGCD:e,isPositive:function(){return this.eval()>0},isNegative:function(){return this.eval()<0},asPositiveFactor:function(){return this.isPositive()?this:this.abs()},hints:_.extend(S.prototype.hints,{negate:false,subtract:false,divide:false,root:false,fraction:false,entered:false}),isSimple:e,getDecimalPlaces:function(){var e=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(e){return Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0))}else{return 0}},asRational:e});function T(e,t){var r=e;var n=t;if(n<0){r=-r;n=-n}this.n=r;this.d=n}T.prototype=new S;_.extend(T.prototype,{func:T,args:function(){return[this.n,this.d]},eval:function(){return this.n/this.d},print:function(){return this.n.toString()+"/"+this.d.toString()},tex:function(){var e="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+e:e},add:function(e,t){if(e instanceof T){return new T(this.n*e.d+this.d*e.n,this.d*e.d).collect()}else{return e.add(this,t)}},mul:function(e,t){if(e instanceof T){return new T(this.n*e.n,this.d*e.d).collect()}else{return e.mul(this,t)}},collect:function(){var e=S.findGCD(this.n,this.d);var t=this.n/e;var r=this.d/e;if(r===1){return new A(t)}else{return new T(t,r)}},negate:function(){return new T(-this.n,this.d)},abs:function(){return new T(Math.abs(this.n),this.d)},findGCD:function(e){if(e instanceof T){var t=S.findGCD(this.n*e.d,e.n*this.d);var r=this.d*e.d;return new T(t,r).collect()}else if(e instanceof A){return new T(S.findGCD(this.n,e.n),this.d)}else{return e.findGCD(this)}},raiseToThe:function(e){if(e instanceof A){var t=e.eval()>0;var r=e.abs().eval();var n=Math.pow(this.n,r);var i=Math.pow(this.d,r);if(t){return new T(n,i).collect()}else{return new T(i,n).collect()}}else{return new f(this.eval()).raiseToThe(e)}},getDenominator:function(){return new A(this.d)},isSimple:function(){return false},asRational:function(){return this}});function A(e){this.n=e}A.prototype=new T(0,1);_.extend(A.prototype,{func:A,args:function(){return[this.n]},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},negate:function(){return new A(-this.n)},abs:function(){return new A(Math.abs(this.n))},isSimple:function(){return true},findGCD:function(e){if(e instanceof A){return new A(S.findGCD(this.n,e.n))}else{return e.findGCD(this)}}});_.extend(A,{create:function(e){return new A(e).addHint("entered")}});function f(e){this.n=e}f.prototype=new S;_.extend(f.prototype,{func:f,args:function(){return[this.n]},eval:function(){return this.n},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},add:function(e,t){if(t&&t.preciseFloats){return f.toDecimalPlaces(this.n+e.eval(),Math.max(this.getDecimalPlaces(),e.getDecimalPlaces()))}else{return new f(this.n+e.eval()).collect()}},mul:function(e,t){if(t&&t.preciseFloats){return f.toDecimalPlaces(this.n*e.eval(),this.getDecimalPlaces()+e.getDecimalPlaces())}else{return new f(this.n*e.eval()).collect()}},collect:function(){return this},negate:function(){return new f(-this.n)},abs:function(){return new f(Math.abs(this.n))},findGCD:function(e){if(e instanceof S){return new f(S.findGCD(this.eval(),e.eval())).collect()}else{return e.findGCD(this)}},raiseToThe:function(e,t){if(t&&t.preciseFloats&&e instanceof A&&e.n>1){return f.toDecimalPlaces(new x(this,e).eval(),this.getDecimalPlaces()*e.n)}else{return new f(new x(this,e).eval()).collect()}},asRational:function(){var e=this.n.toString().split(".");if(e.length===1){return new T(this.n,1)}else{var t=Number(e.join(""));var r=Math.pow(10,e[1].length);return new T(t,r).collect()}},getDenominator:function(){return this.asRational().getDenominator()},isSimple:function(){return true}});_.extend(f,{create:function(e){return new f(e).addHint("entered")},toDecimalPlaces:function(e,t){return new f(+e.toFixed(Math.min(t,20))).collect()}});_.extend(S,{negativeOne:function(e){if(e==="subtract"){return S.Sub}else if(e==="divide"){return S.Div}else{return S.Neg}},findGCD:function(e,t){var r;e=Math.abs(e);t=Math.abs(t);if(e!==Math.floor(e)||t!==Math.floor(t)){return 1}while(t){r=e%t;e=t;t=r}return e},min:function(){return _.min(_.toArray(arguments),function(e){return e.eval()})},max:function(){return _.max(_.toArray(arguments),function(e){return e.eval()})}});S.Neg=new A(-1).addHint("negate");S.Sub=new A(-1).addHint("subtract");S.Div=new A(-1).addHint("divide");S.Sqrt=new T(1,2).addHint("root");S.Zero=new A(0);S.One=new A(1);S.Ten=new A(10);b.prototype.identity=S.Zero;w.prototype.identity=S.One;var c=l.parser;var u=function(e,t){throw new Error(t.loc.first_column)};c.yy={Add:b,Mul:w,Pow:x,Log:p,Trig:d,Eq:M,Abs:i,Func:k,Const:s,Var:o,Int:A,Float:f,parseError:u,constants:["e"],symbolLexer:function(e){if(_.contains(c.yy.constants,e)){return"CONST"}else if(_.contains(c.yy.functions,e)){return"FUNC"}else{return"VAR"}}};l.parse=function(e,t){try{if(t&&t.functions){c.yy.functions=_.without(t.functions,"i")}else{c.yy.functions=[]}if(t&&t.decimal_separator){e=e.split(t.decimal_separator).join(".")}var r=c.parse(e).completeParse();return{parsed:true,expr:r}}catch(e){return{parsed:false,error:e.message}}};function P(e){this.symbol=e}P.prototype=new t;var h=function(t){if(_(E).has(t)||_(F).has(t)){return new P(t)}var e=_(_(C).keys()).find(function(e){return new RegExp("^"+e).test(t)});if(e){var r=t.replace(new RegExp("^"+e),"");if(_(E).has(r)||F[r]&&F[r].prefixes===I){return new w(C[e],new P(r))}else{throw new Error(r+" does not allow prefixes")}}else{return new P(t)}};l.unitParse=function(e){try{var t=l.unitParser.parse(e);var r=[];_(t.unit.num).each(function(e){r.push(new x(h(e.name),new A(e.pow)))});_(t.unit.denom).each(function(e){r.push(new x(h(e.name),new A(-1*e.pow)))});var n=new w(r).flatten();if(t.type==="unitMagnitude"){var i=[new f(+t.magnitude)].concat(r);var a=new w(i);return{parsed:true,unit:n,expr:a,coefficient:t.magnitude,type:t.type}}else{return{parsed:true,unit:n,type:t.type}}}catch(e){return{parsed:false,error:e.message}}};_.extend(P.prototype,{func:P,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(e,t){return 1},getUnits:function(){return[{unit:this.symbol,pow:1}]},codegen:function(){return"1"},print:function(){return this.symbol},tex:function(){return this.symbol},collect:function(e){if(_(E).has(this.symbol)){return this}else if(_(F).has(this.symbol)){return F[this.symbol].conversion}else{throw new Error("could not understand unit: "+this.symbol)}}});var E={m:new P("m"),g:new P("g"),s:new P("s"),A:new P("A"),K:new P("K"),mol:new P("mol"),cd:new P("cd")};var C={a:new x(new A(10),new A(-18)),f:new x(new A(10),new A(-15)),p:new x(new A(10),new A(-12)),n:new x(new A(10),new A(-9)),u:new x(new A(10),new A(-6)),m:new x(new A(10),new A(-3)),c:new x(new A(10),new A(-2)),d:new x(new A(10),new A(-1)),da:new A(10),h:new x(new A(10),new A(2)),k:new x(new A(10),new A(3)),M:new x(new A(10),new A(6)),G:new x(new A(10),new A(9)),T:new x(new A(10),new A(12)),P:new x(new A(10),new A(15)),E:new x(new A(10),new A(18)),hella:new x(new A(10),new A(27))};var I={};var D={};var O=function(e,t){var r=e.split("|");var n=r[0].trim();var i=r[1].trim();var a=S.One;if(n!==""){a=l.parse(n).expr}var o=i.split("/");var s=[a];if(o[0]){o[0].split(" ").filter(function(e){return e!==""}).map(function(e){s.push(new P(e))})}if(o[1]){o[1].split(" ").filter(function(e){return e!==""}).map(function(e){s.push(new x(new P(e),S.Div))})}return{conversion:new w(s),prefixes:t}};var F={Da:O("1.6605388628 x 10^-24 | g",I),u:O("| Da",D),meter:O("| m",D),meters:O("| m",D),in:O("254 / 10000 | m",D),ft:O("3048  / 10000 | m",D),yd:O("9144  / 10000 | m",D),mi:O("1609344 / 1000 | m",D),ly:O("9.4607 x 10^15 | m",D),nmi:O("1852 | m",D),"Å":O("10^-10 | m",D),pc:O("3.0857 x 10^16 | m",D),min:O("60 | s",D),hr:O("3600 | s",D),sec:O("| s",D),day:O("86400 | s",D),wk:O("604800 | s",D),fortnight:O("14 | day",D),shake:O("10^-8 | s",D),olympiad:O("126200000 | s",D),"°C":O("1 | K",D),"°F":O("5/9 | K",D),"°R":O("5/9 | K",D),e:O("1.6021765314 x 10^-19 | C",D),c:O("299792458 | m / s",D),kn:O("514/1000 | m / s",D),kt:O("| kn",D),knot:O("| kn",D),J:O("| N m",I),BTU:O("1060 | J",D),cal:O("4184 / 1000 | J",I),eV:O("1.602176514 x 10^-19 | J",I),erg:O("10^−7 | J",I),W:O("| J / s",I),"H-e":O("80 | W",D),N:O("1000 | g m / s s",I),lb:O("4448221615 / 1000000000 | N",D),dyn:O("10^-5 | N",D),Pa:O("1 | N / m m m",I),bar:O("10^5 | Pa",I),"㏔":O("1/1000 | bar",D),"㍴":O("| bar",D),atm:O("101325 | Pa",D),Torr:O("1/760 | atm",D),mmHg:O("| Torr",D),ha:O("10^4 | m m",D),b:O("10^−28 | m m",I),barn:O("| b",I),acre:O("4046.87 | m m",D),skilodge:O("10^-31 | m m",D),outhouse:O("10^-34 | m m",D),shed:O("10^-52 | m m",D),L:O("1/1000 | m m m",I),gal:O("3785/1000 | L",I),cup:O("1/16 | gal",D),qt:O("1/4 | gal",D),quart:O("| qt",D),p:O("1/8 | gal",D),pt:O("| p",D),pint:O("| p",D),"fl oz":O("1/8 | cup",D),"fl. oz.":O("1/8 | cup",D),tbsp:O("1/16 | cup",D),tsp:O("1/3 | tbsp",D),rev:O("2 pi | rad",D),deg:O("180 pi | rad",D),"°":O("| deg",D),arcminute:O("1/60 | deg",D),arcsec:O("1/3600 | deg",D),Hu:O("1000 | dB",I),dozen:O("12 |",D),mol:O("6.0221412927 x 10^23 |",I),"%":O("1/100 |",D),percent:O("| %",D),ppm:O("1/1000000 |",D),V:O("1000 | g m m / s s C",I),C:O("| A s",I),ampere:O("| A",D),"Ω":O("| V / A",I),ohm:O("| Ω",D),F:O("| C / V",I),H:O("| ohm s",I),T:O("1000 | g / C s",I),Wb:O("1000 | g m m / C s",I),lm:O("pi x 10^4 | cd / m m",D),lx:O("| lm / m m",D),nit:O("| cd / m m",D),sb:O("10^4 | cd / m m",D),stilb:O("1 | sb",D),apostilb:O("1 / pi x 10^(-4) | sb",D),blondel:O("| apostilb",D),asb:O("| apostilb",D),la:O("| lm",D),Lb:O("| lm",D),sk:O("10^-7 | lm",D),skot:O("| sk",D),bril:O("10^-11 | lm",D),Hz:O("| / s",I)};l.Add=b;l.Mul=w;l.Pow=x;l.Log=p;l.Eq=M;l.Trig=d;l.Abs=i;l.Func=k;l.Var=o;l.Const=s;l.Unit=P;l.Rational=T;l.Int=A;l.Float=f;l.Zero=S.Zero;l.One=S.One})(n);(function(e){e.compare=function(e,t,r){var n={form:false,simplify:false};if(r!==undefined){r=_.extend(n,r)}else{r=n}var i=e.sameVars(t);if(!i.equal){var a;if(i.equalIgnoringCase){a="Check your variables; one or more are using "+"the wrong case (upper or lower)."}else{a="Check your variables; you may have used the wrong "+"letter for one or more of them."}return{equal:false,wrongVariableCase:i.equalIgnoringCase,wrongVariableNames:!i.equalIgnoringCase,message:a}}if(!e.compare(t)){return{equal:false,message:null}}if(r.form&&!e.sameForm(t)){return{equal:false,message:"Your answer is not in the correct form."}}if(r.simplify&&!e.isSimplified()){return{equal:false,message:"Your answer is not fully expanded and simplified."}}return{equal:true,message:null}}})(n)},uBl0:function(e,t,a){"use strict";a("yXV3");a("uqXc");a("2B1R");a("+2oP");a("TWNs");a("JfAA");a("inlA");a("Rm1S");a("UxlC");a("hByQ");a("EnZy");a("LKBx");var _=a("F/us");var i=a("7BBF");var r=false;var n=function t(e,r,n){if(_.isArray(e)){return _.map(e,function(e){return t(e,r)})}else{return r.call(n,e)}};var c={inputPathsEqual:function e(t,r){if(t==null||r==null){return t==null===(r==null)}return t.length===r.length&&t.every(function(e,t){return r[t]===e})},nestedMap:n,rWidgetRule:/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,rTypeFromWidgetId:/^([a-z-]+) ([0-9]+)$/,snowman:"☃",noScore:{type:"points",earned:0,total:0,message:null},seededRNG:function e(t){var r=t;return function(){var e=r;e=e+2127912214+(e<<12)&4294967295;e=(e^3345072700^e>>>19)&4294967295;e=e+374761393+(e<<5)&4294967295;e=(e+3550635116^e<<9)&4294967295;e=e+4251993797+(e<<3)&4294967295;e=(e^3042594569^e>>>16)&4294967295;return(r=e&268435455)/268435456}},shuffle:function e(t,r,n){var i=_.clone(t);if(!i.length||_.all(i,function(e){return _.isEqual(e,i[0])})){return i}var a;if(_.isFunction(r)){a=r}else{a=c.seededRNG(r)}do{for(var o=i.length;o>0;o--){var s=Math.floor(a()*o),l=i[s];i[s]=i[o-1];i[o-1]=l}}while(n&&_.isEqual(t,i));return i},split:"x".split(/(.)/g).length?function(e,t){return e.split(t)}:function(e,t){var r=[];var n=t.lastIndex=0;var i;while(i=t.exec(e)){r.push(e.slice(n,i.index));r.push.apply(r,i.slice(1));n=i.index+i[0].length}r.push(e.slice(n));return r},combineScores:function e(t,r){var n;if(t.type==="points"&&r.type==="points"){if(t.message&&r.message&&t.message!==r.message){n=null}else{n=t.message||r.message}return{type:"points",earned:t.earned+r.earned,total:t.total+r.total,message:n}}else if(t.type==="points"&&r.type==="invalid"){return r}else if(t.type==="invalid"&&r.type==="points"){return t}else if(t.type==="invalid"&&r.type==="invalid"){if(t.message&&r.message&&t.message!==r.message){n=null}else{n=t.message||r.message}return{type:"invalid",message:n}}},keScoreFromPerseusScore:function e(t,r,n){if(t.type==="points"){return{empty:false,correct:t.earned>=t.total,message:t.message,guess:r,state:n}}else if(t.type==="invalid"){return{empty:true,correct:false,message:t.message,suppressAlmostThere:t.suppressAlmostThere,guess:r,state:n}}else{throw new Error("Invalid score type: "+t.type)}},firstNumericalParse:function e(t){var r;var n=i.predicate.createValidatorFunctional(function(e){r=e;return true},{simplify:"optional",inexact:true,forms:"integer, proper, improper, pi, log, mixed, decimal"});n(t);return r},stringArrayOfSize:function e(t){return _(t).times(function(){return""})},gridDimensionConfig:function e(t,r,n,i){var a=c.scaleFromExtent(r,n);var o=t*a;var s=o>30;return{scale:a,tickStep:t/i,unityLabel:s}},getGridStep:function e(n,i,a){return _(2).times(function(e){var t=c.scaleFromExtent(n[e],a);var r=c.gridStepFromTickStep(i[e],t);return r})},snapStepFromGridStep:function e(t){return _.map(t,function(e){return e/2})},scaleFromExtent:function e(t,r){var n=t[1]-t[0];var i=r/n;return i},tickStepFromExtent:function e(t,r){var n=t[1]-t[0];var i;if(15<n&&n<=20){i=23}else if(n>100||n<5){i=10}else{i=16}var a=r/500;var o=i*a;return c.tickStepFromNumTicks(n,o)},gridStepFromTickStep:function e(t,r){var n=t*r;var i=t;var a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10));var o=Math.floor(i/a);if(n<25){return t}if(n<50){if(o===5){return t}else{return t/2}}if(o===1){return t/2}if(o===2){return t/4}if(o===5){return t/5}},tickStepFromNumTicks:function e(t,r){var n=Math.pow(10,Math.floor(Math.log(t/r)/Math.LN10));var i=r/t*n;if(i<=.15){n*=10}else if(i<=.35){n*=5}else if(i<=.75){n*=2}return n},constrainedTickStepsFromTickSteps:function e(t,r){var n=[];for(var i=0;i<2;i++){var a=r[i][1]-r[i][0];var o=a/t[i];if(o<=10){n[i]=t[i]}else if(o<=20){n[i]=t[i]*2}else{n[i]=c.tickStepFromNumTicks(a,10)}}return n},DeprecationMixin:{UNSAFE_componentWillMount:function e(){var r={};_.each(this.deprecatedProps,function(e,t){if(_.has(this.props,t)){_.extend(r,e(this.props))}},this);if(!_.isEmpty(r)){_.extend(this.props,r);setTimeout(this.props.onChange,0,r)}}},eq:function e(t,r){if(_.isNumber(t)&&_.isNumber(r)){return Math.abs(t-r)<1e-9}else{return t===r}},deepEq:function e(r,n){if(_.isArray(r)&&_.isArray(n)){if(r.length!==n.length){return false}for(var t=0;t<r.length;t++){if(!c.deepEq(r[t],n[t])){return false}}return true}else if(_.isArray(r)||_.isArray(n)){return false}else if(_.isFunction(r)&&_.isFunction(n)){return c.eq(r,n)}else if(_.isFunction(r)||_.isFunction(n)){return false}else if(_.isObject(r)&&_.isObject(n)){return r===n||_.all(r,function(e,t){return c.deepEq(n[t],e)})&&_.all(n,function(e,t){return c.deepEq(r[t],e)})}else if(_.isObject(r)||_.isObject(n)){return false}else{return c.eq(r,n)}},parseQueryString:function e(t){t=t||window.location.search.substring(1);var r={};var n=/\+/g;var i=/([^&=]+)=?([^&]*)/g;var a=function e(t){return decodeURIComponent(t.replace(n," "))};var o;while(o=i.exec(t)){r[a(o[1])]=a(o[2])}return r},updateQueryString:function e(t,r,n){n=encodeURIComponent(n);var i=new RegExp("([?&])"+r+"=.*?(&|$)","i");var a=t.indexOf("?")!==-1?"&":"?";if(t.match(i)){return t.replace(i,"$1"+r+"="+n+"$2")}else{return t+a+r+"="+n}},strongEncodeURIComponent:function e(t){return encodeURIComponent(t).replace(/['()!]/g,window.escape).replace(/\*/g,"%2A")},widgetShouldHighlight:function e(t){if(!t){return false}var r=["measurer","protractor"];return!_.contains(r,t.type)},scoreIsEmpty:function e(t){return t.type==="invalid"&&(!t.message||t.message.length===0)},touchHandlers:{pointerDown:false,currentTouchIdentifier:null},resetTouchHandlers:function e(){_.extend(c.touchHandlers,{pointerDown:false,currentTouchIdentifier:null})},extractPointerLocation:function e(t){var r;if(c.touchHandlers.pointerDown){if(c.touchHandlers.currentTouchIdentifier!=null){var n=t.changedTouches?t.changedTouches.length:0;for(var i=0;i<n;i++){if(t.changedTouches[i].identifier===c.touchHandlers.currentTouchIdentifier){r=t.changedTouches[i]}}}else{r=t}var a=t.type==="touchend"||t.type==="touchcancel";if(r&&a){c.touchHandlers.pointerDown=false;c.touchHandlers.currentTouchIdentifier=null}}else{c.touchHandlers.pointerDown=true;if(t.changedTouches){r=t.changedTouches[0];c.touchHandlers.currentTouchIdentifier=r.identifier}else{r=t}}if(r){return{left:r.pageX,top:r.pageY}}},supportsPassiveEvents:function e(){try{var t=Object.defineProperty({},"passive",{get:function e(){r=true}});window.addEventListener("testPassive",null,t);window.removeEventListener("testPassive",null,t)}catch(e){}return r},captureScratchpadTouchStart:function e(t){t.stopPropagation()},getImageSize:function e(t,r){var n=new Image;n.onload=function(){if(n.width===0&&n.height===0){document.body.appendChild(n);_.defer(function(){r(n.clientWidth,n.clientHeight);document.body.removeChild(n)})}else{r(n.width,n.height)}};var i=a("yPu2");n.src=i.getRealImageUrl(t)},textarea:{getWordBeforeCursor:function e(t){var r=t.value;var n=t.selectionStart-1;var i=Math.max(r.lastIndexOf("\n",n),r.lastIndexOf(" ",n))+1;return{string:r.substring(i,n+1),pos:{start:i,end:n}}},moveCursor:function e(t,r){t.selectionStart=r;t.selectionEnd=r}},unescapeMathMode:function e(t){return t.startsWith("$")&&t.endsWith("$")?t.slice(1,-1):t}};c.random=c.seededRNG((new Date).getTime()&4294967295);c.rWidgetParts=new RegExp(c.rWidgetRule.source+"$");e.exports=c},uN08:function(e,t,r){"use strict";var _=r("F/us");var n=r("yRmI");var s=r("T2HF");var i=r("p8fL");var a=r("vNny");var o=i.assert;var l=i.normalizeOptions;var c=r("eAf/").vector;var u=r("yfnS");var h=["add","draw","remove","onMoveStart","constraints","onMove","onMoveEnd"];var f={points:null,static:false,cursor:"move",normalStyle:null,highlightStyle:null,extendLine:false,extendRay:false};var p={visibleShape:null,mouseTarget:null};var d=function e(t,r,n){o(t!=null);o(n!=null);_.extend(this,{graphie:t,movable:r,state:{id:_.uniqueId("movableLine")}});this.modify(_.extend({},p,n))};_.extend(d,n);i.createGettersFor(d,_.extend({},f,p));i.addMovableHelperMethodsTo(d);_.extend(d.prototype,{cloneState:function e(){return _.extend(this.movable.cloneState(),{coords:this.coords()},this.state)},_createDefaultState:function e(){return _.extend({id:this.state.id},l(h,a.pluck(n,"standard")),f)},modify:function e(t){this.update(_.extend(this._createDefaultState(),t))},update:function e(t){var a=this;var r=this.graphie;var n=a.state=_.extend(a.state,l(h,t));var i=n.static?u.DYNAMIC:u.INTERACTIVE;n.normalStyle=_.extend({stroke:i,"stroke-width":2},n.normalStyle);n.highlightStyle=_.extend({stroke:u.INTERACTING,"stroke-width":3},n.highlightStyle);if(!n.static){if(!n.mouseTarget){var o={thickness:30,mouselayer:true};n.mouseTarget=new s(r,this.coord(0),this.coord(1),o);n.mouseTarget.attr({fill:"#000",opacity:0})}}if(n.static&&n.mouseTarget){n.mouseTarget.remove();n.mouseTarget=null}a.movable.modify(_.extend({},n,{mouseTarget:n.mouseTarget,add:null,modify:null,draw:a.draw.bind(a),remove:null,onMoveStart:function e(){a._initialRefCoord=a.coord(0);a._prevRefCoord=a._initialRefCoord;a._totalDelta=[0,0];a._fireEvent(a.state.onMoveStart,a.coord(0),a.coord(0))},onMove:function e(t,r){var n=c.subtract(t,r);a._totalDelta=c.add(a._totalDelta,n);var i=c.add(a._initialRefCoord,a._totalDelta);i=a._applyConstraints(i,a._prevRefCoord);if(i===false){return}a._fireEvent(a.state.onMove,i,a._prevRefCoord);a._prevRefCoord=i},onMoveEnd:function e(){a._fireEvent(a.state.onMoveEnd,a._prevRefCoord,a._initialRefCoord)}}));if(!n.added){a.prevState={};a._fireEvent(n.add,a.cloneState(),a.prevState);n.added=true;_.invoke(n.points,"listen","onMove",n.id,a.draw.bind(a));a.prevState=a.cloneState()}a._fireEvent(n.modify,a.cloneState(),a.prevState)},coords:function e(){return _.invoke(this.state.points,"coord")},point:function e(t){return this.state.points[t]},coord:function e(t){return this.point(t).coord()},remove:function e(){this.state.added=false;this._fireEvent(this.state.remove);if(this.points){_.invoke(this.points,"unlisten","onMove",this.state.id)}if(this.movable){this.movable.remove()}},toBack:function e(){this.movable.toBack();if(this.state.visibleShape){this.state.visibleShape.toBack()}},toFront:function e(){if(this.state.visibleShape){this.state.visibleShape.toFront()}this.movable.toFront()},isHovering:function e(){return this.movable.isHovering()},isDragging:function e(){return this.movable.isDragging()},mouseTarget:function e(){return this.movable.mouseTarget()}});e.exports=d},vNny:function(e,t,r){"use strict";r("4mDm");r("2B1R");r("07d7");r("3bBZ");var _=r("F/us");var n=function e(t,r){return _.object(_.map(t,function(e,t){return[t,e[r]]}))};var i=function e(t,r){var n={};_.each(_.keys(t),function(e){n[e]=r(t[e],e)});return n};var a=function e(t,r){var n={};_.each(t,function(e){n[e]=r(e)});return n};e.exports={pluck:n,mapObject:i,mapObjectFromArray:a}},xc4a:function(e,t,r){"use strict";var _=r("F/us");var a=r("p8fL");var n=r("vNny");var o=r("eAf/").vector;var i=r("e2gc");var s=["attr","animate"];var l=_.extend({transform:function e(t){var r=a.getPrefixedTransform();this.wrapper.style[r]=t},toFront:function e(){var t=this.wrapper.parentNode;if(t){t.appendChild(this.wrapper)}},toBack:function e(){var t=this.wrapper.parentNode;if(t.firstChild!==this.wrapper){t.insertBefore(this.wrapper,t.firstChild)}},remove:function e(){this.visibleShape.remove();i(this.wrapper).remove()},getMouseTarget:function e(){return this.visibleShape[0]},moveTo:function e(t){var r=o.subtract(this.graphie.scalePoint(t),this.graphie.scalePoint(this.initialPoint));var n=a.getCanUse3dTransform();var i="translateX("+r[0]+"px) "+"translateY("+r[1]+"px)"+(n?" translateZ(0)":"");this.transform(i)},hide:function e(){this.visibleShape.hide()},show:function e(){this.visibleShape.show()}},n.mapObjectFromArray(s,function(t){return function(){var e;(e=this.visibleShape)[t].apply(e,arguments)}}));e.exports=l},yPu2:function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("2B1R");r("5DmW");r("NBAS");r("07d7");r("inlA");r("Rm1S");r("UxlC");r("EnZy");r("FZtP");r("3bBZ");var v=s(r("TSYQ"));var m=o(r("q1tI"));var h=s(r("e2gc"));var g=s(r("F/us"));var n=s(r("Q8Wn"));var f=s(r("XDp7"));var y=s(r("WCF/"));var b=s(r("Giaf"));var w=s(r("BGgb"));var u=r("Tqif");var i=s(r("uBl0"));var a=s(r("6mNK"));function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return d(e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function M(e,t,r){if(t)x(e.prototype,t);if(r)x(e,r);return e}function k(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return S(e,t)}function T(e,t){return E(e)||P(e,t)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}function E(e){if(Array.isArray(e))return e}function C(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){I(t,e,r[e])})}return t}function I(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var D=700;var O={};var F=function e(t,r){r=C({callbackName:"callback",success:h.default.noop,error:h.default.noop},r);var n=document.createElement("script");n.setAttribute("async","");n.setAttribute("src",t);function i(){document.head&&document.head.removeChild(n);delete window[r.callbackName]}window[r.callbackName]=function(){i();r.success.apply(null,arguments)};n.addEventListener("error",function(){i();r.error.apply(null,arguments)});document.head&&document.head.appendChild(n)};var N=/^web\+graphie\:/;var L=/\/([^/]+)$/;function R(e){return N.test(e)}function q(e){return/\.(jpg|jpeg)$/i.test(e)}function B(e){return e.replace(N,"https:")}function z(e){return B(e)+".svg"}function G(e){return B(e)+"-data.json"}function j(){return f.default.useJIPT?"en-pt":n.default.language}function H(){return j()!=="en"}var V=[];if(f.default.useJIPT){f.default.domInsertChecks.push(function(e,t,r){var n=(0,h.default)(t).data("jipt-label-index");if(t&&typeof n!=="undefined"){var i=V[n],a=i.label,o=i.useMath;a.text("");e=(0,u.maybeUnescape)(e);if(o){var s=/^\$(.*)\$$/;var l=e.match(s);var c=l?l[1]:"\\color{red}{\\text{Invalid Math}}";a.processMath(c,true)}else{a.processText(e)}return false}return e})}var $=/\/(?=[^/]+$)/;function U(e){var t=B(e).split($),r=T(t,2),n=r[0],i=r[1];return"".concat(n,"/").concat(j(),"/").concat(i,"-data.json")}function Y(e){var t=e.match(L);if(t==null){throw new Error("not a valid URL")}return t&&t[1]}function Z(e){return m.createElement("span",{style:{background:"url(/images/spinner.gif) no-repeat",backgroundPosition:"center",width:"100%",height:"100%",position:"absolute",minWidth:"20px"}})}var W=function(e){k(t,e);M(t,null,[{key:"getRealImageUrl",value:function e(t){if(R(t)){return z(t)}else{return t}}}]);function t(e){var u;l(this,t);u=c(this,p(t).call(this,e));I(d(u),"onDataLoaded",function(e,t){if(u._isMounted&&e.labels&&e.range){var r=e.labels.reduce(function(e,t){return C({},e,I({},t.content,false))},{});u.setState({dataLoaded:true,labelDataIsLocalized:t,labelsRendered:r,labels:e.labels,range:e.range})}});I(d(u),"onImageLoad",function(){if(u.sizeProvided()){u.setState({imageLoaded:true})}else{i.default.getImageSize(u.props.src,function(e,t){if(u._isMounted){u.setState({imageLoaded:true,imageDimensions:[e,t]})}})}});I(d(u),"setupGraphie",function(c,e){g.default.map(e.labels,function(e){if(f.default.useJIPT&&u.state.labelDataIsLocalized){var t=c.label(e.coordinates,e.content,e.alignment,false);(0,h.default)(t).data("jipt-label-index",V.length);V.push({label:t,useMath:e.typesetAsMath})}else if(e.coordinates){var r=c.label(e.coordinates,e.content,e.alignment,e.typesetAsMath,{"font-size":100*u.props.scale+"%"});var n=r[0].style;var i=u._tryGetPixels(n.top);var a=u._tryGetPixels(n.left);if(i===null||a===null){var o=r.position();i=o.top;a=o.left}var s=(u.props.height||0)*u.props.scale;var l=(u.props.width||0)*u.props.scale;r.css({top:i/s*100+"%",left:a/l*100+"%"});g.default.each(e.style,function(e,t){r.css(t,e)})}u.setState({labelsRendered:C({},u.state.labelsRendered,I({},e.content,true))})})});I(d(u),"_handleZoomClick",function(e){var t=(0,h.default)(e.target);if(t.width()<u.props.width||u.props.zoomToFullSizeOnMobile){a.default.ZoomService.handleZoomClick(e,u.props.zoomToFullSizeOnMobile)}u.props.trackInteraction&&u.props.trackInteraction()});I(d(u),"handleUpdate",function(e){u.props.onUpdate();if(!R(u.props.src)&&e==="loaded"){u.setState({imageLoaded:true})}});e.setAssetStatus(e.src,false);u._isMounted=false;u.state={imageLoaded:false,imageDimensions:null,dataLoaded:false,labelDataIsLocalized:false,labels:[],labelsRendered:{},range:[[0,0],[0,0]]};return u}M(t,[{key:"componentDidMount",value:function e(){this._isMounted=true;if(R(this.props.src)){this.loadResources()}}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){if(this.props.src!==t.src){this.setState({imageLoaded:false,dataLoaded:false})}}},{key:"shouldComponentUpdate",value:function e(t,r){if(!g.default.isEqual(this.props,t)){return true}var n=this.isLoadedInState(this.state);var i=this.isLoadedInState(r);return n!==i}},{key:"componentDidUpdate",value:function e(t,r){var n=this.isLoadedInState(r);var i=this.isLoadedInState(this.state);if(R(this.props.src)&&!i){this.loadResources()}if(!n&&i){this.props.setAssetStatus(this.props.src,true)}}},{key:"componentWillUnmount",value:function e(){this._isMounted=false}},{key:"isLoadedInState",value:function e(t){return R(this.props.src)?t.imageLoaded&&t.dataLoaded:t.imageLoaded}},{key:"loadResources",value:function e(){var n=this;var i=Y(this.props.src);if(O[i]){if(O[i].loaded){var t=O[i],r=t.data,a=t.localized;this.onDataLoaded(r,a)}else{O[i].dataCallbacks.push(this.onDataLoaded)}}else{var o={loaded:false,dataCallbacks:[this.onDataLoaded],data:null,localized:H()};O[i]=o;var s=function e(t,r){F(t,{callbackName:"svgData"+i,success:function e(t){o.data=t;o.loaded=true;g.default.each(o.dataCallbacks,function(e){e(o.data,o.localized)})},error:r})};if(H()){s(U(this.props.src),function(e,t,r){o.localized=false;s(G(n.props.src),function(e,t,r){console.error("Data load failed:",G(n.props.src),r)})})}else{s(G(this.props.src),function(e,t,r){console.error("Data load failed:",G(n.props.src),r)})}}}},{key:"sizeProvided",value:function e(){return this.props.width!=null&&this.props.height!=null}},{key:"_tryGetPixels",value:function e(t){t=t||"";if(!t.endsWith("px")){return null}return parseFloat(t)||null}},{key:"render",value:function e(){var t=this.props.src;var r={alt:this.props.alt,title:this.props.title,tabIndex:"0"};if(this.props.alt&&this.props.overrideAriaHidden){r["aria-hidden"]=true}var n=this.props.width&&this.props.width*this.props.scale;var i=this.props.height&&this.props.height*this.props.scale;var a={width:n,height:i};var o=this.props.responsive&&!!(n&&i);var s;if(this.props.extraGraphie&&this.props.extraGraphie.labels.length){s=m.createElement(b.default,{box:this.props.extraGraphie.box,range:this.props.extraGraphie.range,options:{labels:this.props.extraGraphie.labels},responsive:true,addMouseLayer:false,setup:this.setupGraphie})}var l=this.props.preloader===undefined?Z:this.props.preloader;var c=l?function(){return l(a)}:null;if(!R(t)){if(o){var u=(0,v.default)({zoomable:(n||0)>D,"svg-image":true});r.onClick=this._handleZoomClick;return m.createElement(y.default,{className:u,width:n,height:i,constrainHeight:this.props.constrainHeight,allowFullBleed:this.props.allowFullBleed&&q(t)},m.createElement(w.default,{src:t,imgProps:r,preloader:c,onUpdate:this.handleUpdate}),s)}else{r.style=a;return m.createElement(w.default,{src:t,preloader:c,imgProps:r,onUpdate:this.handleUpdate})}}var h=z(t);var f;if(this.isLoadedInState(this.state)){var p;if(this.sizeProvided()){p=[n,i]}else if(this.state.imageDimensions){p=[this.state.imageDimensions[0]*this.props.scale,this.state.imageDimensions[1]*this.props.scale]}else{throw new Error("image has no dimensions")}var d=[40*this.props.scale,40*this.props.scale];f=m.createElement(b.default,{ref:"graphie",box:p,scale:d,range:this.state.range,options:g.default.pick(this.state,"labels"),responsive:o,addMouseLayer:false,setup:this.setupGraphie})}if(o){return m.createElement(y.default,{className:"svg-image",width:n,height:i,constrainHeight:this.props.constrainHeight},m.createElement(w.default,{src:h,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader:c,imgProps:r}),f,s)}else{r.style=a;return m.createElement("div",{className:"unresponsive-svg-image",style:a},m.createElement(w.default,{src:h,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader:c,imgProps:r}),f)}}}]);return t}(m.Component);I(W,"defaultProps",{constrainHeight:false,onUpdate:function e(){},responsive:true,src:"",scale:1,zoomToFullSizeOnMobile:false,setAssetStatus:function e(t,r){}});e.exports=W},yRmI:function(e,t,r){"use strict";r("2B1R");var _=r("F/us");var l=r("T2HF");var u=r("f3EM");var f=r("eAf/").vector;var h=r("eAf/").point;var p=r("XwLL");var c=function e(t){var r=t.graphie.scalePoint(t.coord(0));var n=t.graphie.scalePoint(t.coord(1));return f.polarDegFromCart(f.subtract(n,r))[1]};var d=function e(t,r,n){var i=t.range[0][1]-t.range[0][0];var a=t.range[1][1]-t.range[1][0];var o=i+a;var s=t.unscaleVector(f.cartFromPolarDeg([1,n]));var l=f.scale(f.normalize(s),o);var c=f.add(r,l);var u=f.polarDegFromCart(s)[1];var h=t.constrainToBoundsOnAngle(c,4,u*Math.PI/180);return h};var i=function e(n,t){var i=[.75,0];var r=[[-3,4],[-2.75,2.5],[0,.25],i,[0,-.25],[-2.75,-2.5],[-3,-4]];var a=1.4;r=_.map(r,function(e){var t=f.subtract(e,i);var r=f.scale(t,a);return f.add(i,r)});var o=function e(t){var r="M"+t[0][0]+" "+t[0][1];for(var n=1;n<t.length;n+=3){r+="C"+t[n][0]+" "+t[n][1]+" "+t[n+1][0]+" "+t[n+1][1]+" "+t[n+2][0]+" "+t[n+2][1]}return r};var s=_.map(r,n.unscalePoint);var l={center:n.unscalePoint(i),createPath:o};var c=new u(n,s,l);c.attr(_.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t));c.toCoordAtAngle=function(e,t){var r=n.scalePoint(d(n,e,t));c.transform("translateX("+(r[0]+a*i[0])+"px) "+"translateY("+(r[1]+a*i[1])+"px) "+"translateZ(0) "+"rotate("+(360-p.bound(t))+"deg)")};return c};var n={draw:function e(){this.draw()},pointsToFront:function e(t){_.invoke(t.points,"toFront")}};n.standard=[n.draw,n.pointsToFront];var a={draw:function e(){this.draw()}};a.standard=[a.draw];var o={basic:function e(t){var r=this.graphie;var n=this.coord(0);var i=this.coord(1);if(!this.state.visibleShape){var a={thickness:10};this.state.visibleShape=new l(r,n,i,a);this.state.visibleShape.attr(this.normalStyle());this.state.visibleShape.toFront();if(this.mouseTarget()){this.mouseTarget().toFront()}}var o=c(this);if(t.extendLine){n=d(r,n,360-o);i=d(r,i,(540-o)%360)}else if(t.extendRay){i=d(r,i,360-o)}var s=[this.state.visibleShape];if(this.mouseTarget()){s.push(this.mouseTarget())}_.each(s,function(e){e.moveTo(n,i)})},arrows:function e(t){if(this._arrows==null){this._arrows=[];if(t.extendLine){this._arrows.push(i(this.graphie,this.normalStyle()));this._arrows.push(i(this.graphie,this.normalStyle()))}else if(t.extendRay){this._arrows.push(i(this.graphie,this.normalStyle()))}}var r=c(this);var n=[360-r,(540-r)%360];_.each(this._arrows,function(e,t){e.toCoordAtAngle(this.coord(t),n[t])},this)},highlight:function e(t,r){if(t.isHovering&&!r.isHovering){t.visibleShape.animate(t.highlightStyle,50)}else if(!t.isHovering&&r.isHovering){t.visibleShape.animate(t.normalStyle,50)}}};o.standard=[o.basic,o.arrows,o.highlight];var s={basic:function e(){if(this.state.visibleShape){this.state.visibleShape.remove()}},arrows:function e(){if(this._arrows!=null){_.invoke(this._arrows,"remove")}this._arrows=null}};s.standard=[s.basic,s.arrows];var v={fixed:function e(){return function(){return false}},snap:function e(n){return function(e,t){if(n===null){return true}var r=f.subtract(e,t);n=n||this.graphie.snap;r=h.roundTo(r,n);return f.add(t,r)}},bound:function e(t,c,u){if(u===undefined){if(t===undefined){u=10}else{u=0}}return function(e,t){var r=this.graphie;var n=f.subtract(e,t);var i=i||r.range;if(c===undefined){c=r.snap}var a=r.unscalePoint([u,r.ypixels-u]);var o=r.unscalePoint([r.xpixels-u,u]);if(c){a=h.ceilTo(a,c);o=h.floorTo(o,c)}var s=_.map(this.coords(),function(e,t){var r=f.subtract(o,e);var n=f.subtract(a,e);return[n,r]});var l=_.reduce(s,function(e,t){var r=t[0];var n=t[1];var i=Math.max(r[0],Math.min(n[0],e[0]));var a=Math.max(r[1],Math.min(n[1],e[1]));return[i,a]},n);return f.add(t,l)}}};v.standard=null;var m={updatePoints:function e(t,r){var n=f.subtract(t,r);_.each(this.state.points,function(e){e.setCoord(f.add(e.coord(),n))})}};m.standard=null;e.exports={add:n,modify:a,draw:o,remove:s,onMoveStart:{standard:null},constraints:v,onMove:m,onMoveEnd:{standard:null}}},yfnS:function(e,t,r){"use strict";var n={BLUE:"#6495ED",ORANGE:"#FFA500",PINK:"#FF00AF",GREEN:"#28AE7B",PURPLE:"#9D38BD",RED:"#DF0030",GRAY:"gray",BLACK:"black",LIGHT_BLUE:"#9AB8ED",LIGHT_ORANGE:"#EDD19B",LIGHT_PINK:"#ED9BD3",LIGHT_GREEN:"#9BEDCE",LIGHT_PURPLE:"#DA9BED",LIGHT_RED:"#ED9AAC",LIGHT_GRAY:"#ED9B9B",LIGHT_BLACK:"#ED9B9B",GRAY10:"#D6D6D6",GRAY20:"#CDCDCD",GRAY30:"#B3B3B3",GRAY40:"#9A9A9A",GRAY50:"#808080",GRAY60:"#666666",GRAY70:"#4D4D4D",GRAY80:"#333333",GRAY90:"#1A1A1A",BLUE_A:"#CCFAFF",BLUE_B:"#80F6FF",BLUE_C:"#63D9EA",BLUE_D:"#11ACCD",BLUE_E:"#0C7F99",TEAL_A:"#94FFF5",TEAL_B:"#26EDD5",TEAL_C:"#01D1C1",TEAL_D:"#01A995",TEAL_E:"#208170",GREEN_A:"#B6FFB0",GREEN_B:"#8AF281",GREEN_C:"#74CF70",GREEN_D:"#1FAB54",GREEN_E:"#0D923F",GOLD_A:"#FFD0A9",GOLD_B:"#FFBB71",GOLD_C:"#FF9C39",GOLD_D:"#E07D10",GOLD_E:"#A75A05",RED_A:"#FCA9A9",RED_B:"#FF8482",RED_C:"#F9685D",RED_D:"#E84D39",RED_E:"#BC2612",MAROON_A:"#FFBDE0",MAROON_B:"#FF92C6",MAROON_C:"#ED5FA6",MAROON_D:"#CA337C",MAROON_E:"#9E034E",PURPLE_A:"#DDD7FF",PURPLE_B:"#C6B9FC",PURPLE_C:"#AA87FF",PURPLE_D:"#7854AB",PURPLE_E:"#543B78",MINT_A:"#F5F9E8",MINT_B:"#EDF2DF",MINT_C:"#E0E5CC",GRAY_A:"#F6F7F7",GRAY_B:"#F0F1F2",GRAY_C:"#E3E5E6",GRAY_D:"#D6D8DA",GRAY_E:"#BABEC2",GRAY_F:"#888D93",GRAY_G:"#626569",GRAY_H:"#3B3E40",GRAY_I:"#21242C",KA_BLUE:"#314453",KA_GREEN:"#71B307",_BACKGROUND:"#FDFDFD"};n.INTERACTING=n.KA_GREEN;n.INTERACTIVE=n.KA_GREEN;n.DYNAMIC=n.BLUE;e.exports=n}}]);
//# sourceMappingURL=../../sourcemaps/en/711e9223e8701d550b619af3b00dc401.2f859d4eeb16c7eb9637.js.map