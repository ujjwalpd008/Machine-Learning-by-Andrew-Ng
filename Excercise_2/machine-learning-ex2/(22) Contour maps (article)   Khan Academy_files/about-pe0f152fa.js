(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["./javascript/about-package/about-entry~./javascript/about-package/careers-entry~./javascript/about-p~e0f152fa"],{WGxL:function(e,r,t){"use strict";t("pNMO");t("ma9I");t("TeQF");t("yq1k");t("5DmW");t("07d7");t("5s+n");t("UxlC");t("hByQ");t("FZtP");Object.defineProperty(r,"__esModule",{value:true});r.verifyAndLinkOAuthAccount=r.USERNAME_VALIDATION_STRINGS=r.USERNAME_MAX_LENGTH=r.USERNAME_MIN_LENGTH=r.signupUnder13=r.signup=r.makeGoogleContinueObject=r.login=r.isUsernameAvailable=r.isUsernameValid=r.isEmailValid=r.getcontinueUrlFromQueryString=r.EMAIL_REGEX=r.cleverSignup=void 0;var n=s(t("WSEr"));var u=i(t("gXb0"));var o=t("skGw");var a=i(t("i4iA"));var c=i(t("/eLw"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var t in e){if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};if(n.get||n.set){Object.defineProperty(r,t,n)}else{r[t]=e[t]}}}}r.default=e;return r}}function l(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};var n=Object.keys(t);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))}n.forEach(function(e){f(r,e,t[e])})}return r}function f(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}var i18n=t("HEOz");var p=["/coaches"];var d=function e(){var r=(0,c.default)(window.location.search);var t=r.continue||"";var n=t.replace(location.protocol+"//","").replace(location.host,"");if(p.includes(n)||(0,c.default)(window.location.search).alwayscontinue){return n}return null};r.getcontinueUrlFromQueryString=d;var E=function e(){var r=(0,c.default)(window.location.search);var t="/postlogin";var n={type:"google",referral:r.referral?r.referral:""};var a=r.alwayscontinue;var o=d()||"/";return{createchild:"".concat(t,"?").concat((0,u.default)(l({},n,{isparent:1,continue:a?o:"/createchild"}))),teacher:"".concat(t,"?").concat((0,u.default)(l({},n,{isteacher:1,continue:a?o:"/coach"}))),parent:"".concat(t,"?").concat((0,u.default)(l({},n,{isparent:1,continue:a?o:"/parent"}))),default:"".concat(t,"?").concat((0,u.default)(l({},n,{continue:o})))}};r.makeGoogleContinueObject=E;function v(n,a){return function(e){return new Promise(function(r,t){return(0,o.khanFetch)(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,o.encodeParams)(a(e))}).then(function(e){return e.json()}).then(function(e){if(e.errors){t(e)}else{r(e)}}).catch(function(e){if(e.response){e.response.json().then(function(e){return t(e)}).catch(function(e){return t(e)})}else{t(e)}})})}}var h=v("/signup/under13",function(e){return e});r.signupUnder13=h;var O=v("/signup",function(e){return l({},e,{isteacher:e.role==="teacher"?1:0,isparent:e.role==="parent"?1:0})});r.signup=O;var A=v("/signup/clever",function(e){return e});r.cleverSignup=A;var g=v("/login",function(e){return e});r.login=g;var m=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;r.EMAIL_REGEX=m;var R=function e(r){return r&&m.test(r)};r.isEmailValid=R;var T=3;r.USERNAME_MIN_LENGTH=T;var w=40;r.USERNAME_MAX_LENGTH=w;var b={ALPHANUMERIC_ONLY:i18n._("Letters and numbers only."),GENERIC_ERROR:i18n.ngettext("Usernames must be alphanumeric, start with a letter, and         be %(min)s to %(num)s character long","Usernames must be alphanumeric, start with a letter, and         be %(min)s to %(num)s characters long",w,{min:T}),START_WITH_LETTER:i18n._("Start with a letter."),TOO_SHORT:i18n._("Too short."),TOO_LONG:i18n._("Too long."),UNAVAILABLE:i18n._("This username is unavailable."),UNEXPECTED_ERROR:i18n._("Something went wrong."),VALID:i18n._("Looks good!")};r.USERNAME_VALIDATION_STRINGS=b;var N=function e(r){switch(r){case"BAD_CHARACTERS":return b.GENERIC_ERROR;case"INTERNAL":return b.UNEXPECTED_ERROR;case"TOO_SHORT":return b.TOO_SHORT;case"UNAVAILABLE":return b.UNAVAILABLE;default:r;n.captureMessage("CheckUsernameError code not supported: ".concat(r));return b.GENERIC_ERROR}};var L=function e(r){var t=r.replace(/\./g,"").toLowerCase();if(t.length<T){return{result:false,reason:b.TOO_SHORT}}if(t.length>w){return{result:false,reason:b.TOO_LONG}}if(!/^[a-zA-Z]/.test(r)){return{result:false,reason:b.START_WITH_LETTER}}if(!/^[a-z0-9]+$/.test(t)){return{result:false,reason:b.ALPHANUMERIC_ONLY}}return{result:true,reason:b.VALID}};r.isUsernameValid=L;var y=function e(r){var t=L(r);if(!t.result){return Promise.resolve(t)}return(0,a.default)(r).then(function(e){var r=e.data;var t=r&&r.checkUsername&&r.checkUsername.error&&r.checkUsername.error.code;if(t){return{result:false,reason:N(t)}}return{result:true,reason:b.VALID}}).catch(function(e){n.captureMessage("An unexpected error occurred while validating a username                 (".concat(r,"): ").concat(e.message));return{result:false,reason:b.UNEXPECTED_ERROR}})};r.isUsernameAvailable=y;var U=function e(r){return new Promise(function(e,t){return(0,o.khanFetch)("/login/oauth/verify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,o.encodeParams)({password:r})}).then(function(){return e(true)}).catch(function(e){var r=e.response;if(r.status===400){t({badRequest:true})}else if(r.status===401){t({unauthorized:true})}else{t({error:true})}})})};r.verifyAndLinkOAuthAccount=U}}]);
//# sourceMappingURL=../../../../../../../../../sourcemaps/en/javascript/about-package/about-entry~./javascript/about-package/careers-entry~./javascript/about-p~e0f152fa.6901bbf59232f9ad8e6d.js.map